import{s as B,w as O,A as R,p as h,C as z,x as E,t as D,D as y,b as $,z as M,l as w,d as _,e as v,i as k,f as b,m as I,E as Q}from"./scheduler.ee52cacd.js";import{S as j,i as F,f as G,b as A,d as N,m as V,t as H,a as P,e as T}from"./index.a2391391.js";import{P as J,V as K}from"./index.550ce75a.js";import{M as L}from"./index.bf0b6763.js";import{u as q,v as S}from"./org.1ee4885a.js";import{s as U}from"./supabase.2c784bff.js";import{t as W}from"./translations.f943b7b3.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[e]="61d4287e-f553-4ced-a308-6929c3d8a18c",o._sentryDebugIdIdentifier="sentry-dbid-61d4287e-f553-4ced-a308-6929c3d8a18c")}catch{}})();function X(o){let e=o[2]("components.quiz.delete_quiz")+"",n;return{c(){n=D(e)},l(t){n=w(t,e)},m(t,a){k(t,n,a)},p(t,a){a&4&&e!==(e=t[2]("components.quiz.delete_quiz")+"")&&I(n,e)},d(t){t&&_(n)}}}function Y(o){let e=o[2]("components.quiz.delete_question")+"",n;return{c(){n=D(e)},l(t){n=w(t,e)},m(t,a){k(t,n,a)},p(t,a){a&4&&e!==(e=t[2]("components.quiz.delete_question")+"")&&I(n,e)},d(t){t&&_(n)}}}function Z(o){let e,n,t,a=o[2]("components.quiz.lose_content")+"",f,s,r,u,p;function g(l,c){return l[1].isQuestion?Y:X}let i=g(o),d=i(o);return u=new J({props:{className:"px-6 py-3",variant:K.CONTAINED,label:o[2]("components.quiz.delete"),onClick:o[5]}}),{c(){e=z("div"),n=z("h1"),d.c(),t=E(),f=D(a),s=E(),r=z("div"),A(u.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var c=$(e);n=y(c,"H1",{class:!0});var m=$(n);d.l(m),t=M(m),f=w(m,a),m.forEach(_),s=M(c),r=y(c,"DIV",{class:!0});var C=$(r);N(u.$$.fragment,C),C.forEach(_),c.forEach(_),this.h()},h(){v(n,"class","dark:text-white text-lg text-center"),v(r,"class","mt-5"),v(e,"class","w-full flex flex-col items-center my-10")},m(l,c){k(l,e,c),b(e,n),d.m(n,null),b(n,t),b(n,f),b(e,s),b(e,r),V(u,r,null),p=!0},p(l,c){i===(i=g(l))&&d?d.p(l,c):(d.d(1),d=i(l),d&&(d.c(),d.m(n,t))),(!p||c&4)&&a!==(a=l[2]("components.quiz.lose_content")+"")&&I(f,a);const m={};c&4&&(m.label=l[2]("components.quiz.delete")),c&3&&(m.onClick=l[5]),u.$set(m)},i(l){p||(H(u.$$.fragment,l),p=!0)},o(l){P(u.$$.fragment,l),p=!1},d(l){l&&_(e),d.d(),T(u)}}}function x(o){let e,n,t;function a(s){o[6](s)}let f={onClose:o[3],width:"w-2/5",modalHeading:o[1].isQuestion?o[2]("components.quiz.question_delete"):o[2]("components.quiz.quiz_delete"),size:"sm",$$slots:{default:[Z]},$$scope:{ctx:o}};return o[1].open!==void 0&&(f.open=o[1].open),e=new L({props:f}),O.push(()=>G(e,"open",a)),{c(){A(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,r){V(e,s,r),t=!0},p(s,[r]){const u={};r&6&&(u.modalHeading=s[1].isQuestion?s[2]("components.quiz.question_delete"):s[2]("components.quiz.quiz_delete")),r&263&&(u.$$scope={dirty:r,ctx:s}),!n&&r&2&&(n=!0,u.open=s[1].open,R(()=>n=!1)),e.$set(u)},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function ee(o,e,n){let t,a,f;h(o,q,i=>n(1,t=i)),h(o,S,i=>n(7,a=i)),h(o,W,i=>n(2,f=i));let{onDelete:s=()=>{}}=e;function r(){q.update(i=>({...i,open:!1,id:null,isQuestion:!1}))}async function u(){const{data:i,error:d}=await U.from("quiz").delete().match({id:t.id});console.log("data",i),console.log("error",d),!d&&(Q(S,a=a.filter(l=>l.id!==t.id),a),r())}const p=()=>{t.isQuestion?(s(),Q(q,t.open=!1,t)):u()};function g(i){o.$$.not_equal(t.open,i)&&(t.open=i,q.set(t))}return o.$$set=i=>{"onDelete"in i&&n(0,s=i.onDelete)},[s,t,f,r,u,p,g]}class re extends j{constructor(e){super(),F(this,e,ee,x,B,{onDelete:0})}}export{re as D};
//# sourceMappingURL=DeleteModal.ddab4f06.js.map
