{"version":3,"file":"DeleteModal.ddab4f06.js","sources":["../../../../../../src/lib/components/Org/Quiz/DeleteModal.svelte"],"sourcesContent":["<script>\n  import PrimaryButton from '$lib/components/PrimaryButton/index.svelte';\n  import { VARIANTS } from '$lib/components/PrimaryButton/constants';\n  import Modal from '$lib/components/Modal/index.svelte';\n  import { deleteModal, quizesStore } from '$lib/utils/store/org';\n  import { supabase } from '$lib/utils/functions/supabase';\n  import { t } from '$lib/utils/functions/translations';\n\n  export let onDelete = () => {};\n\n  function closeModal() {\n    deleteModal.update((m) => ({\n      ...m,\n      open: false,\n      id: null,\n      isQuestion: false\n    }));\n  }\n\n  async function deleteQuiz() {\n    const { data, error } = await supabase.from('quiz').delete().match({ id: $deleteModal.id });\n    console.log('data', data);\n    console.log('error', error);\n\n    if (error) {\n      return;\n    }\n\n    $quizesStore = $quizesStore.filter((q) => q.id !== $deleteModal.id);\n    closeModal();\n  }\n</script>\n\n<Modal\n  onClose={closeModal}\n  bind:open={$deleteModal.open}\n  width=\"w-2/5\"\n  modalHeading={$deleteModal.isQuestion\n    ? $t('components.quiz.question_delete')\n    : $t('components.quiz.quiz_delete')}\n  size=\"sm\"\n>\n  <div class=\"w-full flex flex-col items-center my-10\">\n    <h1 class=\"dark:text-white text-lg text-center\">\n      {#if $deleteModal.isQuestion}\n        {$t('components.quiz.delete_question')}\n      {:else}\n        {$t('components.quiz.delete_quiz')}\n      {/if}\n      {$t('components.quiz.lose_content')}\n    </h1>\n\n    <div class=\"mt-5\">\n      <PrimaryButton\n        className=\"px-6 py-3\"\n        variant={VARIANTS.CONTAINED}\n        label={$t('components.quiz.delete')}\n        onClick={() => {\n          if ($deleteModal.isQuestion) {\n            onDelete();\n            $deleteModal.open = false;\n          } else {\n            deleteQuiz();\n          }\n        }}\n      />\n    </div>\n  </div>\n</Modal>\n"],"names":["t_1_value","ctx","dirty","set_data","t_1","t1_value","create_if_block","VARIANTS","current","t1","primarybutton_changes","modal_props","modal_changes","data","error","supabase","$deleteModal","set_store_value","quizesStore","$quizesStore","q","$$self","value"],"mappings":"+xBA+CS,IAAAA,EAAAC,EAAA,CAAA,EAAA,6BAAA,EAAA,+DAAAC,EAAA,GAAAF,KAAAA,EAAAC,EAAA,CAAA,EAAA,6BAAA,EAAA,KAAAE,EAAAC,EAAAJ,CAAA,gCAFA,IAAAA,EAAAC,EAAA,CAAA,EAAA,iCAAA,EAAA,+DAAAC,EAAA,GAAAF,KAAAA,EAAAC,EAAA,CAAA,EAAA,iCAAA,EAAA,KAAAE,EAAAC,EAAAJ,CAAA,0CAIFK,EAAAJ,EAAA,CAAA,EAAA,8BAAA,EAAA,6BALI,OAAAA,EAAA,CAAA,EAAA,WAAAK,mEAWM,QAAAC,EAAA,UACF,MAAAN,EAAA,CAAA,EAAA,wBAAA,mlBAPR,CAAAO,GAAAN,EAAA,IAAAG,KAAAA,EAAAJ,EAAA,CAAA,EAAA,8BAAA,EAAA,KAAAE,EAAAM,EAAAJ,CAAA,aAOQH,EAAA,IAAAQ,EAAA,MAAAT,EAAA,CAAA,EAAA,wBAAA,+MAnBC,aAAAA,EAAA,CAAA,EAAA,WACVA,EAAA,CAAA,EAAA,iCAAA,EACAA,EAAA,CAAA,EAAA,6BAAA,mDAJO,OAAAA,EAAA,CAAA,EAAA,OAAA,SAAAU,EAAA,KAAAV,EAAA,CAAA,EAAA,6IAEGC,EAAA,IAAAU,EAAA,aAAAX,EAAA,CAAA,EAAA,WACVA,EAAA,CAAA,EAAA,iCAAA,EACAA,EAAA,CAAA,EAAA,6BAAA,qDAJOW,EAAA,KAAAX,EAAA,CAAA,EAAA,2PAtBP,KAAA,GACA,GAAA,KACA,WAAA,yBAKM,KAAA,CAAA,KAAAY,EAAA,MAAAC,CAAA,EAAA,MAAAC,EAAA,KAAA,MAAA,EAAA,OAAA,EAAA,MAAA,CAAA,GAAAC,EAAA,EAAA,CAAA,EACR,QAAA,IAAA,OAAAH,CAAA,EACA,QAAA,IAAA,QAAAC,CAAA,OAMAG,EAAAC,EAAAC,EAAAA,EAAA,OAAAC,GAAAA,EAAA,KAAAJ,EAAA,EAAA,EAAAG,CAAA,oBA8BUH,EAAA,qDAvBDK,EAAA,GAAA,UAAAL,EAAA,KAAAM,CAAA,IAAAN,EAAA,KAAAM"}