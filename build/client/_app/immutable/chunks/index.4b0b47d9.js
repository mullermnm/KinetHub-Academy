import{t as ge}from"./translations.f943b7b3.js";import{S as x,i as $,g as Y,a as I,c as K,t as h,f as z,b as O,d as j,m as R,e as U}from"./index.a2391391.js";import{s as ee,C as M,S as an,D as V,b as B,T as ln,d as A,e as C,i as X,n as ne,q as xe,x as F,z as H,f as D,u as $e,r as en,v as nn,t as ae,l as le,m as se,w as J,A as Z,X as sn,p as de,J as tn,N as be,a4 as he,Q as ve,a1 as Ne,o as re,g as ke}from"./scheduler.ee52cacd.js";import{e as fe}from"./each.4f9c2159.js";import{g as Ge,a as we}from"./spread.5cc747ed.js";import{P as ie,V as p}from"./index.550ce75a.js";import{T as Ie}from"./TextField.05bb724d.js";import{H as Ee}from"./HTMLRender.93b52c11.js";import{s as rn}from"./store.21c1b842.js";import{S as fn}from"./SkeletonText.4f748957.js";import{S as Ce}from"./SkeletonPlaceholder.85251fa5.js";import{T as on}from"./TextArea.af35e63e.js";import{Q as te}from"./index.523fac41.js";import{t as Se}from"./index.691cdcca.js";import{c as un}from"./store.f203a796.js";import{C as oe}from"./index.89e0ac82.js";import{s as me}from"./supabase.2c784bff.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[e]="4e22d088-a239-4694-b69d-432688ae818b",i._sentryDebugIdIdentifier="sentry-dbid-4e22d088-a239-4694-b69d-432688ae818b")}catch{}})();const ki={SUBMITTED:1,IN_PROGRESS:2,GRADED:3};function dn(i){let e,n;return{c(){e=M("div"),n=new an(!1),this.h()},l(t){e=V(t,"DIV",{class:!0});var s=B(e);n=ln(s,!1),s.forEach(A),this.h()},h(){n.a=null,C(e,"class","bg-gray-200 dark:bg-gray-500 p-5 rounded-md mb-3")},m(t,s){X(t,e,s),n.m(i[0],e)},p(t,[s]){s&1&&n.p(t[0])},i:ne,o:ne,d(t){t&&A(e)}}}function cn(i,e,n){let{code:t=""}=e;return i.$$set=s=>{"code"in s&&n(0,t=s.code)},[t]}class Pe extends x{constructor(e){super(),$(this,e,cn,dn,ee,{code:0})}}const gn=i=>({}),Te=i=>({});function mn(i){let e,n;return{c(){e=M("span"),n=ae(i[0]),this.h()},l(t){e=V(t,"SPAN",{class:!0});var s=B(e);n=le(s,i[0]),s.forEach(A),this.h()},h(){C(e,"class","dark:text-white ml-2")},m(t,s){X(t,e,s),D(e,n)},p(t,s){s&1&&se(n,t[0])},i:ne,o:ne,d(t){t&&A(e)}}}function _n(i){let e,n,t,s;function f(l){i[10](l)}let a={placeholder:"Your option",className:"ml-1",type:"text",onChange:i[7]};return i[0]!==void 0&&(a.value=i[0]),n=new Ie({props:a}),J.push(()=>z(n,"value",f)),{c(){e=M("div"),O(n.$$.fragment),this.h()},l(l){e=V(l,"DIV",{class:!0});var r=B(e);j(n.$$.fragment,r),r.forEach(A),this.h()},h(){C(e,"class","w-2/4")},m(l,r){X(l,e,r),R(n,e,null),s=!0},p(l,r){const d={};r&128&&(d.onChange=l[7]),!t&&r&1&&(t=!0,d.value=l[0],Z(()=>t=!1)),n.$set(d)},i(l){s||(h(n.$$.fragment,l),s=!0)},o(l){I(n.$$.fragment,l),s=!1},d(l){l&&A(e),U(n)}}}function bn(i){let e,n,t,s,f,a,l,r,d;const k=[_n,mn],G=[];function v(u,m){return u[4]?0:1}f=v(i),a=G[f]=k[f](i);const c=i[9].iconbutton,o=xe(c,i,i[8],Te);return{c(){e=M("label"),n=M("input"),s=F(),a.c(),l=F(),o&&o.c(),this.h()},l(u){e=V(u,"LABEL",{class:!0});var m=B(e);n=V(m,"INPUT",{class:!0,type:!0,name:!0}),s=H(m),a.l(m),l=H(m),o&&o.l(m),m.forEach(A),this.h()},h(){C(n,"class","form-radio"),C(n,"type","radio"),n.checked=i[2],C(n,"name",i[3]),n.value=i[1],n.disabled=t=i[5]||i[4],C(e,"class",r=i[6]+" inline-flex items-center w-full "+(i[5]?"cursor-not-allowed":"cursor-pointer"))},m(u,m){X(u,e,m),D(e,n),D(e,s),G[f].m(e,null),D(e,l),o&&o.m(e,null),d=!0},p(u,[m]){(!d||m&4)&&(n.checked=u[2]),(!d||m&8)&&C(n,"name",u[3]),(!d||m&2)&&(n.value=u[1]),(!d||m&48&&t!==(t=u[5]||u[4]))&&(n.disabled=t);let b=f;f=v(u),f===b?G[f].p(u,m):(Y(),I(G[b],1,1,()=>{G[b]=null}),K(),a=G[f],a?a.p(u,m):(a=G[f]=k[f](u),a.c()),h(a,1),a.m(e,l)),o&&o.p&&(!d||m&256)&&$e(o,c,u,u[8],d?nn(c,u[8],m,gn):en(u[8]),Te),(!d||m&96&&r!==(r=u[6]+" inline-flex items-center w-full "+(u[5]?"cursor-not-allowed":"cursor-pointer")))&&C(e,"class",r)},i(u){d||(h(a),h(o,u),d=!0)},o(u){I(a),I(o,u),d=!1},d(u){u&&A(e),G[f].d(),o&&o.d(u)}}}function hn(i,e,n){let{$$slots:t={},$$scope:s}=e,{label:f=""}=e,{value:a=""}=e,{checked:l=!1}=e,{name:r=""}=e,{isEditable:d=!1}=e,{disabled:k=!1}=e,{className:G=""}=e,{onChange:v=()=>{}}=e;function c(o){f=o,n(0,f)}return i.$$set=o=>{"label"in o&&n(0,f=o.label),"value"in o&&n(1,a=o.value),"checked"in o&&n(2,l=o.checked),"name"in o&&n(3,r=o.name),"isEditable"in o&&n(4,d=o.isEditable),"disabled"in o&&n(5,k=o.disabled),"className"in o&&n(6,G=o.className),"onChange"in o&&n(7,v=o.onChange),"$$scope"in o&&n(8,s=o.$$scope)},[f,a,l,r,d,k,G,v,s,t,c]}class vn extends x{constructor(e){super(),$(this,e,hn,bn,ee,{label:0,value:1,checked:2,name:3,isEditable:4,disabled:5,className:6,onChange:7})}}function kn(i){let e,n,t,s,f,a,l="/",r,d,k,G;function v(o){i[4](o)}let c={placeholder:i[3]("course.navItem.lessons.exercises.new_exercise_modal.points"),max:i[1],type:"number",className:"w-12",inputClassName:"h-10",isDisabled:i[2]};return i[0]!==void 0&&(c.value=i[0]),n=new Ie({props:c}),J.push(()=>z(n,"value",v)),{c(){e=M("div"),O(n.$$.fragment),s=F(),f=M("p"),a=M("span"),a.textContent=l,r=F(),d=M("span"),k=ae(i[1]),this.h()},l(o){e=V(o,"DIV",{class:!0});var u=B(e);j(n.$$.fragment,u),s=H(u),f=V(u,"P",{class:!0});var m=B(f);a=V(m,"SPAN",{class:!0,"data-svelte-h":!0}),sn(a)!=="svelte-3q8uiv"&&(a.textContent=l),r=H(m),d=V(m,"SPAN",{});var b=B(d);k=le(b,i[1]),b.forEach(A),m.forEach(A),u.forEach(A),this.h()},h(){C(a,"class","mr-1"),C(f,"class","dark:text-white ml-2 text-base flex items-center font-semibold"),C(e,"class","flex items-center font-semibold")},m(o,u){X(o,e,u),R(n,e,null),D(e,s),D(e,f),D(f,a),D(f,r),D(f,d),D(d,k),G=!0},p(o,[u]){const m={};u&8&&(m.placeholder=o[3]("course.navItem.lessons.exercises.new_exercise_modal.points")),u&2&&(m.max=o[1]),u&4&&(m.isDisabled=o[2]),!t&&u&1&&(t=!0,m.value=o[0],Z(()=>t=!1)),n.$set(m),(!G||u&2)&&se(k,o[1])},i(o){G||(h(n.$$.fragment,o),G=!0)},o(o){I(n.$$.fragment,o),G=!1},d(o){o&&A(e),U(n)}}}function Gn(i,e,n){let t;de(i,ge,r=>n(3,t=r));let{gradeMax:s=0}=e,{disableGrading:f=!1}=e,{grade:a=0}=e;function l(r){a=r,n(0,a),n(1,s)}return i.$$set=r=>{"gradeMax"in r&&n(1,s=r.gradeMax),"disableGrading"in r&&n(2,f=r.disableGrading),"grade"in r&&n(0,a=r.grade)},i.$$.update=()=>{i.$$.dirty&3&&a&&a>s&&(rn.error("grade cant be more than max value"),n(0,a=s))},[a,s,f,t,l]}class Ae extends x{constructor(e){super(),$(this,e,Gn,kn,ee,{gradeMax:1,disableGrading:2,grade:0})}}function wn(i){let e,n,t,s,f,a,l,r,d,k,G,v,c;return k=new ie({props:{variant:p.CONTAINED_SUCCESS,label:i[4]("course.navItem.submissions.grading_modal.accept_grade"),className:"rounded-none py-1 px-2",disablePadding:!0,onClick:i[3]}}),v=new ie({props:{variant:p.CONTAINED_DANGER,label:i[4]("course.navItem.submissions.grading_modal.reject_grade"),className:"rounded-none py-1 px-2",disablePadding:!0,onClick:i[2]}}),{c(){e=M("div"),n=M("div"),t=M("img"),f=F(),a=M("p"),l=ae(i[0]),r=F(),d=M("div"),O(k.$$.fragment),G=F(),O(v.$$.fragment),this.h()},l(o){e=V(o,"DIV",{class:!0});var u=B(e);n=V(u,"DIV",{class:!0});var m=B(n);t=V(m,"IMG",{src:!0,alt:!0}),f=H(m),a=V(m,"P",{class:!0});var b=B(a);l=le(b,i[0]),b.forEach(A),m.forEach(A),r=H(u),d=V(u,"DIV",{class:!0});var P=B(d);j(k.$$.fragment,P),G=H(P),j(v.$$.fragment,P),P.forEach(A),u.forEach(A),this.h()},h(){tn(t.src,s="/ai.svg")||C(t,"src",s),C(t,"alt","alt"),C(a,"class","font-normal text-sm"),C(n,"class","flex items-center space-x-4"),C(d,"class","flex space-x-2"),C(e,"class","flex items-start justify-between px-2 py-4")},m(o,u){X(o,e,u),D(e,n),D(n,t),D(n,f),D(n,a),D(a,l),D(e,r),D(e,d),R(k,d,null),D(d,G),R(v,d,null),c=!0},p(o,u){(!c||u&1)&&se(l,o[0]);const m={};u&16&&(m.label=o[4]("course.navItem.submissions.grading_modal.accept_grade")),u&8&&(m.onClick=o[3]),k.$set(m);const b={};u&16&&(b.label=o[4]("course.navItem.submissions.grading_modal.reject_grade")),u&4&&(b.onClick=o[2]),v.$set(b)},i(o){c||(h(k.$$.fragment,o),h(v.$$.fragment,o),c=!0)},o(o){I(k.$$.fragment,o),I(v.$$.fragment,o),c=!1},d(o){o&&A(e),U(k),U(v)}}}function In(i){let e,n,t,s,f,a,l,r,d,k,G,v,c;return l=new fn({props:{width:"100%",paragraph:!0,lines:3}}),k=new Ce({props:{style:"height: 2rem; width: 5rem;"}}),v=new Ce({props:{style:"height: 2rem; width: 5rem;"}}),{c(){e=M("div"),n=M("div"),t=M("img"),f=F(),a=M("div"),O(l.$$.fragment),r=F(),d=M("div"),O(k.$$.fragment),G=F(),O(v.$$.fragment),this.h()},l(o){e=V(o,"DIV",{class:!0});var u=B(e);n=V(u,"DIV",{class:!0});var m=B(n);t=V(m,"IMG",{src:!0,alt:!0,class:!0}),f=H(m),a=V(m,"DIV",{class:!0});var b=B(a);j(l.$$.fragment,b),b.forEach(A),m.forEach(A),r=H(u),d=V(u,"DIV",{class:!0});var P=B(d);j(k.$$.fragment,P),G=H(P),j(v.$$.fragment,P),P.forEach(A),u.forEach(A),this.h()},h(){tn(t.src,s="/ai.svg")||C(t,"src",s),C(t,"alt","alt"),C(t,"class","animate-pulse"),C(a,"class","w-full"),C(n,"class","w-full flex flex-row items-start space-x-4"),C(d,"class","flex space-x-2"),C(e,"class","flex w-full px-2 py-4")},m(o,u){X(o,e,u),D(e,n),D(n,t),D(n,f),D(n,a),R(l,a,null),D(e,r),D(e,d),R(k,d,null),D(d,G),R(v,d,null),c=!0},p:ne,i(o){c||(h(l.$$.fragment,o),h(k.$$.fragment,o),h(v.$$.fragment,o),c=!0)},o(o){I(l.$$.fragment,o),I(k.$$.fragment,o),I(v.$$.fragment,o),c=!1},d(o){o&&A(e),U(l),U(k),U(v)}}}function En(i){let e,n,t,s;const f=[In,wn],a=[];function l(r,d){return r[1]?0:1}return n=l(i),t=a[n]=f[n](i),{c(){e=M("div"),t.c(),this.h()},l(r){e=V(r,"DIV",{class:!0});var d=B(e);t.l(d),d.forEach(A),this.h()},h(){C(e,"class","border rounded-md")},m(r,d){X(r,e,d),a[n].m(e,null),s=!0},p(r,[d]){let k=n;n=l(r),n===k?a[n].p(r,d):(Y(),I(a[k],1,1,()=>{a[k]=null}),K(),t=a[n],t?t.p(r,d):(t=a[n]=f[n](r),t.c()),h(t,1),t.m(e,null))},i(r){s||(h(t),s=!0)},o(r){I(t),s=!1},d(r){r&&A(e),a[n].d()}}}function Pn(i,e,n){let t;de(i,ge,r=>n(4,t=r));let{reason:s=""}=e,{isLoading:f=!1}=e,{rejectGrade:a=()=>{}}=e,{acceptGrade:l=()=>{}}=e;return i.$$set=r=>{"reason"in r&&n(0,s=r.reason),"isLoading"in r&&n(1,f=r.isLoading),"rejectGrade"in r&&n(2,a=r.rejectGrade),"acceptGrade"in r&&n(3,l=r.acceptGrade)},[s,f,a,l,t]}class De extends x{constructor(e){super(),$(this,e,Pn,En,ee,{reason:0,isLoading:1,rejectGrade:2,acceptGrade:3})}}function An(i){let e,n,t,s,f,a;return{c(){e=M("span"),n=M("p"),t=ae(i[0]),s=F(),f=M("p"),a=ae(i[1]),this.h()},l(l){e=V(l,"SPAN",{class:!0});var r=B(e);n=V(r,"P",{class:!0});var d=B(n);t=le(d,i[0]),d.forEach(A),s=H(r),f=V(r,"P",{class:!0});var k=B(f);a=le(k,i[1]),k.forEach(A),r.forEach(A),this.h()},h(){C(n,"class","text-md font-medium"),C(f,"class","text-md font-medium"),C(e,"class","flex gap-2")},m(l,r){X(l,e,r),D(e,n),D(n,t),D(e,s),D(e,f),D(f,a)},p(l,[r]){r&1&&se(t,l[0]),r&2&&se(a,l[1])},i:ne,o:ne,d(l){l&&A(e)}}}function Dn(i,e,n){let{index:t}=e,{title:s}=e;return i.$$set=f=>{"index"in f&&n(0,t=f.index),"title"in f&&n(1,s=f.title)},[t,s]}class Le extends x{constructor(e){super(),$(this,e,Dn,An,ee,{index:0,title:1})}}function Me(i,e,n){const t=i.slice();return t[29]=e[n],t}function Ln(i){let e,n;return e=new Le({props:{index:i[2],title:i[1]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&4&&(f.index=t[2]),s[0]&2&&(f.title=t[1]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ve(i){let e,n,t;function s(a){i[28](a)}let f={gradeMax:i[12],disableGrading:i[13]};return i[0]!==void 0&&(f.grade=i[0]),e=new Ae({props:f}),J.push(()=>z(e,"grade",s)),{c(){O(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,l){R(e,a,l),t=!0},p(a,l){const r={};l[0]&4096&&(r.gradeMax=a[12]),l[0]&8192&&(r.disableGrading=a[13]),!n&&l[0]&1&&(n=!0,r.grade=a[0],Z(()=>n=!1)),e.$set(r)},i(a){t||(h(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function We(i){let e,n;return e=new Pe({props:{code:i[3]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&8&&(f.code=t[3]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Be(i){let e,n,t,s,f;return n=new vn({props:{className:"p-2",name:i[4],value:i[29].value,checked:i[6].includes(i[29].value)&&i[29].is_correct,label:i[29].label||i[29].value,disabled:i[8]}}),{c(){e=M("button"),O(n.$$.fragment),t=F(),this.h()},l(a){e=V(a,"BUTTON",{class:!0,type:!0});var l=B(e);j(n.$$.fragment,l),t=H(l),l.forEach(A),this.h()},h(){C(e,"class",s="cursor-pointer text-left my-2 border-2 border-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-neutral-800 w-full "+i[22](i[29])),C(e,"type","button")},m(a,l){X(a,e,l),R(n,e,null),D(e,t),f=!0},p(a,l){const r={};l[0]&16&&(r.name=a[4]),l[0]&32&&(r.value=a[29].value),l[0]&96&&(r.checked=a[6].includes(a[29].value)&&a[29].is_correct),l[0]&32&&(r.label=a[29].label||a[29].value),l[0]&256&&(r.disabled=a[8]),n.$set(r),(!f||l[0]&32&&s!==(s="cursor-pointer text-left my-2 border-2 border-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-neutral-800 w-full "+a[22](a[29])))&&C(e,"class",s)},i(a){f||(h(n.$$.fragment,a),f=!0)},o(a){I(n.$$.fragment,a),f=!1},d(a){a&&A(e),U(n)}}}function Oe(i){let e,n;return e=new De({props:{reason:i[15],isLoading:i[16],acceptGrade:i[23],rejectGrade:i[24]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&32768&&(f.reason=t[15]),s[0]&65536&&(f.isLoading=t[16]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function je(i){let e,n,t,s,f;return n=new ie({props:{onClick:i[21],label:i[19]("course.navItem.lessons.exercises.all_exercises.previous"),isDisabled:i[7],variant:p.OUTLINED}}),s=new ie({props:{variant:i[10].isActive?p.CONTAINED:p.OUTLINED,type:"submit",label:i[11]?i[19]("course.navItem.lessons.exercises.all_exercises.finish"):i[19]("course.navItem.lessons.exercises.all_exercises.next"),isDisabled:i[10].isDisabled,name:i[4]}}),{c(){e=M("div"),O(n.$$.fragment),t=F(),O(s.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var l=B(e);j(n.$$.fragment,l),t=H(l),j(s.$$.fragment,l),l.forEach(A),this.h()},h(){C(e,"class","mt-3 flex items-center justify-between w-full")},m(a,l){X(a,e,l),R(n,e,null),D(e,t),R(s,e,null),f=!0},p(a,l){const r={};l[0]&524288&&(r.label=a[19]("course.navItem.lessons.exercises.all_exercises.previous")),l[0]&128&&(r.isDisabled=a[7]),n.$set(r);const d={};l[0]&1024&&(d.variant=a[10].isActive?p.CONTAINED:p.OUTLINED),l[0]&526336&&(d.label=a[11]?a[19]("course.navItem.lessons.exercises.all_exercises.finish"):a[19]("course.navItem.lessons.exercises.all_exercises.next")),l[0]&1024&&(d.isDisabled=a[10].isDisabled),l[0]&16&&(d.name=a[4]),s.$set(d)},i(a){f||(h(n.$$.fragment,a),h(s.$$.fragment,a),f=!0)},o(a){I(n.$$.fragment,a),I(s.$$.fragment,a),f=!1},d(a){a&&A(e),U(n),U(s)}}}function qn(i){let e,n,t,s,f,a,l,r,d,k,G,v,c;t=new Ee({props:{className:"mt-4 "+(typeof i[0]=="number"&&"w-4/5"),disableMaxWidth:!0,$$slots:{content:[Ln]},$$scope:{ctx:i}}});let o=!i[17]&&Ve(i),u=i[3]&&We(i),m=fe(i[5]),b=[];for(let g=0;g<m.length;g+=1)b[g]=Be(Me(i,m,g));const P=g=>I(b[g],1,1,()=>{b[g]=null});let w=i[18]&&Oe(i),_=!i[9]&&je(i);return{c(){e=M("form"),n=M("div"),O(t.$$.fragment),s=F(),o&&o.c(),f=F(),u&&u.c(),a=F(),l=M("div");for(let g=0;g<b.length;g+=1)b[g].c();d=F(),w&&w.c(),k=F(),_&&_.c(),this.h()},l(g){e=V(g,"FORM",{});var E=B(e);n=V(E,"DIV",{class:!0});var T=B(n);j(t.$$.fragment,T),s=H(T),o&&o.l(T),T.forEach(A),f=H(E),u&&u.l(E),a=H(E),l=V(E,"DIV",{class:!0});var W=B(l);for(let Q=0;Q<b.length;Q+=1)b[Q].l(W);W.forEach(A),d=H(E),w&&w.l(E),k=H(E),_&&_.l(E),E.forEach(A),this.h()},h(){C(n,"class","flex items-center justify-between"),C(l,"class",r=i[14]?"":"ml-4")},m(g,E){X(g,e,E),D(e,n),R(t,n,null),D(n,s),o&&o.m(n,null),D(e,f),u&&u.m(e,null),D(e,a),D(e,l);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(l,null);D(e,d),w&&w.m(e,null),D(e,k),_&&_.m(e,null),G=!0,v||(c=be(e,"submit",he(i[20])),v=!0)},p(g,E){const T={};if(E[0]&1&&(T.className="mt-4 "+(typeof g[0]=="number"&&"w-4/5")),E[0]&6|E[1]&2&&(T.$$scope={dirty:E,ctx:g}),t.$set(T),g[17]?o&&(Y(),I(o,1,1,()=>{o=null}),K()):o?(o.p(g,E),E[0]&131072&&h(o,1)):(o=Ve(g),o.c(),h(o,1),o.m(n,null)),g[3]?u?(u.p(g,E),E[0]&8&&h(u,1)):(u=We(g),u.c(),h(u,1),u.m(e,a)):u&&(Y(),I(u,1,1,()=>{u=null}),K()),E[0]&4194672){m=fe(g[5]);let W;for(W=0;W<m.length;W+=1){const Q=Me(g,m,W);b[W]?(b[W].p(Q,E),h(b[W],1)):(b[W]=Be(Q),b[W].c(),h(b[W],1),b[W].m(l,null))}for(Y(),W=m.length;W<b.length;W+=1)P(W);K()}(!G||E[0]&16384&&r!==(r=g[14]?"":"ml-4"))&&C(l,"class",r),g[18]?w?(w.p(g,E),E[0]&262144&&h(w,1)):(w=Oe(g),w.c(),h(w,1),w.m(e,k)):w&&(Y(),I(w,1,1,()=>{w=null}),K()),g[9]?_&&(Y(),I(_,1,1,()=>{_=null}),K()):_?(_.p(g,E),E[0]&512&&h(_,1)):(_=je(g),_.c(),h(_,1),_.m(e,null))},i(g){if(!G){h(t.$$.fragment,g),h(o),h(u);for(let E=0;E<m.length;E+=1)h(b[E]);h(w),h(_),G=!0}},o(g){I(t.$$.fragment,g),I(o),I(u),b=b.filter(Boolean);for(let E=0;E<b.length;E+=1)I(b[E]);I(w),I(_),G=!1},d(g){g&&A(e),U(t),o&&o.d(),u&&u.d(),ve(b,g),w&&w.d(),_&&_.d(),v=!1,c()}}}function Nn(i,e){let n;const t=i.elements[e];for(let s=0,f=t.length;s<f;s++)if(t[s].checked){n=t[s].value;break}return n}function Cn(i,e,n){let t;de(i,ge,q=>n(19,t=q));let{title:s=""}=e,{index:f=1}=e,{code:a=""}=e,{name:l=""}=e,{options:r=[]}=e,{onSubmit:d=(q,qe)=>{}}=e,{onPrevious:k=()=>{}}=e,{defaultValue:G=""}=e,{disablePreviousButton:v=!1}=e,{disabled:c=!1}=e,{isPreview:o=!1}=e,{nextButtonProps:u={isDisabled:!1,isActive:!1}}=e,{isLast:m=!1}=e,{grade:b}=e,{gradeMax:P=0}=e,{disableGrading:w=!1}=e,{disableOptContainerMargin:_=!1}=e,{isGradeWithAI:g=!1}=e,{reason:E}=e,{isLoading:T=!1}=e,{hideGrading:W=!1}=e,Q=!1;function L(q){if(o)return;const qe=Nn(q.target,l);d(l,[qe]),q.target.reset()}function y(q){q.preventDefault(),k()}function ce(q){return G.includes(q.value)?q.is_correct?"border-green-700":"border-red-700":""}function S(){n(18,Q=!1)}function _e(){n(18,Q=!1),n(0,b=0)}function N(q){b=q,n(0,b)}return i.$$set=q=>{"title"in q&&n(1,s=q.title),"index"in q&&n(2,f=q.index),"code"in q&&n(3,a=q.code),"name"in q&&n(4,l=q.name),"options"in q&&n(5,r=q.options),"onSubmit"in q&&n(25,d=q.onSubmit),"onPrevious"in q&&n(26,k=q.onPrevious),"defaultValue"in q&&n(6,G=q.defaultValue),"disablePreviousButton"in q&&n(7,v=q.disablePreviousButton),"disabled"in q&&n(8,c=q.disabled),"isPreview"in q&&n(9,o=q.isPreview),"nextButtonProps"in q&&n(10,u=q.nextButtonProps),"isLast"in q&&n(11,m=q.isLast),"grade"in q&&n(0,b=q.grade),"gradeMax"in q&&n(12,P=q.gradeMax),"disableGrading"in q&&n(13,w=q.disableGrading),"disableOptContainerMargin"in q&&n(14,_=q.disableOptContainerMargin),"isGradeWithAI"in q&&n(27,g=q.isGradeWithAI),"reason"in q&&n(15,E=q.reason),"isLoading"in q&&n(16,T=q.isLoading),"hideGrading"in q&&n(17,W=q.hideGrading)},i.$$.update=()=>{i.$$.dirty[0]&134217728&&n(18,Q=g)},[b,s,f,a,l,r,G,v,c,o,u,m,P,w,_,E,T,W,Q,t,L,y,ce,S,_e,d,k,g,N]}class Sn extends x{constructor(e){super(),$(this,e,Cn,qn,ee,{title:1,index:2,code:3,name:4,options:5,onSubmit:25,onPrevious:26,defaultValue:6,disablePreviousButton:7,disabled:8,isPreview:9,nextButtonProps:10,isLast:11,grade:0,gradeMax:12,disableGrading:13,disableOptContainerMargin:14,isGradeWithAI:27,reason:15,isLoading:16,hideGrading:17},null,[-1,-1])}}const Tn=i=>({}),Re=i=>({});function Mn(i){let e,n;return{c(){e=M("span"),n=ae(i[0]),this.h()},l(t){e=V(t,"SPAN",{class:!0});var s=B(e);n=le(s,i[0]),s.forEach(A),this.h()},h(){C(e,"class","dark:text-white ml-2")},m(t,s){X(t,e,s),D(e,n)},p(t,s){s&1&&se(n,t[0])},i:ne,o:ne,d(t){t&&A(e)}}}function Vn(i){let e,n,t,s;function f(l){i[11](l)}let a={placeholder:"Your option",className:"ml-1",type:"text",onChange:i[7]};return i[0]!==void 0&&(a.value=i[0]),n=new Ie({props:a}),J.push(()=>z(n,"value",f)),{c(){e=M("div"),O(n.$$.fragment),this.h()},l(l){e=V(l,"DIV",{class:!0});var r=B(e);j(n.$$.fragment,r),r.forEach(A),this.h()},h(){C(e,"class","w-2/4")},m(l,r){X(l,e,r),R(n,e,null),s=!0},p(l,r){const d={};r&128&&(d.onChange=l[7]),!t&&r&1&&(t=!0,d.value=l[0],Z(()=>t=!1)),n.$set(d)},i(l){s||(h(n.$$.fragment,l),s=!0)},o(l){I(n.$$.fragment,l),s=!1},d(l){l&&A(e),U(n)}}}function Wn(i){let e,n,t,s,f,a,l,r,d,k,G;const v=[Vn,Mn],c=[];function o(b,P){return b[4]?0:1}f=o(i),a=c[f]=v[f](i);const u=i[9].iconbutton,m=xe(u,i,i[8],Re);return{c(){e=M("label"),n=M("input"),s=F(),a.c(),l=F(),m&&m.c(),this.h()},l(b){e=V(b,"LABEL",{class:!0});var P=B(e);n=V(P,"INPUT",{type:!0,class:!0,name:!0}),s=H(P),a.l(P),l=H(P),m&&m.l(P),P.forEach(A),this.h()},h(){C(n,"type","checkbox"),C(n,"class","rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50"),C(n,"name",i[3]),n.__value=i[2],Ne(n,n.__value),n.disabled=t=i[5]||i[4],C(e,"class",r=i[6]+" inline-flex items-center w-full "+(i[5]?"cursor-not-allowed":"cursor-pointer"))},m(b,P){X(b,e,P),D(e,n),n.checked=i[1],D(e,s),c[f].m(e,null),D(e,l),m&&m.m(e,null),d=!0,k||(G=be(n,"change",i[10]),k=!0)},p(b,[P]){(!d||P&8)&&C(n,"name",b[3]),(!d||P&4)&&(n.__value=b[2],Ne(n,n.__value)),(!d||P&48&&t!==(t=b[5]||b[4]))&&(n.disabled=t),P&2&&(n.checked=b[1]);let w=f;f=o(b),f===w?c[f].p(b,P):(Y(),I(c[w],1,1,()=>{c[w]=null}),K(),a=c[f],a?a.p(b,P):(a=c[f]=v[f](b),a.c()),h(a,1),a.m(e,l)),m&&m.p&&(!d||P&256)&&$e(m,u,b,b[8],d?nn(u,b[8],P,Tn):en(b[8]),Re),(!d||P&96&&r!==(r=b[6]+" inline-flex items-center w-full "+(b[5]?"cursor-not-allowed":"cursor-pointer")))&&C(e,"class",r)},i(b){d||(h(a),h(m,b),d=!0)},o(b){I(a),I(m,b),d=!1},d(b){b&&A(e),c[f].d(),m&&m.d(b),k=!1,G()}}}function Bn(i,e,n){let{$$slots:t={},$$scope:s}=e,{label:f=""}=e,{value:a=""}=e,{checked:l=!1}=e,{name:r=""}=e,{isEditable:d=!1}=e,{disabled:k=!1}=e,{className:G=""}=e,{onChange:v=()=>{}}=e;function c(){l=this.checked,n(1,l)}function o(u){f=u,n(0,f)}return i.$$set=u=>{"label"in u&&n(0,f=u.label),"value"in u&&n(2,a=u.value),"checked"in u&&n(1,l=u.checked),"name"in u&&n(3,r=u.name),"isEditable"in u&&n(4,d=u.isEditable),"disabled"in u&&n(5,k=u.disabled),"className"in u&&n(6,G=u.className),"onChange"in u&&n(7,v=u.onChange),"$$scope"in u&&n(8,s=u.$$scope)},[f,l,a,r,d,k,G,v,s,t,c,o]}class On extends x{constructor(e){super(),$(this,e,Bn,Wn,ee,{label:0,value:2,checked:1,name:3,isEditable:4,disabled:5,className:6,onChange:7})}}function Ue(i,e,n){const t=i.slice();return t[28]=e[n],t}function jn(i){let e,n;return e=new Le({props:{index:i[2],title:i[1]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&4&&(f.index=t[2]),s[0]&2&&(f.title=t[1]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Fe(i){let e,n,t;function s(a){i[27](a)}let f={gradeMax:i[12],disableGrading:i[13]};return i[0]!==void 0&&(f.grade=i[0]),e=new Ae({props:f}),J.push(()=>z(e,"grade",s)),{c(){O(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,l){R(e,a,l),t=!0},p(a,l){const r={};l[0]&4096&&(r.gradeMax=a[12]),l[0]&8192&&(r.disableGrading=a[13]),!n&&l[0]&1&&(n=!0,r.grade=a[0],Z(()=>n=!1)),e.$set(r)},i(a){t||(h(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function He(i){let e,n;return e=new Pe({props:{code:i[3]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&8&&(f.code=t[3]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Xe(i){let e,n,t,s,f;return n=new On({props:{name:i[4],className:"p-2",value:i[28].value,checked:i[6].includes(i[28].value),label:i[28].label||i[28].value,disabled:i[9]}}),{c(){e=M("button"),O(n.$$.fragment),t=F(),this.h()},l(a){e=V(a,"BUTTON",{class:!0,type:!0});var l=B(e);j(n.$$.fragment,l),t=H(l),l.forEach(A),this.h()},h(){C(e,"class",s="cursor-pointer text-left my-2 border-2 border-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-neutral-800 w-full "+i[21](i[28])),C(e,"type","button")},m(a,l){X(a,e,l),R(n,e,null),D(e,t),f=!0},p(a,l){const r={};l[0]&16&&(r.name=a[4]),l[0]&32&&(r.value=a[28].value),l[0]&96&&(r.checked=a[6].includes(a[28].value)),l[0]&32&&(r.label=a[28].label||a[28].value),l[0]&512&&(r.disabled=a[9]),n.$set(r),(!f||l[0]&32&&s!==(s="cursor-pointer text-left my-2 border-2 border-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-neutral-800 w-full "+a[21](a[28])))&&C(e,"class",s)},i(a){f||(h(n.$$.fragment,a),f=!0)},o(a){I(n.$$.fragment,a),f=!1},d(a){a&&A(e),U(n)}}}function ye(i){let e,n;return e=new De({props:{reason:i[14],isLoading:i[15],acceptGrade:i[22],rejectGrade:i[23]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s[0]&16384&&(f.reason=t[14]),s[0]&32768&&(f.isLoading=t[15]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ye(i){let e,n,t,s,f;return n=new ie({props:{onClick:i[20],label:i[18]("course.navItem.lessons.exercises.all_exercises.previous"),isDisabled:i[7],variant:p.OUTLINED}}),s=new ie({props:{variant:i[11].isActive?p.CONTAINED:p.OUTLINED,type:"submit",label:i[8]?i[18]("course.navItem.lessons.exercises.all_exercises.finish"):i[18]("course.navItem.lessons.exercises.all_exercises.next"),isDisabled:i[11].isDisabled,name:i[4]}}),{c(){e=M("div"),O(n.$$.fragment),t=F(),O(s.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var l=B(e);j(n.$$.fragment,l),t=H(l),j(s.$$.fragment,l),l.forEach(A),this.h()},h(){C(e,"class","mt-3 flex items-center justify-between w-full")},m(a,l){X(a,e,l),R(n,e,null),D(e,t),R(s,e,null),f=!0},p(a,l){const r={};l[0]&262144&&(r.label=a[18]("course.navItem.lessons.exercises.all_exercises.previous")),l[0]&128&&(r.isDisabled=a[7]),n.$set(r);const d={};l[0]&2048&&(d.variant=a[11].isActive?p.CONTAINED:p.OUTLINED),l[0]&262400&&(d.label=a[8]?a[18]("course.navItem.lessons.exercises.all_exercises.finish"):a[18]("course.navItem.lessons.exercises.all_exercises.next")),l[0]&2048&&(d.isDisabled=a[11].isDisabled),l[0]&16&&(d.name=a[4]),s.$set(d)},i(a){f||(h(n.$$.fragment,a),h(s.$$.fragment,a),f=!0)},o(a){I(n.$$.fragment,a),I(s.$$.fragment,a),f=!1},d(a){a&&A(e),U(n),U(s)}}}function Rn(i){let e,n,t,s,f,a,l,r,d,k,G,v;t=new Ee({props:{className:"mt-4 "+(typeof i[0]=="number"&&"w-4/5"),disableMaxWidth:!0,$$slots:{content:[jn]},$$scope:{ctx:i}}});let c=!i[16]&&Fe(i),o=i[3]&&He(i),u=fe(i[5]),m=[];for(let _=0;_<u.length;_+=1)m[_]=Xe(Ue(i,u,_));const b=_=>I(m[_],1,1,()=>{m[_]=null});let P=i[17]&&ye(i),w=!i[10]&&Ye(i);return{c(){e=M("form"),n=M("div"),O(t.$$.fragment),s=F(),c&&c.c(),f=F(),o&&o.c(),a=F(),l=M("div");for(let _=0;_<m.length;_+=1)m[_].c();r=F(),P&&P.c(),d=F(),w&&w.c(),this.h()},l(_){e=V(_,"FORM",{});var g=B(e);n=V(g,"DIV",{class:!0});var E=B(n);j(t.$$.fragment,E),s=H(E),c&&c.l(E),E.forEach(A),f=H(g),o&&o.l(g),a=H(g),l=V(g,"DIV",{class:!0});var T=B(l);for(let W=0;W<m.length;W+=1)m[W].l(T);T.forEach(A),r=H(g),P&&P.l(g),d=H(g),w&&w.l(g),g.forEach(A),this.h()},h(){C(n,"class","flex items-center justify-between"),C(l,"class","ml-4")},m(_,g){X(_,e,g),D(e,n),R(t,n,null),D(n,s),c&&c.m(n,null),D(e,f),o&&o.m(e,null),D(e,a),D(e,l);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(l,null);D(e,r),P&&P.m(e,null),D(e,d),w&&w.m(e,null),k=!0,G||(v=be(e,"submit",he(i[19])),G=!0)},p(_,g){const E={};if(g[0]&1&&(E.className="mt-4 "+(typeof _[0]=="number"&&"w-4/5")),g[0]&6|g[1]&1&&(E.$$scope={dirty:g,ctx:_}),t.$set(E),_[16]?c&&(Y(),I(c,1,1,()=>{c=null}),K()):c?(c.p(_,g),g[0]&65536&&h(c,1)):(c=Fe(_),c.c(),h(c,1),c.m(n,null)),_[3]?o?(o.p(_,g),g[0]&8&&h(o,1)):(o=He(_),o.c(),h(o,1),o.m(e,a)):o&&(Y(),I(o,1,1,()=>{o=null}),K()),g[0]&2097776){u=fe(_[5]);let T;for(T=0;T<u.length;T+=1){const W=Ue(_,u,T);m[T]?(m[T].p(W,g),h(m[T],1)):(m[T]=Xe(W),m[T].c(),h(m[T],1),m[T].m(l,null))}for(Y(),T=u.length;T<m.length;T+=1)b(T);K()}_[17]?P?(P.p(_,g),g[0]&131072&&h(P,1)):(P=ye(_),P.c(),h(P,1),P.m(e,d)):P&&(Y(),I(P,1,1,()=>{P=null}),K()),_[10]?w&&(Y(),I(w,1,1,()=>{w=null}),K()):w?(w.p(_,g),g[0]&1024&&h(w,1)):(w=Ye(_),w.c(),h(w,1),w.m(e,null))},i(_){if(!k){h(t.$$.fragment,_),h(c),h(o);for(let g=0;g<u.length;g+=1)h(m[g]);h(P),h(w),k=!0}},o(_){I(t.$$.fragment,_),I(c),I(o),m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)I(m[g]);I(P),I(w),k=!1},d(_){_&&A(e),U(t),c&&c.d(),o&&o.d(),ve(m,_),P&&P.d(),w&&w.d(),G=!1,v()}}}function Un(i,e){let n=[];const t=i.elements[e];for(let s=0,f=t.length;s<f;s++)t[s].checked&&n.push(t[s].value);return n}function Fn(i,e,n){let t;de(i,ge,N=>n(18,t=N));let{title:s=""}=e,{index:f=1}=e,{code:a}=e,{name:l=""}=e,{options:r=[]}=e,{onSubmit:d=(N,q)=>{}}=e,{onPrevious:k=()=>{}}=e,{defaultValue:G=[]}=e,{disablePreviousButton:v=!1}=e,{isLast:c=!1}=e,{disabled:o=!1}=e,{isPreview:u=!1}=e,{nextButtonProps:m={isDisabled:!1,isActive:!1}}=e,{grade:b}=e,{gradeMax:P=0}=e,{disableGrading:w=!1}=e,{isGradeWithAI:_=!1}=e,{reason:g}=e,{isLoading:E=!1}=e,{hideGrading:T=!1}=e,W=!1;function Q(N){if(u)return;const q=Un(N.target,l);d(l,q),N.target.reset()}function L(N){N.preventDefault(),k()}function y(N){return G.includes(N.value)?N.is_correct?"border-green-700":"border-red-700":""}function ce(){n(17,W=!1)}function S(){n(17,W=!1),n(0,b=0)}function _e(N){b=N,n(0,b)}return i.$$set=N=>{"title"in N&&n(1,s=N.title),"index"in N&&n(2,f=N.index),"code"in N&&n(3,a=N.code),"name"in N&&n(4,l=N.name),"options"in N&&n(5,r=N.options),"onSubmit"in N&&n(24,d=N.onSubmit),"onPrevious"in N&&n(25,k=N.onPrevious),"defaultValue"in N&&n(6,G=N.defaultValue),"disablePreviousButton"in N&&n(7,v=N.disablePreviousButton),"isLast"in N&&n(8,c=N.isLast),"disabled"in N&&n(9,o=N.disabled),"isPreview"in N&&n(10,u=N.isPreview),"nextButtonProps"in N&&n(11,m=N.nextButtonProps),"grade"in N&&n(0,b=N.grade),"gradeMax"in N&&n(12,P=N.gradeMax),"disableGrading"in N&&n(13,w=N.disableGrading),"isGradeWithAI"in N&&n(26,_=N.isGradeWithAI),"reason"in N&&n(14,g=N.reason),"isLoading"in N&&n(15,E=N.isLoading),"hideGrading"in N&&n(16,T=N.hideGrading)},i.$$.update=()=>{i.$$.dirty[0]&67108864&&n(17,W=_)},[b,s,f,a,l,r,G,v,c,o,u,m,P,w,g,E,T,W,t,Q,L,y,ce,S,d,k,_,_e]}class Hn extends x{constructor(e){super(),$(this,e,Fn,Rn,ee,{title:1,index:2,code:3,name:4,options:5,onSubmit:24,onPrevious:25,defaultValue:6,disablePreviousButton:7,isLast:8,disabled:9,isPreview:10,nextButtonProps:11,grade:0,gradeMax:12,disableGrading:13,isGradeWithAI:26,reason:14,isLoading:15,hideGrading:16},null,[-1,-1])}}function Xn(i){let e,n;return e=new Le({props:{index:i[3],title:i[2]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s&8&&(f.index=t[3]),s&4&&(f.title=t[2]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ke(i){let e,n,t;function s(a){i[24](a)}let f={gradeMax:i[10],disableGrading:i[11]};return i[1]!==void 0&&(f.grade=i[1]),e=new Ae({props:f}),J.push(()=>z(e,"grade",s)),{c(){O(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,l){R(e,a,l),t=!0},p(a,l){const r={};l&1024&&(r.gradeMax=a[10]),l&2048&&(r.disableGrading=a[11]),!n&&l&2&&(n=!0,r.grade=a[1],Z(()=>n=!1)),e.$set(r)},i(a){t||(h(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function ze(i){let e,n;return e=new Pe({props:{code:i[4]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s&16&&(f.code=t[4]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function yn(i){let e,n,t;function s(a){i[25](a)}let f={rows:5,placeholder:i[16]("course.navItem.lessons.exercises.all_exercises.write_your_answer_here")};return i[0]!==void 0&&(f.value=i[0]),e=new on({props:f}),J.push(()=>z(e,"value",s)),{c(){O(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,l){R(e,a,l),t=!0},p(a,l){const r={};l&65536&&(r.placeholder=a[16]("course.navItem.lessons.exercises.all_exercises.write_your_answer_here")),!n&&l&1&&(n=!0,r.value=a[0],Z(()=>n=!1)),e.$set(r)},i(a){t||(h(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){U(e,a)}}}function Yn(i){let e,n=(i[0]===""?i[16]("course.navItem.lessons.exercises.all_exercises.no_answer"):i[0])+"",t,s,f,a,l=i[15]&&Je(i);return{c(){e=M("div"),t=ae(n),s=F(),l&&l.c(),f=re(),this.h()},l(r){e=V(r,"DIV",{class:!0});var d=B(e);t=le(d,n),d.forEach(A),s=H(r),l&&l.l(r),f=re(),this.h()},h(){C(e,"class","bg-gray-200 dark:bg-gray-500 py-3 px-5 rounded-md mb-3")},m(r,d){X(r,e,d),D(e,t),X(r,s,d),l&&l.m(r,d),X(r,f,d),a=!0},p(r,d){(!a||d&65537)&&n!==(n=(r[0]===""?r[16]("course.navItem.lessons.exercises.all_exercises.no_answer"):r[0])+"")&&se(t,n),r[15]?l?(l.p(r,d),d&32768&&h(l,1)):(l=Je(r),l.c(),h(l,1),l.m(f.parentNode,f)):l&&(Y(),I(l,1,1,()=>{l=null}),K())},i(r){a||(h(l),a=!0)},o(r){I(l),a=!1},d(r){r&&(A(e),A(s),A(f)),l&&l.d(r)}}}function Je(i){let e,n;return e=new De({props:{reason:i[12],isLoading:i[13],acceptGrade:i[19],rejectGrade:i[20]}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){R(e,t,s),n=!0},p(t,s){const f={};s&4096&&(f.reason=t[12]),s&8192&&(f.isLoading=t[13]),e.$set(f)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ze(i){let e,n,t,s,f;return n=new ie({props:{variant:p.OUTLINED,onClick:i[18],label:i[16]("course.navItem.lessons.exercises.all_exercises.previous"),isDisabled:i[6]}}),s=new ie({props:{variant:p.OUTLINED,type:"submit",label:i[7]?i[16]("course.navItem.lessons.exercises.all_exercises.finish"):i[16]("course.navItem.lessons.exercises.all_exercises.next"),name:i[5]}}),{c(){e=M("div"),O(n.$$.fragment),t=F(),O(s.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var l=B(e);j(n.$$.fragment,l),t=H(l),j(s.$$.fragment,l),l.forEach(A),this.h()},h(){C(e,"class","mt-3 flex items-center justify-between w-full")},m(a,l){X(a,e,l),R(n,e,null),D(e,t),R(s,e,null),f=!0},p(a,l){const r={};l&65536&&(r.label=a[16]("course.navItem.lessons.exercises.all_exercises.previous")),l&64&&(r.isDisabled=a[6]),n.$set(r);const d={};l&65664&&(d.label=a[7]?a[16]("course.navItem.lessons.exercises.all_exercises.finish"):a[16]("course.navItem.lessons.exercises.all_exercises.next")),l&32&&(d.name=a[5]),s.$set(d)},i(a){f||(h(n.$$.fragment,a),h(s.$$.fragment,a),f=!0)},o(a){I(n.$$.fragment,a),I(s.$$.fragment,a),f=!1},d(a){a&&A(e),U(n),U(s)}}}function Kn(i){let e,n,t,s,f,a,l,r,d,k,G,v,c;t=new Ee({props:{className:"mt-4 "+(typeof i[1]=="number"&&"w-4/5"),disableMaxWidth:!0,$$slots:{content:[Xn]},$$scope:{ctx:i}}});let o=!i[14]&&Ke(i),u=i[4]&&ze(i);const m=[Yn,yn],b=[];function P(_,g){return _[9]?0:1}r=P(i),d=b[r]=m[r](i);let w=!i[8]&&Ze(i);return{c(){e=M("form"),n=M("div"),O(t.$$.fragment),s=F(),o&&o.c(),f=F(),u&&u.c(),a=F(),l=M("div"),d.c(),k=F(),w&&w.c(),this.h()},l(_){e=V(_,"FORM",{});var g=B(e);n=V(g,"DIV",{class:!0});var E=B(n);j(t.$$.fragment,E),s=H(E),o&&o.l(E),E.forEach(A),f=H(g),u&&u.l(g),a=H(g),l=V(g,"DIV",{class:!0});var T=B(l);d.l(T),T.forEach(A),k=H(g),w&&w.l(g),g.forEach(A),this.h()},h(){C(n,"class","flex items-center justify-between mb-2"),C(l,"class","ml-4")},m(_,g){X(_,e,g),D(e,n),R(t,n,null),D(n,s),o&&o.m(n,null),D(e,f),u&&u.m(e,null),D(e,a),D(e,l),b[r].m(l,null),D(e,k),w&&w.m(e,null),G=!0,v||(c=be(e,"submit",he(i[17])),v=!0)},p(_,[g]){const E={};g&2&&(E.className="mt-4 "+(typeof _[1]=="number"&&"w-4/5")),g&67108876&&(E.$$scope={dirty:g,ctx:_}),t.$set(E),_[14]?o&&(Y(),I(o,1,1,()=>{o=null}),K()):o?(o.p(_,g),g&16384&&h(o,1)):(o=Ke(_),o.c(),h(o,1),o.m(n,null)),_[4]?u?(u.p(_,g),g&16&&h(u,1)):(u=ze(_),u.c(),h(u,1),u.m(e,a)):u&&(Y(),I(u,1,1,()=>{u=null}),K());let T=r;r=P(_),r===T?b[r].p(_,g):(Y(),I(b[T],1,1,()=>{b[T]=null}),K(),d=b[r],d?d.p(_,g):(d=b[r]=m[r](_),d.c()),h(d,1),d.m(l,null)),_[8]?w&&(Y(),I(w,1,1,()=>{w=null}),K()):w?(w.p(_,g),g&256&&h(w,1)):(w=Ze(_),w.c(),h(w,1),w.m(e,null))},i(_){G||(h(t.$$.fragment,_),h(o),h(u),h(d),h(w),G=!0)},o(_){I(t.$$.fragment,_),I(o),I(u),I(d),I(w),G=!1},d(_){_&&A(e),U(t),o&&o.d(),u&&u.d(),b[r].d(),w&&w.d(),v=!1,c()}}}function zn(i,e,n){let t;de(i,ge,S=>n(16,t=S));let{title:s=""}=e,{index:f=1}=e,{code:a=""}=e,{name:l=""}=e,{onSubmit:r=(S,_e)=>{}}=e,{onPrevious:d=()=>{}}=e,{defaultValue:k=""}=e,{disablePreviousButton:G=!1}=e,{isLast:v=!1}=e,{isPreview:c=!1}=e,{disabled:o=!1}=e,{grade:u}=e,{gradeMax:m=0}=e,{disableGrading:b=!1}=e,{isGradeWithAI:P=!1}=e,{reason:w}=e,{isLoading:_=!1}=e,{hideGrading:g=!1}=e,E=!1;function T(S){c||r(l,k)}function W(S){S.preventDefault(),d()}function Q(){n(15,E=!1)}function L(){n(15,E=!1),n(1,u=0)}function y(S){u=S,n(1,u)}function ce(S){k=S,n(0,k)}return i.$$set=S=>{"title"in S&&n(2,s=S.title),"index"in S&&n(3,f=S.index),"code"in S&&n(4,a=S.code),"name"in S&&n(5,l=S.name),"onSubmit"in S&&n(21,r=S.onSubmit),"onPrevious"in S&&n(22,d=S.onPrevious),"defaultValue"in S&&n(0,k=S.defaultValue),"disablePreviousButton"in S&&n(6,G=S.disablePreviousButton),"isLast"in S&&n(7,v=S.isLast),"isPreview"in S&&n(8,c=S.isPreview),"disabled"in S&&n(9,o=S.disabled),"grade"in S&&n(1,u=S.grade),"gradeMax"in S&&n(10,m=S.gradeMax),"disableGrading"in S&&n(11,b=S.disableGrading),"isGradeWithAI"in S&&n(23,P=S.isGradeWithAI),"reason"in S&&n(12,w=S.reason),"isLoading"in S&&n(13,_=S.isLoading),"hideGrading"in S&&n(14,g=S.hideGrading)},i.$$.update=()=>{i.$$.dirty&8388608&&n(15,E=P)},[k,u,s,f,a,l,G,v,c,o,m,b,w,_,g,E,t,T,W,Q,L,r,d,P,y,ce]}class Jn extends x{constructor(e){super(),$(this,e,zn,Kn,ee,{title:2,index:3,code:4,name:5,onSubmit:21,onPrevious:22,defaultValue:0,disablePreviousButton:6,isLast:7,isPreview:8,disabled:9,grade:1,gradeMax:10,disableGrading:11,isGradeWithAI:23,reason:12,isLoading:13,hideGrading:14})}}const Zn=(i,e)=>i.some(n=>n.is_correct&&n.value===e);function Qn(i,e,n){if(i.question_type.id===te.TEXTAREA)return!0;const t=e[i.name],s=typeof t=="string"?[t]:t;let f=!1;return i.question_type.id===te.CHECKBOX?f=i.options.filter(a=>a.is_correct).every(a=>s==null?void 0:s.includes(a.value)):i.question_type.id===te.RADIO&&(f=s==null?void 0:s.some(a=>Zn(i.options,a))),f&&!n&&(Se(),setTimeout(Se,100)),f}function ue(i,e,n,t,s,f,a){const{answers:l,isFinished:r}=n,d=t===i.length,k=e.question_type.id===te.TEXTAREA,G=Qn(e,l,r);if(!G&&document&&document.getElementById("question")){const v=document.getElementById("question");v.classList.toggle("shake"),setTimeout(()=>{v.classList.toggle("shake")},200)}return{index:t+". ",title:e.title,name:`${e.name}`,options:e.options,code:e.code,defaultValue:k?l[e.name]||"":l[e.name]||[],onSubmit:s,onPrevious:f,disablePreviousButton:t===1,isLast:d,isPreview:a||r,isCorrect:G,disabled:r&&G||r,nextButtonProps:k?{label:"Next",isActive:!0}:G?{label:d?"Finish":"Next",isActive:!0,disableOptionSelect:!0,isDisabled:!d}:{label:"Check",isActive:!1}}}function Gi(i){return i.filter(e=>!e.deleted_at)}function Qe(i,e,n){const t=i.slice();return t[23]=e[n],t[24]=e,t[25]=n,t}function pn(i){let e,n,t,s,f,a;const l=[ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0),{gradeMax:i[23].points},{handleGrade:i[8](i[23].id)},{disableGrading:i[9]},{disabled:!0},{hideGrading:i[10].type===oe.SELF_PACED}];function r(c){i[19](c,i[23])}function d(c){i[20](c)}function k(c){i[21](c,i[23])}function G(c){i[22](c)}let v={};for(let c=0;c<l.length;c+=1)v=ke(v,l[c]);return i[0][i[23].id]!==void 0&&(v.grade=i[0][i[23].id]),i[1]!==void 0&&(v.isGradeWithAI=i[1]),i[3][i[23].id]!==void 0&&(v.reason=i[3][i[23].id]),i[2]!==void 0&&(v.isLoading=i[2]),e=new Jn({props:v}),J.push(()=>z(e,"grade",r)),J.push(()=>z(e,"isGradeWithAI",d)),J.push(()=>z(e,"reason",k)),J.push(()=>z(e,"isLoading",G)),{c(){O(e.$$.fragment)},l(c){j(e.$$.fragment,c)},m(c,o){R(e,c,o),a=!0},p(c,o){i=c;const u=o&2032?Ge(l,[o&240&&we(ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0)),o&16&&{gradeMax:i[23].points},o&272&&{handleGrade:i[8](i[23].id)},o&512&&{disableGrading:i[9]},l[4],o&1024&&{hideGrading:i[10].type===oe.SELF_PACED}]):{};!n&&o&17&&(n=!0,u.grade=i[0][i[23].id],Z(()=>n=!1)),!t&&o&2&&(t=!0,u.isGradeWithAI=i[1],Z(()=>t=!1)),!s&&o&24&&(s=!0,u.reason=i[3][i[23].id],Z(()=>s=!1)),!f&&o&4&&(f=!0,u.isLoading=i[2],Z(()=>f=!1)),e.$set(u)},i(c){a||(h(e.$$.fragment,c),a=!0)},o(c){I(e.$$.fragment,c),a=!1},d(c){U(e,c)}}}function xn(i){let e,n,t,s,f,a;const l=[ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0),{gradeMax:i[23].points},{handleGrade:i[8](i[23].id)},{disableGrading:i[9]},{disabled:!0},{hideGrading:i[10].type===oe.SELF_PACED}];function r(c){i[15](c,i[23])}function d(c){i[16](c)}function k(c){i[17](c,i[23])}function G(c){i[18](c)}let v={};for(let c=0;c<l.length;c+=1)v=ke(v,l[c]);return i[0][i[23].id]!==void 0&&(v.grade=i[0][i[23].id]),i[1]!==void 0&&(v.isGradeWithAI=i[1]),i[3][i[23].id]!==void 0&&(v.reason=i[3][i[23].id]),i[2]!==void 0&&(v.isLoading=i[2]),e=new Hn({props:v}),J.push(()=>z(e,"grade",r)),J.push(()=>z(e,"isGradeWithAI",d)),J.push(()=>z(e,"reason",k)),J.push(()=>z(e,"isLoading",G)),{c(){O(e.$$.fragment)},l(c){j(e.$$.fragment,c)},m(c,o){R(e,c,o),a=!0},p(c,o){i=c;const u=o&2032?Ge(l,[o&240&&we(ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0)),o&16&&{gradeMax:i[23].points},o&272&&{handleGrade:i[8](i[23].id)},o&512&&{disableGrading:i[9]},l[4],o&1024&&{hideGrading:i[10].type===oe.SELF_PACED}]):{};!n&&o&17&&(n=!0,u.grade=i[0][i[23].id],Z(()=>n=!1)),!t&&o&2&&(t=!0,u.isGradeWithAI=i[1],Z(()=>t=!1)),!s&&o&24&&(s=!0,u.reason=i[3][i[23].id],Z(()=>s=!1)),!f&&o&4&&(f=!0,u.isLoading=i[2],Z(()=>f=!1)),e.$set(u)},i(c){a||(h(e.$$.fragment,c),a=!0)},o(c){I(e.$$.fragment,c),a=!1},d(c){U(e,c)}}}function $n(i){let e,n,t,s,f,a;const l=[ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0),{gradeMax:i[23].points},{handleGrade:i[8](i[23].id)},{disableGrading:i[9]},{disabled:!0},{hideGrading:i[10].type===oe.SELF_PACED}];function r(c){i[11](c,i[23])}function d(c){i[12](c)}function k(c){i[13](c,i[23])}function G(c){i[14](c)}let v={};for(let c=0;c<l.length;c+=1)v=ke(v,l[c]);return i[0][i[23].id]!==void 0&&(v.grade=i[0][i[23].id]),i[1]!==void 0&&(v.isGradeWithAI=i[1]),i[3][i[23].id]!==void 0&&(v.reason=i[3][i[23].id]),i[2]!==void 0&&(v.isLoading=i[2]),e=new Sn({props:v}),J.push(()=>z(e,"grade",r)),J.push(()=>z(e,"isGradeWithAI",d)),J.push(()=>z(e,"reason",k)),J.push(()=>z(e,"isLoading",G)),{c(){O(e.$$.fragment)},l(c){j(e.$$.fragment,c)},m(c,o){R(e,c,o),a=!0},p(c,o){i=c;const u=o&2032?Ge(l,[o&240&&we(ue(i[4],i[23],i[5],i[25]+1,i[6],i[7],!0)),o&16&&{gradeMax:i[23].points},o&272&&{handleGrade:i[8](i[23].id)},o&512&&{disableGrading:i[9]},l[4],o&1024&&{hideGrading:i[10].type===oe.SELF_PACED}]):{};!n&&o&17&&(n=!0,u.grade=i[0][i[23].id],Z(()=>n=!1)),!t&&o&2&&(t=!0,u.isGradeWithAI=i[1],Z(()=>t=!1)),!s&&o&24&&(s=!0,u.reason=i[3][i[23].id],Z(()=>s=!1)),!f&&o&4&&(f=!0,u.isLoading=i[2],Z(()=>f=!1)),e.$set(u)},i(c){a||(h(e.$$.fragment,c),a=!0)},o(c){I(e.$$.fragment,c),a=!1},d(c){U(e,c)}}}function pe(i){let e,n,t,s;const f=[$n,xn,pn],a=[];function l(r,d){return te.RADIO===r[23].question_type.id?0:te.CHECKBOX===r[23].question_type.id?1:te.TEXTAREA===r[23].question_type.id?2:-1}return~(e=l(i))&&(n=a[e]=f[e](i)),{c(){n&&n.c(),t=re()},l(r){n&&n.l(r),t=re()},m(r,d){~e&&a[e].m(r,d),X(r,t,d),s=!0},p(r,d){let k=e;e=l(r),e===k?~e&&a[e].p(r,d):(n&&(Y(),I(a[k],1,1,()=>{a[k]=null}),K()),~e?(n=a[e],n?n.p(r,d):(n=a[e]=f[e](r),n.c()),h(n,1),n.m(t.parentNode,t)):n=null)},i(r){s||(h(n),s=!0)},o(r){I(n),s=!1},d(r){r&&A(t),~e&&a[e].d(r)}}}function ei(i){let e,n,t=fe(i[4]),s=[];for(let a=0;a<t.length;a+=1)s[a]=pe(Qe(i,t,a));const f=a=>I(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=re()},l(a){for(let l=0;l<s.length;l+=1)s[l].l(a);e=re()},m(a,l){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(a,l);X(a,e,l),n=!0},p(a,[l]){if(l&2047){t=fe(a[4]);let r;for(r=0;r<t.length;r+=1){const d=Qe(a,t,r);s[r]?(s[r].p(d,l),h(s[r],1)):(s[r]=pe(d),s[r].c(),h(s[r],1),s[r].m(e.parentNode,e))}for(Y(),r=t.length;r<s.length;r+=1)f(r);K()}},i(a){if(!n){for(let l=0;l<t.length;l+=1)h(s[l]);n=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)I(s[l]);n=!1},d(a){a&&A(e),ve(s,a)}}}function ni(i,e,n){let t;de(i,un,L=>n(10,t=L));let{questions:s=[]}=e,{questionnaireMetaData:f={}}=e,{grades:a={}}=e,{onSubmit:l=()=>{}}=e,{onPrevious:r=()=>{}}=e,{handleGrade:d=()=>{}}=e,{disableGrading:k=!0}=e,{isGradeWithAI:G=!1}=e,{isLoading:v=!1}=e,{reasons:c={}}=e;function o(L,y){i.$$.not_equal(a[y.id],L)&&(a[y.id]=L,n(0,a))}function u(L){G=L,n(1,G)}function m(L,y){i.$$.not_equal(c[y.id],L)&&(c[y.id]=L,n(3,c))}function b(L){v=L,n(2,v)}function P(L,y){i.$$.not_equal(a[y.id],L)&&(a[y.id]=L,n(0,a))}function w(L){G=L,n(1,G)}function _(L,y){i.$$.not_equal(c[y.id],L)&&(c[y.id]=L,n(3,c))}function g(L){v=L,n(2,v)}function E(L,y){i.$$.not_equal(a[y.id],L)&&(a[y.id]=L,n(0,a))}function T(L){G=L,n(1,G)}function W(L,y){i.$$.not_equal(c[y.id],L)&&(c[y.id]=L,n(3,c))}function Q(L){v=L,n(2,v)}return i.$$set=L=>{"questions"in L&&n(4,s=L.questions),"questionnaireMetaData"in L&&n(5,f=L.questionnaireMetaData),"grades"in L&&n(0,a=L.grades),"onSubmit"in L&&n(6,l=L.onSubmit),"onPrevious"in L&&n(7,r=L.onPrevious),"handleGrade"in L&&n(8,d=L.handleGrade),"disableGrading"in L&&n(9,k=L.disableGrading),"isGradeWithAI"in L&&n(1,G=L.isGradeWithAI),"isLoading"in L&&n(2,v=L.isLoading),"reasons"in L&&n(3,c=L.reasons)},[a,G,v,c,s,f,l,r,d,k,t,o,u,m,b,P,w,_,g,E,T,W,Q]}class wi extends x{constructor(e){super(),$(this,e,ni,ei,ee,{questions:4,questionnaireMetaData:5,grades:0,onSubmit:6,onPrevious:7,handleGrade:8,disableGrading:9,isGradeWithAI:1,isLoading:2,reasons:3})}}function Ii(i){return me.from("submission").select(`
    id,
    created_at,
    answers:question_answer(*),
    exercise:exercise_id(
      id, title, due_by,
      lesson:lesson_id(id, title),
      questions:question(
        *,
        options:option(*),
        question_type:question_type_id(id, label)
      )
    ),
    status_id,
    feedback,
    course:course_id(*),
    groupmember:submitted_by(
      profile(*)
    )
  `).match({course_id:i})}async function Ei({courseId:i,exerciseId:e,submittedBy:n}){const t={exercise_id:e};return i&&(t.course_id=i),n&&(t.submitted_by=n),me.from("submission").select(`
      id,
      answers:question_answer(*),
      status_id,
      feedback,
      submitted_by:groupmember!inner(
        profile!inner(
          id,
          fullname,
          avatar_url
        )
      )
    `).match(t).returns()}async function Pi({id:i,status_id:e,total:n,feedback:t},s){const f={status_id:e,feedback:t};return typeof n=="number"&&(f.total=n),me.from("submission").update(f,s).match({id:i})}async function Ai(i){return me.from("submission").delete().match({id:i})}async function Di(i,e){return me.from("question_answer").update(i).match(e)}export{Hn as C,wi as P,Sn as R,ki as S,Jn as T,Di as a,Ei as b,Gi as c,Ai as d,vn as e,Ii as f,ue as g,On as h,Pi as u,Qn as w};
//# sourceMappingURL=index.4b0b47d9.js.map
