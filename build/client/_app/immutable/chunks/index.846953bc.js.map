{"version":3,"file":"index.846953bc.js","sources":["../../../../../../src/lib/components/TextEditor/TinymceSvelte/Utils.ts","../../../../../../src/lib/components/TextEditor/TinymceSvelte/index.svelte","../../../../../../src/lib/utils/functions/tinymce/plugins.ts","../../../../../../src/lib/components/TextEditor/index.svelte"],"sourcesContent":["const validEvents = [\n  'Activate',\n  'AddUndo',\n  'BeforeAddUndo',\n  'BeforeExecCommand',\n  'BeforeGetContent',\n  'BeforeRenderUI',\n  'BeforeSetContent',\n  'BeforePaste',\n  'Blur',\n  'Change',\n  'ClearUndos',\n  'Click',\n  'ContextMenu',\n  'Copy',\n  'Cut',\n  'Dblclick',\n  'Deactivate',\n  'Dirty',\n  'Drag',\n  'DragDrop',\n  'DragEnd',\n  'DragGesture',\n  'DragOver',\n  'Drop',\n  'ExecCommand',\n  'Focus',\n  'FocusIn',\n  'FocusOut',\n  'GetContent',\n  'Hide',\n  'Init',\n  'KeyDown',\n  'KeyPress',\n  'KeyUp',\n  'LoadContent',\n  'MouseDown',\n  'MouseEnter',\n  'MouseLeave',\n  'MouseMove',\n  'MouseOut',\n  'MouseOver',\n  'MouseUp',\n  'NodeChange',\n  'ObjectResizeStart',\n  'ObjectResized',\n  'ObjectSelected',\n  'Paste',\n  'PostProcess',\n  'PostRender',\n  'PreProcess',\n  'ProgressState',\n  'Redo',\n  'Remove',\n  'Reset',\n  'ResizeEditor',\n  'SaveContent',\n  'SelectionChange',\n  'SetAttrib',\n  'SetContent',\n  'Show',\n  'Submit',\n  'Undo',\n  'VisualAid'\n];\n\nconst bindHandlers = (editor, dispatch) => {\n  validEvents.forEach((eventName) => {\n    editor.on(eventName, (e) => {\n      dispatch(eventName.toLowerCase(), {\n        eventName,\n        event: e,\n        editor\n      });\n    });\n  });\n};\n\nconst injectTiny = (doc, url, cb) => {\n  const script = doc.createElement('script');\n  script.referrerPolicy = 'origin';\n  script.type = 'application/javascript';\n  script.src = url;\n  script.onload = cb;\n  if (doc.head) {\n    doc.head.appendChild(script);\n  }\n};\n\nexport { bindHandlers, injectTiny };\n","<script lang=\"ts\" context=\"module\">\n  const uuid = (prefix: string): string => {\n    return prefix + '_' + Math.floor(Math.random() * 1000000000) + String(Date.now());\n  };\n\n  const createScriptLoader = () => {\n    let state: {\n      listeners: { (): void }[];\n      scriptId: string;\n      scriptLoaded: boolean;\n      injected: boolean;\n    } = {\n      listeners: [],\n      scriptId: uuid('tiny-script'),\n      scriptLoaded: false,\n      injected: false\n    };\n\n    const injectScript = (scriptId: string, doc: Document, url: string, cb: () => void) => {\n      state.injected = true;\n      const script = doc.createElement('script');\n      script.referrerPolicy = 'origin';\n      script.type = 'application/javascript';\n      script.src = url;\n      script.onload = () => {\n        cb();\n      };\n      if (doc.head) doc.head.appendChild(script);\n    };\n\n    const load = (doc: Document, url: string, callback: () => void) => {\n      if (state.scriptLoaded) {\n        callback();\n      } else {\n        state.listeners.push(callback);\n        // check we can access doc\n        if (!state.injected) {\n          injectScript(state.scriptId, doc, url, () => {\n            state.listeners.forEach((fn) => fn());\n            state.scriptLoaded = true;\n          });\n        }\n      }\n    };\n\n    return {\n      load\n    };\n  };\n  let scriptLoader = createScriptLoader();\n</script>\n\n<script lang=\"ts\">\n  import { onMount, createEventDispatcher, onDestroy } from 'svelte';\n  import { bindHandlers } from './Utils';\n  export let id: string = uuid('tinymce-svelte'); // default values\n  export let inline: boolean | undefined = undefined;\n  export let disabled: boolean = false;\n  // export let apiKey: string = 'no-api-key';\n  // export let channel: string = '6';\n  // export let scriptSrc: string | undefined = undefined;\n  export let conf: any = {};\n  export let modelEvents: string = 'change input undo redo';\n  export let value: string = '';\n  export let text: string = '';\n  export let cssClass: string = 'tinymce-wrapper';\n\n  let container: HTMLElement;\n  let element: HTMLElement;\n  let editorRef: any;\n\n  let lastVal = value;\n  let disablindCache = disabled;\n\n  const dispatch = createEventDispatcher();\n\n  $: {\n    if (editorRef && lastVal !== value) {\n      try {\n        editorRef.setContent(value);\n        text = editorRef.getContent({ format: 'text' });\n      } catch (error) {\n        console.error('Error setting default value', error);\n      }\n    }\n    if (editorRef && disabled !== disablindCache) {\n      disablindCache = disabled;\n      if (typeof editorRef.mode?.set === 'function') {\n        editorRef.mode.set(disabled ? 'readonly' : 'design');\n      } else {\n        editorRef.setMode(disabled ? 'readonly' : 'design');\n      }\n    }\n  }\n\n  const getTinymce = () => {\n    const getSink = () => {\n      return typeof window !== 'undefined' ? window : global;\n    };\n    const sink = getSink();\n    return sink && sink.tinymce ? sink.tinymce : null;\n  };\n\n  const init = () => {\n    //\n    const finalInit = {\n      ...conf,\n      target: element,\n      inline: inline !== undefined ? inline : conf.inline !== undefined ? conf.inline : false,\n      readonly: disabled,\n      setup: (editor: any) => {\n        editorRef = editor;\n        editor.on('init', () => {\n          editor.setContent(value);\n          // bind model events\n          editor.on(modelEvents, () => {\n            lastVal = editor.getContent();\n            if (lastVal !== value) {\n              value = lastVal;\n              text = editor.getContent({ format: 'text' });\n            }\n          });\n        });\n        bindHandlers(editor, dispatch);\n        if (typeof conf.setup === 'function') {\n          conf.setup(editor);\n        }\n      }\n    };\n    element.style.visibility = '';\n    getTinymce().init(finalInit);\n  };\n\n  onMount(() => {\n    if (getTinymce() !== null) {\n      init();\n    } else {\n      const script = window.location.origin + '/js/tinymce/tinymce.min.js';\n      scriptLoader.load(container.ownerDocument, script, () => {\n        init();\n      });\n    }\n  });\n\n  onDestroy(() => {\n    if (editorRef) {\n      getTinymce()?.remove(editorRef);\n    }\n  });\n</script>\n\n<div bind:this={container} class={cssClass}>\n  {#if inline}\n    <div {id} bind:this={element}></div>\n  {:else}\n    <textarea {id} bind:this={element} style=\"visibility:hidden\"></textarea>\n  {/if}\n</div>\n\n<style>\n  :global(.tox .tox-promotion) {\n    display: none !important;\n  }\n</style>\n","import { env } from '$env/dynamic/public';\n\nvar win, output, textarea;\n\n// Follow this guide to get source code: https://editor.codecogs.com/docs/3-Tiny_MCE_v6.php\nexport const addMathPlugin = (tinymce: any) => {\n  tinymce.PluginManager.add('eqneditor', function (editor, url) {\n    // Load necessary javascript for editor from CodeCogs\n    var sl = new tinymce.dom.ScriptLoader();\n    sl.add('https://assets.cdn.clsrio.com/eqneditor.api.min.js');\n    var loaded = sl.loadQueue();\n\n    // Load custom CSS\n    tinymce.DOM.loadCSS('https://assets.cdn.clsrio.com/eqneditor_1.css');\n\n    editor.ui.registry.addIcon(\n      'logo',\n      `<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n    width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" enable-background=\"new 0 0 18 20\" xml:space=\"preserve\">\n<rect x=\"4.4\" y=\"5.1\" fill=\"none\" width=\"38.6\" height=\"43.4\"/>\n<g enable-background=\"new    \">\n  <path d=\"M4,9.5H2L2.3,7h2.1l0.3-1.8C4.7,4.6,4.9,4.1,5,3.6c0.2-0.5,0.4-0.9,0.7-1.3c0.3-0.4,0.8-0.7,1.3-0.9C7.7,1.1,8.4,1,9.2,1\n      c0.3,0,0.6,0,0.9,0c0.3,0,0.6,0.1,0.9,0.1l-0.5,2.7c-0.2-0.1-0.3-0.1-0.5-0.2c-0.1,0-0.3-0.1-0.5-0.1C9,3.7,8.6,3.8,8.4,4\n      C8.1,4.2,7.9,4.7,7.8,5.4L7.6,7h2.3L9.5,9.5H7.2l-1.1,7.7H3L4,9.5z\"/>\n</g>\n<g enable-background=\"new    \">\n  <path d=\"M11.1,15.3l-2.3-3.2h2.5l1.2,1.8l1.2-1.8H16l-2.2,3.2l2.6,3.6h-2.5l-1.5-2.3L10.8,19H8.4L11.1,15.3z\"/>\n</g>\n</svg>`\n    );\n\n    editor.ui.registry.addIcon(\n      'menu',\n      `<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='11.473512pt' height='12.266481pt' viewBox='-.239051 -.242965 11.473512 12.266481'>\n    <defs>\n    <path id='g0-120' d='M3.993026-3.180075C3.642341-3.092403 3.626401-2.781569 3.626401-2.749689C3.626401-2.574346 3.761893-2.454795 3.937235-2.454795S4.383562-2.590286 4.383562-2.933001C4.383562-3.387298 3.881445-3.514819 3.58655-3.514819C3.211955-3.514819 2.909091-3.251806 2.725778-2.940971C2.550436-3.363387 2.13599-3.514819 1.809215-3.514819C.940473-3.514819 .454296-2.518555 .454296-2.295392C.454296-2.223661 .510087-2.191781 .573848-2.191781C.669489-2.191781 .68543-2.231631 .70934-2.327273C.892653-2.909091 1.370859-3.291656 1.785305-3.291656C2.096139-3.291656 2.247572-3.068493 2.247572-2.781569C2.247572-2.622167 2.15193-2.255542 2.088169-2.000498C2.032379-1.769365 1.857036-1.060025 1.817186-.908593C1.705604-.478207 1.41868-.143462 1.060025-.143462C1.028144-.143462 .820922-.143462 .653549-.255044C1.020174-.342715 1.020174-.67746 1.020174-.68543C1.020174-.868742 .876712-.980324 .70137-.980324C.486177-.980324 .255044-.797011 .255044-.494147C.255044-.127522 .645579 .079701 1.052055 .079701C1.474471 .079701 1.769365-.239103 1.912827-.494147C2.088169-.103611 2.454795 .079701 2.83736 .079701C3.706102 .079701 4.184309-.916563 4.184309-1.139726C4.184309-1.219427 4.120548-1.243337 4.064757-1.243337C3.969116-1.243337 3.953176-1.187547 3.929265-1.107846C3.769863-.573848 3.315567-.143462 2.8533-.143462C2.590286-.143462 2.399004-.318804 2.399004-.653549C2.399004-.812951 2.446824-.996264 2.558406-1.44259C2.614197-1.681694 2.789539-2.383064 2.82939-2.534496C2.940971-2.948941 3.219925-3.291656 3.57858-3.291656C3.618431-3.291656 3.825654-3.291656 3.993026-3.180075Z'/>\n    <path id='g1-102' d='M5.332005-4.805978C5.571108-4.805978 5.66675-4.805978 5.66675-5.033126C5.66675-5.152677 5.571108-5.152677 5.355915-5.152677H4.387547C4.614695-6.38406 4.782067-7.232877 4.877709-7.615442C4.94944-7.902366 5.200498-8.177335 5.511333-8.177335C5.762391-8.177335 6.01345-8.069738 6.133001-7.962142C5.66675-7.914321 5.523288-7.567621 5.523288-7.364384C5.523288-7.12528 5.702615-6.981818 5.929763-6.981818C6.168867-6.981818 6.527522-7.185056 6.527522-7.639352C6.527522-8.141469 6.025405-8.416438 5.499377-8.416438C4.985305-8.416438 4.483188-8.033873 4.244085-7.567621C4.028892-7.149191 3.90934-6.718804 3.634371-5.152677H2.833375C2.606227-5.152677 2.486675-5.152677 2.486675-4.937484C2.486675-4.805978 2.558406-4.805978 2.797509-4.805978H3.56264C3.347447-3.694147 2.857285-.992279 2.582316 .286924C2.379078 1.327024 2.199751 2.199751 1.601993 2.199751C1.566127 2.199751 1.219427 2.199751 1.004234 1.972603C1.613948 1.924782 1.613948 1.398755 1.613948 1.3868C1.613948 1.147696 1.43462 1.004234 1.207472 1.004234C.968369 1.004234 .609714 1.207472 .609714 1.661768C.609714 2.175841 1.135741 2.438854 1.601993 2.438854C2.82142 2.438854 3.323537 .251059 3.455044-.3467C3.670237-1.267248 4.25604-4.447323 4.315816-4.805978H5.332005Z'/>\n    </defs>\n    <g id='page1' transform='matrix(1.13 0 0 1.13 -63.986043 -65.03376)'>\n    <use x='56.413267' y='65.753425' xlink:href='#g1-102'/>\n    <use x='62.183256' y='67.546688' xlink:href='#g0-120'/>\n    </g>\n    </svg>`\n    );\n\n    function showDialog(inp = '') {\n      var http = 'https:' == document.location.protocol ? 'https://' : 'http://';\n\n      win = editor.windowManager.open({\n        title: 'Equation Editor',\n        size: 'medium',\n        body: {\n          type: 'panel',\n          items: [\n            {\n              type: 'htmlpanel',\n              html:\n                '<div id=\"equation-editor\">' +\n                '<div id=\"history\"></div>' +\n                '<div id=\"toolbar\"></div>' +\n                '<div id=\"latexInput\" autocorrect=\"off\"></div>' +\n                '<div id=\"equation-output\">' +\n                '<img id=\"output\"></div></div>'\n            }\n          ]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'closeButton',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'submitButton',\n            text: 'Ok',\n            buttonType: 'primary'\n          }\n        ],\n        onSubmit: async function (w) {\n          let content = output.exportAs('html');\n\n          // The generated content always points to https://latex.codecogs.com/svg.image, this means we have to always rely on their server to serve formulas. We have a dedicated endpoint for generating formulas on our backend service: GET `/katex`. We will need to manually update the URL in the generate HTML to point to our server:\n          // https://latex.codecogs.com/svg.image\n\n          // 1. Get only the URL in the img tag generated by codecogs library\n          const srcRegex = /<img[^>]+src\\s*=\\s*['\"]([^'\"]+)['\"][^>]*>/i;\n          const srcMatch = content.match(srcRegex);\n\n          if (srcMatch) {\n            // 2. Point the formula to our server\n            const customAPI = env.PUBLIC_SERVER_URL + '/katex';\n            const url = srcMatch[1]?.replaceAll('https://latex.codecogs.com/svg.image', customAPI);\n\n            // 3. Fetch the HTML from the server\n            const response = await fetch(url);\n            const html = await response.text();\n\n            // 4. Set the content to the html\n            content = html;\n          } else {\n            console.error('No src attribute found in the img tag.');\n          }\n\n          tinymce.activeEditor.execCommand('mceInsertContent', false, content);\n          textarea.pushToHistory();\n          w.close();\n        },\n        onCancel: function (w) {\n          w.close();\n        },\n        onAction: function (w, dets) {\n          if (dets.name == 'logo') {\n            window.open(http + 'editor.codecogs.com', '_blank')?.focus();\n          }\n        }\n      });\n\n      // Ensure EqnEditor js is loaded before continuing\n      loaded.then(() => {\n        output = new EqEditor.Output('output');\n        textarea = EqEditor.TextArea.link('latexInput')\n          .addOutput(output)\n          .addHistoryMenu(new EqEditor.History('history'));\n        EqEditor.Toolbar.link('toolbar').addTextArea(textarea);\n\n        var nodes = document.getElementById('history')?.childNodes || [];\n        for (var i = 0; i < nodes.length; i++) {\n          nodes[i].style.padding = 'revert';\n        }\n\n        textarea.clear();\n        textarea.insert(inp.replace(/&space;/g, ' '), inp.length);\n      });\n    }\n\n    editor.ui.registry.addButton('eqneditor', {\n      title: 'Equation',\n      icon: 'menu',\n      tooltip: 'Insert Equation',\n      onAction: () => {\n        showDialog();\n      }\n      // stateSelector: 'img[src*=\"latex\"]'\n    });\n\n    editor.on('dblclick', function (e) {\n      if (e.target.nodeName.toLowerCase() == 'img') {\n        var sName = e.target.src.match(/(gif|svg)\\.image\\?(.*)/);\n        if (sName != null) showDialog(sName[2]);\n      }\n    });\n\n    return {\n      getMetadata: () => ({\n        name: 'EqnEditor',\n        url: 'https://editor.codecogs.com/docs/3-Tiny_MCE_v4x.php'\n      })\n    };\n  });\n};\n","<script lang=\"ts\">\n  import Editor from './TinymceSvelte/index.svelte';\n  import { globalStore } from '$lib/utils/store/app';\n  import { addMathPlugin } from '$lib/utils/functions/tinymce/plugins';\n\n  export let id = '';\n  export let value: string | undefined = '';\n  export let onChange = (html: string) => {};\n  export let height = 300;\n  export let placeholder = '';\n  export let editorWindowRef: Window | undefined = undefined;\n  export let maxHeight: number | undefined = undefined;\n\n  let unmount = false;\n  let editorChangeHandlerId;\n\n  function getTinymce() {\n    const getSink = () => {\n      return typeof window !== 'undefined' ? window : global;\n    };\n    const sink = getSink();\n    const res = sink && sink.tinymce ? sink.tinymce : null;\n    console.log({ res });\n    return res;\n  }\n\n  // editor configuration\n  let conf = {\n    plugins: 'lists, link, emoticons, code, media, eqneditor',\n    toolbar: [\n      { name: 'history', items: ['undo', 'redo'] },\n      { name: 'styles', items: ['styles'] },\n      { name: 'formatting', items: ['bold', 'italic'] },\n      { name: 'alignment', items: ['alignleft', 'aligncenter', 'alignright', 'alignjustify'] },\n      { name: 'indentation', items: ['outdent', 'indent'] },\n      { name: 'list', items: ['numlist', 'bullist'] },\n      { name: 'link', items: ['link'] },\n      { name: 'insert', items: ['emoticons'] },\n      { name: 'code', items: ['code'] },\n      { name: 'media', items: ['media'] },\n      { name: 'eqneditor', items: ['eqneditor'] }\n    ],\n    lists_indent_on_tab: false,\n    min_height: height,\n    max_height: maxHeight,\n    placeholder: placeholder,\n    skin: 'oxide-dark',\n    content_css: 'dark',\n    extended_valid_elements: '*[.*]',\n    license_key: 'gpl',\n    setup: () => {\n      addMathPlugin(getTinymce());\n    },\n    init_instance_callback: function (editor: any) {\n      editorWindowRef = editor.iframeElement?.contentWindow;\n\n      editor.on('Paste Change input Undo Redo', function () {\n        clearTimeout(editorChangeHandlerId);\n        const html = editor.getContent();\n\n        editorChangeHandlerId = setTimeout(function () {\n          if (onChange) {\n            onChange(html);\n          }\n\n          if (id) {\n            localStorage.setItem(id, html);\n          }\n        }, 1000);\n      });\n    }\n  };\n\n  function handleModeChange(isDark: boolean) {\n    if (isDark) {\n      conf.content_css = 'dark';\n      conf.skin = 'oxide-dark';\n    } else {\n      conf.content_css = 'light';\n      conf.skin = 'oxide';\n    }\n\n    unmount = true;\n    setTimeout(() => {\n      unmount = false;\n    }, 200);\n  }\n\n  $: value = !value ? '' : value;\n\n  $: handleModeChange($globalStore.isDark);\n</script>\n\n<svelte:head>\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/katex@0.12.0/dist/katex.min.css\" />\n</svelte:head>\n\n<div>\n  {#if !unmount}\n    <Editor bind:value bind:conf />\n  {/if}\n</div>\n"],"names":["validEvents","bindHandlers","editor","dispatch","eventName","e","createScriptLoader","state","uuid","script","url","cb","doc","callback","id","$$props","conf","container","element","editorRef","getTinymce","init","finalInit","inline","value","modelEvents","$$invalidate","lastVal","onMount","onDestroy","_a","error","disabled","disablindCache","output","textarea","addMathPlugin","tinymce","sl","loaded","showDialog","inp","http","w","content","srcRegex","srcMatch","customAPI","env","url2","dets","nodes","i","sName","res","sink","editorChangeHandlerId","placeholder","editorWindowRef","html","onChange","isDark"],"mappings":"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"}