{"version":3,"file":"index.8b6a9222.js","sources":["../../../../../../src/lib/components/Courses/components/List/index.svelte","../../../../../../src/lib/components/Courses/index.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import {\n    StructuredListRow,\n    StructuredListCell,\n    Tag,\n    OverflowMenuItem,\n    OverflowMenu\n  } from 'carbon-components-svelte';\n  import { isMobile } from '$lib/utils/store/useMobile';\n  import { goto } from '$app/navigation';\n  import { t } from '$lib/utils/functions/translations';\n\n  export let id = '';\n  export let title = '';\n  export let type = '';\n  export let description = '';\n  export let isPublished = false;\n  export let totalLessons = 0;\n  export let totalStudents = 0;\n\n  function handleCloneCourse(e) {\n    e.stopPropagation();\n    // TODO: Clone course functionality\n    alert('WIP: Clone course');\n  }\n\n  function handleShareCourse(e) {\n    e.stopPropagation();\n    // TODO: Share course functionality\n    alert('WIP: Share course');\n  }\n\n  function handleInvite(e) {\n    e.stopPropagation();\n    // TODO: Invite functionality\n    alert('WIP: Invite people to course');\n  }\n\n  function handleDeleteCourse(e) {\n    e.stopPropagation();\n    // TODO: Delete course functionality\n    alert('WIP: Delete course');\n  }\n</script>\n\n<StructuredListRow label for=\"row-{id}\" on:click={() => goto(`/courses/${id}`)}>\n  <StructuredListCell><p class=\"font-semibold\">{title}</p></StructuredListCell>\n  <StructuredListCell>\n    <p class=\"line-clamp-2\">{description}</p>\n  </StructuredListCell>\n  {#if !$isMobile}\n    <StructuredListCell>{type}</StructuredListCell>\n    <StructuredListCell>{totalLessons}</StructuredListCell>\n    <StructuredListCell>{totalStudents}</StructuredListCell>\n    <StructuredListCell>\n      <Tag class=\"break-normal\" type={isPublished ? 'green' : 'cool-gray'}>\n        {#if isPublished}\n          {$t('courses.course_card.published')}\n        {:else}\n          {$t('courses.course_card.unpublished')}\n        {/if}\n      </Tag>\n    </StructuredListCell>\n  {/if}\n  <StructuredListCell>\n    <OverflowMenu\n      id=\"course-list\"\n      flipped\n      on:click={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      <OverflowMenuItem\n        text={$t('courses.course_card.context_menu.clone')}\n        on:click={handleCloneCourse}\n      />\n      <OverflowMenuItem\n        text={$t('courses.course_card.context_menu.share')}\n        on:click={handleShareCourse}\n      />\n      <OverflowMenuItem\n        text={$t('courses.course_card.context_menu.invite')}\n        on:click={handleInvite}\n      />\n      <OverflowMenuItem\n        danger\n        text={$t('courses.course_card.context_menu.delete')}\n        on:click={handleDeleteCourse}\n      />\n    </OverflowMenu>\n  </StructuredListCell>\n</StructuredListRow>\n","<script lang=\"ts\">\n  import Box from '../Box/index.svelte';\n  import Card from './components/Card/index.svelte';\n  import List from './components/List/index.svelte';\n  import CardLoader from './components/Card/Loader.svelte';\n  import CoursesEmptyIcon from '../Icons/CoursesEmptyIcon.svelte';\n  import { courseMetaDeta } from './store';\n  import type { Course } from '$lib/utils/types';\n  import { globalStore } from '$lib/utils/store/app';\n  import {\n    StructuredList,\n    StructuredListHead,\n    StructuredListRow,\n    StructuredListCell,\n    StructuredListBody\n  } from 'carbon-components-svelte';\n  import { t } from '$lib/utils/functions/translations';\n\n  export let courses: Course[] = [];\n  export let emptyTitle = $t('courses.course_card.empty_title');\n  export let emptyDescription = $t('courses.course_card.empty_description');\n  export let isExplore = false;\n\n  function calcProgressRate(progressRate?: number, totalLessons?: number): number {\n    if (!progressRate || !totalLessons) {\n      return 0;\n    }\n\n    return Math.round((progressRate / totalLessons) * 100);\n  }\n</script>\n\n<!-- <CopyCourseModal /> -->\n\n<div class={`w-full my-4 mx-auto`}>\n  {#if $courseMetaDeta.isLoading}\n    <section class={`${$courseMetaDeta.isLoading || courses ? 'cards-container' : ''} `}>\n      <CardLoader />\n      <CardLoader />\n      <CardLoader />\n    </section>\n  {:else if $courseMetaDeta.view === 'list'}\n    <StructuredList selection class=\"w-full\">\n      <StructuredListHead>\n        <StructuredListRow head>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.title')}\n          </StructuredListCell>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.description')}\n          </StructuredListCell>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.type')}\n          </StructuredListCell>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.lessons')}\n          </StructuredListCell>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.students')}\n          </StructuredListCell>\n          <StructuredListCell head>\n            {$t('courses.course_card.list_view.published')}\n          </StructuredListCell>\n          <StructuredListCell head>{''}</StructuredListCell>\n        </StructuredListRow>\n      </StructuredListHead>\n      <StructuredListBody>\n        {#each courses as courseData}\n          <List\n            id={courseData.id}\n            title={courseData.title}\n            type={$t(`course.navItem.settings.${courseData.type.toLowerCase()}`)}\n            description={courseData.description}\n            isPublished={courseData.is_published}\n            totalLessons={courseData.total_lessons}\n            totalStudents={courseData.total_students}\n          />\n        {/each}\n      </StructuredListBody>\n    </StructuredList>\n  {:else}\n    <section class={`${$courseMetaDeta.isLoading || courses ? 'cards-container' : ''} `}>\n      {#each courses as courseData}\n        {#key courseData.id}\n          <Card\n            id={courseData.id}\n            slug={courseData.slug}\n            bannerImage={courseData.logo || '/images/classroomio-course-img-template.jpg'}\n            title={courseData.title}\n            description={courseData.description}\n            isPublished={courseData.is_published}\n            cost={courseData.cost}\n            type={courseData.type}\n            currency={courseData.currency}\n            totalLessons={courseData.total_lessons}\n            totalStudents={courseData.total_students}\n            isLMS={$globalStore.isOrgSite}\n            {isExplore}\n            progressRate={calcProgressRate(courseData.progress_rate, courseData.total_lessons)}\n          />\n        {/key}\n      {/each}\n    </section>\n  {/if}\n</div>\n{#if !$courseMetaDeta.isLoading && !courses.length}\n  <Box className=\"w-full\">\n    <CoursesEmptyIcon />\n    <h3 class=\"dark:text-white text-2xl my-5\">{emptyTitle}</h3>\n    <p class=\"dark:text-white w-1/3 text-center\">\n      {emptyDescription}\n    </p>\n  </Box>\n{/if}\n"],"names":["t_1_value","ctx","dirty","set_data","t_1","overflowmenuitem0_changes","overflowmenuitem1_changes","overflowmenuitem2_changes","overflowmenuitem3_changes","e","click_handler_1","goto","id","calcProgressRate","card_changes","previous_key","safe_not_equal","list_changes","if_block1","create_if_block","progressRate","totalLessons","courses","$$props","emptyTitle","$t","emptyDescription"],"mappings":"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"}