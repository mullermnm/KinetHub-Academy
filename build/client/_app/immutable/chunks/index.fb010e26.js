import{n as ye,_ as pt,H as ht}from"./scheduler.ee52cacd.js";import{n as mt,l as Et,o as Dt,p as yt}from"./index.a2391391.js";import{c as wt}from"./index.8c9a3a3e.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f1936d2e-80c7-41f5-a5a9-9503c4d8a04c",e._sentryDebugIdIdentifier="sentry-dbid-f1936d2e-80c7-41f5-a5a9-9503c4d8a04c")}catch{}})();function In(e,t,n,i){if(!t)return ye;const o=e.getBoundingClientRect();if(t.left===o.left&&t.right===o.right&&t.top===o.top&&t.bottom===o.bottom)return ye;const{delay:a=0,duration:r=300,easing:d=pt,start:f=mt()+a,end:u=f+r,tick:l=ye,css:g}=n(e,{from:t,to:o},i);let s=!0,c=!1,h;function A(){g&&(h=Dt(e,0,1,r,a,d,g)),a||(c=!0)}function C(){g&&yt(e,h),s=!1}return Et(_=>{if(!c&&_>=f&&(c=!0),c&&_>=u&&(l(1,0),C()),!s)return!1;if(c){const I=_-f,p=0+1*d(I/r);l(p,1-p)}return!0}),A(),l(0,1),C}function bn(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,Tt(e,o)}}function Tt(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),o=i.transform==="none"?"":i.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}const Ot="finalize",vt="consider";function X(e,t,n){e.dispatchEvent(new CustomEvent(Ot,{detail:{items:t,info:n}}))}function B(e,t,n){e.dispatchEvent(new CustomEvent(vt,{detail:{items:t,info:n}}))}const ge="draggedEntered",te="draggedLeft",pe="draggedOverIndex",be="draggedLeftDocument",se={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function At(e,t,n){e.dispatchEvent(new CustomEvent(ge,{detail:{indexObj:t,draggedEl:n}}))}function _t(e,t,n){e.dispatchEvent(new CustomEvent(te,{detail:{draggedEl:t,type:se.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function xt(e,t){e.dispatchEvent(new CustomEvent(te,{detail:{draggedEl:t,type:se.OUTSIDE_OF_ANY}}))}function It(e,t,n){e.dispatchEvent(new CustomEvent(pe,{detail:{indexObj:t,draggedEl:n}}))}function bt(e){window.dispatchEvent(new CustomEvent(be,{detail:{draggedEl:e}}))}const x={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:ge,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:pe,DRAGGED_LEFT:te,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},R={POINTER:"pointer",KEYBOARD:"keyboard"},he="isDndShadowItem",Re="data-is-dnd-shadow-item",Ne="id:dnd-shadow-placeholder-0000",Rt="dnd-action-dragged-el";let y="id",Oe=0;function je(){Oe++}function Xe(){if(Oe===0)throw new Error("Bug! trying to decrement when there are no dropzones");Oe--}const Le=typeof window>"u";function qe(e){let t;const n=e.getBoundingClientRect(),i=getComputedStyle(e),o=i.transform;if(o){let a,r,d,f;if(o.startsWith("matrix3d("))t=o.slice(9,-1).split(/, /),a=+t[0],r=+t[5],d=+t[12],f=+t[13];else if(o.startsWith("matrix("))t=o.slice(7,-1).split(/, /),a=+t[0],r=+t[3],d=+t[4],f=+t[5];else return n;const u=i.transformOrigin,l=n.x-d-(1-a)*parseFloat(u),g=n.y-f-(1-r)*parseFloat(u.slice(u.indexOf(" ")+1)),s=a?n.width/a:e.offsetWidth,c=r?n.height/r:e.offsetHeight;return{x:l,y:g,width:s,height:c,top:g,right:l+s,bottom:g+c,left:l}}else return n}function Ke(e){const t=qe(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Se(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Je(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Nt(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Pe(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Q(e){return Je(Se(e))}function $e(e,t){const n=Q(e),i=Ke(t);return Pe(n,i)}function Lt(e,t){const n=Q(e),i=Q(t);return Nt(n,i)}function St(e){const t=Se(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Pt(e,t){const n=Se(t);return Pe(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}let V;function Ce(){V=new Map}Ce();function Ct(e){V.delete(e)}function Mt(e){const t=Array.from(e.children).findIndex(n=>n.getAttribute(Re));if(t>=0)return V.has(e)||V.set(e,new Map),V.get(e).set(t,Ke(e.children[t])),t}function Ft(e,t){if(!$e(e,t))return null;const n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};const i=Mt(t);for(let r=0;r<n.length;r++)if($e(e,n[r])){const d=V.has(t)&&V.get(t).get(r);return d&&!Pe(Q(e),d)?{index:i,isProximityBased:!1}:{index:r,isProximityBased:!1}}let o=Number.MAX_VALUE,a;for(let r=0;r<n.length;r++){const d=Lt(e,n[r]);d<o&&(o=d,a=r)}return{index:a,isProximityBased:!0}}const J=25;function Qe(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function n(a){const{directionObj:r,stepPx:d}=e;r&&(a.scrollBy(r.x*d,r.y*d),window.requestAnimationFrame(()=>n(a)))}function i(a){return J-a}function o(a,r){if(!r)return!1;const d=Pt(a,r);if(d===null)return t(),!1;const f=!!e.directionObj;let[u,l]=[!1,!1];return r.scrollHeight>r.clientHeight&&(d.bottom<J?(u=!0,e.directionObj={x:0,y:1},e.stepPx=i(d.bottom)):d.top<J&&(u=!0,e.directionObj={x:0,y:-1},e.stepPx=i(d.top)),!f&&u)||r.scrollWidth>r.clientWidth&&(d.right<J?(l=!0,e.directionObj={x:1,y:0},e.stepPx=i(d.right)):d.left<J&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=i(d.left)),!f&&l)?(n(r),!0):(t(),!1)}return{scrollIfNeeded:o,resetScrolling:t}}function we(e){return JSON.stringify(e,null,2)}function ke(e){if(!e)throw new Error("cannot get depth of a falsy node");return et(e,0)}function et(e,t=0){return e.parentElement?et(e.parentElement,t+1):t-1}function $t(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}function kt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Gt=200,Ge=10,{scrollIfNeeded:Zt,resetScrolling:Wt}=Qe();let ve;function Bt(e,t,n=Gt){let i,o,a=!1,r;const d=Array.from(t).sort((u,l)=>ke(l)-ke(u));function f(){const u=Q(e),l=Zt(u,i);if(!l&&r&&Math.abs(r.x-u.x)<Ge&&Math.abs(r.y-u.y)<Ge){ve=window.setTimeout(f,n);return}if(St(e)){bt(e);return}r=u;let g=!1;for(const s of d){l&&Ct(i);const c=Ft(e,s);if(c===null)continue;const{index:h}=c;g=!0,s!==i?(i&&_t(i,e,s),At(s,c,e),i=s):h!==o&&(It(s,c,e),o=h);break}!g&&a&&i?(xt(i,e),i=void 0,o=void 0,a=!1):a=!0,ve=window.setTimeout(f,n)}f()}function Ht(){clearTimeout(ve),Wt(),Ce()}const zt=300;let ae;function de(e){const t=e.touches?e.touches[0]:e;ae={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:Yt,resetScrolling:Vt}=Qe();let tt;function nt(){ae&&Yt(ae,document.documentElement)&&Ce(),tt=window.setTimeout(nt,zt)}function Ut(){window.addEventListener("mousemove",de),window.addEventListener("touchmove",de),nt()}function jt(){window.removeEventListener("mousemove",de),window.removeEventListener("touchmove",de),ae=void 0,window.clearTimeout(tt),Vt()}function Xt(e){const t=e.cloneNode(!0),n=[],i=e.tagName==="SELECT",o=i?[e]:[...e.querySelectorAll("select")];for(const r of o)n.push(r.value);if(o.length<=0)return t;const a=i?[t]:[...t.querySelectorAll("select")];for(let r=0;r<a.length;r++){const d=a[r],f=n[r],u=d.querySelector(`option[value="${f}"`);u&&u.setAttribute("selected",!0)}return t}const qt=.2;function H(e){return`${e} ${qt}s ease`}function Kt(e,t){const n=e.getBoundingClientRect(),i=Xt(e);it(e,i),i.id=Rt,i.style.position="fixed";let o=n.top,a=n.left;if(i.style.top=`${o}px`,i.style.left=`${a}px`,t){const r=Je(n);o-=r.y-t.y,a-=r.x-t.x,window.setTimeout(()=>{i.style.top=`${o}px`,i.style.left=`${a}px`},0)}return i.style.margin="0",i.style.boxSizing="border-box",i.style.height=`${n.height}px`,i.style.width=`${n.width}px`,i.style.transition=`${H("top")}, ${H("left")}, ${H("background-color")}, ${H("opacity")}, ${H("color")} `,window.setTimeout(()=>i.style.transition+=`, ${H("width")}, ${H("height")}`,0),i.style.zIndex="9999",i.style.cursor="grabbing",i}function Jt(e){e.style.cursor="grab"}function Qt(e,t,n,i){it(t,e);const o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=o.width-a.width,d=o.height-a.height;if(r||d){const f={left:(n-a.left)/a.width,top:(i-a.top)/a.height};e.style.left=`${parseFloat(e.style.left)-f.left*r}px`,e.style.top=`${parseFloat(e.style.top)-f.top*d}px`}}function it(e,t){const n=window.getComputedStyle(e);Array.from(n).filter(i=>i.startsWith("background")||i.startsWith("padding")||i.startsWith("font")||i.startsWith("text")||i.startsWith("align")||i.startsWith("justify")||i.startsWith("display")||i.startsWith("flex")||i.startsWith("border")||i==="opacity"||i==="color"||i==="list-style-type"||i==="width"||i==="height").forEach(i=>t.style.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i)))}function en(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function rt(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function tn(e){e.style.visibility="hidden",e.setAttribute(Re,"true")}function nn(e){e.style.visibility="",e.removeAttribute(Re)}function re(e,t=()=>{},n=()=>[]){e.forEach(i=>{const o=t(i);Object.keys(o).forEach(a=>{i.style[a]=o[a]}),n(i).forEach(a=>i.classList.add(a))})}function le(e,t=()=>{},n=()=>[]){e.forEach(i=>{const o=t(i);Object.keys(o).forEach(a=>{i.style[a]=""}),n(i).forEach(a=>i.classList.contains(a)&&i.classList.remove(a))})}function rn(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}const on="--any--",sn=100,Ze=3,We={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let k,O,L,me,D,Ee,q,N,Z,S,Y=!1,Me=!1,Fe,ne=!1,oe=[];const F=new Map,E=new Map,Te=new WeakMap;function an(e,t){F.has(t)||F.set(t,new Set),F.get(t).has(e)||(F.get(t).add(e),je())}function Be(e,t){F.get(t).delete(e),Xe(),F.get(t).size===0&&F.delete(t)}function dn(){Ut();const e=F.get(me);for(const n of e)n.addEventListener(ge,ot),n.addEventListener(te,st),n.addEventListener(pe,at);window.addEventListener(be,K);const t=Math.max(sn,...Array.from(e.keys()).map(n=>E.get(n).dropAnimationDurationMs));Bt(O,e,t*1.07)}function ln(){jt();const e=F.get(me);for(const t of e)t.removeEventListener(ge,ot),t.removeEventListener(te,st),t.removeEventListener(pe,at);window.removeEventListener(be,K),Ht()}function cn(e){return e.findIndex(t=>t[y]===Ne)}function De(e){return e.findIndex(t=>!!t[he]&&t[y]!==Ne)}function ot(e){let{items:t,dropFromOthersDisabled:n}=E.get(e.currentTarget);if(n&&e.currentTarget!==D)return;if(ne=!1,t=t.filter(r=>r[y]!==q[y]),D!==e.currentTarget){const d=E.get(D).items.filter(f=>!f[he]);B(D,d,{trigger:x.DRAGGED_ENTERED_ANOTHER,id:L[y],source:R.POINTER})}else{const r=cn(t);r!==-1&&t.splice(r,1)}const{index:i,isProximityBased:o}=e.detail.indexObj,a=o&&i===e.currentTarget.children.length-1?i+1:i;N=e.currentTarget,t.splice(a,0,q),B(e.currentTarget,t,{trigger:x.DRAGGED_ENTERED,id:L[y],source:R.POINTER})}function st(e){if(!Y)return;const{items:t,dropFromOthersDisabled:n}=E.get(e.currentTarget);if(n&&e.currentTarget!==D&&e.currentTarget!==N)return;const i=De(t),o=t.splice(i,1)[0];N=void 0;const{type:a,theOtherDz:r}=e.detail;if(a===se.OUTSIDE_OF_ANY||a===se.LEFT_FOR_ANOTHER&&r!==D&&E.get(r).dropFromOthersDisabled){ne=!0,N=D;const d=E.get(D).items;d.splice(Ee,0,o),B(D,d,{trigger:x.DRAGGED_LEFT_ALL,id:L[y],source:R.POINTER})}B(e.currentTarget,t,{trigger:x.DRAGGED_LEFT,id:L[y],source:R.POINTER})}function at(e){const{items:t,dropFromOthersDisabled:n}=E.get(e.currentTarget);if(n&&e.currentTarget!==D)return;ne=!1;const{index:i}=e.detail.indexObj,o=De(t);t.splice(o,1),t.splice(i,0,q),B(e.currentTarget,t,{trigger:x.DRAGGED_OVER_INDEX,id:L[y],source:R.POINTER})}function ce(e){e.preventDefault();const t=e.touches?e.touches[0]:e;S={x:t.clientX,y:t.clientY},O.style.transform=`translate3d(${S.x-Z.x}px, ${S.y-Z.y}px, 0)`}function K(){Me=!0,window.removeEventListener("mousemove",ce),window.removeEventListener("touchmove",ce),window.removeEventListener("mouseup",K),window.removeEventListener("touchend",K),ln(),Jt(O),N||(N=D);let{items:e,type:t}=E.get(N);le(F.get(t),o=>E.get(o).dropTargetStyle,o=>E.get(o).dropTargetClasses);let n=De(e);n===-1&&(n=Ee),e=e.map(o=>o[he]?L:o);function i(){Fe(),X(N,e,{trigger:ne?x.DROPPED_OUTSIDE_OF_ANY:x.DROPPED_INTO_ZONE,id:L[y],source:R.POINTER}),N!==D&&X(D,E.get(D).items,{trigger:x.DROPPED_INTO_ANOTHER,id:L[y],source:R.POINTER}),nn(N.children[n]),gn()}un(n,i)}function un(e,t){const n=qe(N.children[e]),i={x:n.left-parseFloat(O.style.left),y:n.top-parseFloat(O.style.top)},{dropAnimationDurationMs:o}=E.get(N),a=`transform ${o}ms ease`;O.style.transition=O.style.transition?O.style.transition+","+a:a,O.style.transform=`translate3d(${i.x}px, ${i.y}px, 0)`,window.setTimeout(t,o)}function fn(e,t){oe.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{rt(e),document.body.appendChild(e)})}function gn(){O.remove(),k.remove(),oe.length&&(oe.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),oe=[]),O=void 0,k=void 0,L=void 0,me=void 0,D=void 0,Ee=void 0,q=void 0,N=void 0,Z=void 0,S=void 0,Y=!1,Me=!1,Fe=void 0,ne=!1}function pn(e,t){let n=!1;const i={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:We,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function a(){window.addEventListener("mousemove",f,{passive:!1}),window.addEventListener("touchmove",f,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function r(){window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d)}function d(){r(),k=void 0,Z=void 0,S=void 0}function f(s){s.preventDefault();const c=s.touches?s.touches[0]:s;S={x:c.clientX,y:c.clientY},(Math.abs(S.x-Z.x)>=Ze||Math.abs(S.y-Z.y)>=Ze)&&(r(),l())}function u(s){if(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable)||s.button||Y)return;s.stopPropagation();const c=s.touches?s.touches[0]:s;Z={x:c.clientX,y:c.clientY},S={...Z},k=s.currentTarget,a()}function l(){Y=!0;const s=o.get(k);Ee=s,D=k.parentElement;const c=D.getRootNode(),h=c.body||c,{items:A,type:C,centreDraggedOnCursor:_}=i;L={...A[s]},me=C,q={...L,[he]:!0};const I={...q,[y]:Ne};O=Kt(k,_&&S);function p(){O.parentElement?window.requestAnimationFrame(p):(h.appendChild(O),O.focus(),dn(),rt(k),h.appendChild(k))}window.requestAnimationFrame(p),re(Array.from(F.get(i.type)).filter(G=>G===D||!E.get(G).dropFromOthersDisabled),G=>E.get(G).dropTargetStyle,G=>E.get(G).dropTargetClasses),A.splice(s,1,I),Fe=rn(D),B(D,A,{trigger:x.DRAG_STARTED,id:L[y],source:R.POINTER}),window.addEventListener("mousemove",ce,{passive:!1}),window.addEventListener("touchmove",ce,{passive:!1,capture:!1}),window.addEventListener("mouseup",K,{passive:!1}),window.addEventListener("touchend",K,{passive:!1})}function g({items:s=void 0,flipDurationMs:c=0,type:h=on,dragDisabled:A=!1,morphDisabled:C=!1,dropFromOthersDisabled:_=!1,dropTargetStyle:I=We,dropTargetClasses:p=[],transformDraggedElement:G=()=>{},centreDraggedOnCursor:ft=!1}){i.dropAnimationDurationMs=c,i.type&&h!==i.type&&Be(e,i.type),i.type=h,an(e,h),i.items=[...s],i.dragDisabled=A,i.morphDisabled=C,i.transformDraggedElement=G,i.centreDraggedOnCursor=ft,n&&Y&&!Me&&(!$t(I,i.dropTargetStyle)||!kt(p,i.dropTargetClasses))&&(le([e],()=>i.dropTargetStyle,()=>p),re([e],()=>I,()=>p)),i.dropTargetStyle=I,i.dropTargetClasses=[...p];function ie(w,b){return E.get(w)?E.get(w)[b]:i[b]}n&&Y&&i.dropFromOthersDisabled!==_&&(_?le([e],w=>ie(w,"dropTargetStyle"),w=>ie(w,"dropTargetClasses")):re([e],w=>ie(w,"dropTargetStyle"),w=>ie(w,"dropTargetClasses"))),i.dropFromOthersDisabled=_,E.set(e,i);const gt=De(i.items);for(let w=0;w<e.children.length;w++){const b=e.children[w];if(en(b,A),w===gt){i.transformDraggedElement(O,L,w),C||Qt(O,b,S.x,S.y),tn(b);continue}b.removeEventListener("mousedown",Te.get(b)),b.removeEventListener("touchstart",Te.get(b)),A||(b.addEventListener("mousedown",u),b.addEventListener("touchstart",u),Te.set(b,u)),o.set(b,w),n||(n=!0)}}return g(t),{update:s=>{g(s)},destroy:()=>{function s(){Be(e,E.get(e).type),E.delete(e)}Y?fn(e,s):s()}}}const Ae={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},dt={[Ae.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Ae.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},hn="dnd-action-aria-alert";let m;function _e(){m||(m=document.createElement("div"),function(){m.id=hn,m.style.position="fixed",m.style.bottom="0",m.style.left="0",m.style.zIndex="-5",m.style.opacity="0",m.style.height="0",m.style.width="0",m.setAttribute("role","alert")}(),document.body.prepend(m),Object.entries(dt).forEach(([e,t])=>document.body.prepend(Dn(e,t))))}function mn(){return Le?null:(document.readyState==="complete"?_e():window.addEventListener("DOMContentLoaded",_e),{...Ae})}function En(){Le||!m||(Object.keys(dt).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),m.remove(),m=void 0)}function Dn(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function j(e){if(Le)return;m||_e(),m.innerHTML="";const t=document.createTextNode(e);m.appendChild(t),m.style.display="none",m.style.display="inline"}const yn="--any--",He={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let P=!1,xe,v,U="",z,$,W="";const ue=new WeakSet,ze=new WeakMap,Ye=new WeakMap,Ie=new Map,T=new Map,M=new Map;let fe;function wn(e,t){M.size===0&&(fe=mn(),window.addEventListener("keydown",lt),window.addEventListener("click",ct)),M.has(t)||M.set(t,new Set),M.get(t).has(e)||(M.get(t).add(e),je())}function Ve(e,t){v===e&&ee(),M.get(t).delete(e),Xe(),M.get(t).size===0&&M.delete(t),M.size===0&&(window.removeEventListener("keydown",lt),window.removeEventListener("click",ct),fe=void 0,En())}function lt(e){if(P)switch(e.key){case"Escape":{ee();break}}}function ct(){P&&(ue.has(document.activeElement)||ee())}function Tn(e){if(!P)return;const t=e.currentTarget;if(t===v)return;U=t.getAttribute("aria-label")||"";const{items:n}=T.get(v),i=n.find(u=>u[y]===$),o=n.indexOf(i),a=n.splice(o,1)[0],{items:r,autoAriaDisabled:d}=T.get(t);t.getBoundingClientRect().top<v.getBoundingClientRect().top||t.getBoundingClientRect().left<v.getBoundingClientRect().left?(r.push(a),d||j(`Moved item ${W} to the end of the list ${U}`)):(r.unshift(a),d||j(`Moved item ${W} to the beginning of the list ${U}`)),X(v,n,{trigger:x.DROPPED_INTO_ANOTHER,id:$,source:R.KEYBOARD}),X(t,r,{trigger:x.DROPPED_INTO_ZONE,id:$,source:R.KEYBOARD}),v=t}function ut(){Ie.forEach(({update:e},t)=>e(T.get(t)))}function ee(e=!0){T.get(v).autoAriaDisabled||j(`Stopped dragging item ${W}`),ue.has(document.activeElement)&&document.activeElement.blur(),e&&B(v,T.get(v).items,{trigger:x.DRAG_STOPPED,id:$,source:R.KEYBOARD}),le(M.get(xe),t=>T.get(t).dropTargetStyle,t=>T.get(t).dropTargetClasses),z=null,$=null,W="",xe=null,v=null,U="",P=!1,ut()}function On(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:He,dropTargetClasses:[],autoAriaDisabled:!1};function i(l,g,s){l.length<=1||l.splice(s,1,l.splice(g,1,l[s])[0])}function o(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!ue.has(l.target))return;l.preventDefault(),l.stopPropagation(),P?ee():a(l);break}case"ArrowDown":case"ArrowRight":{if(!P)return;l.preventDefault(),l.stopPropagation();const{items:g}=T.get(e),s=Array.from(e.children),c=s.indexOf(l.currentTarget);c<s.length-1&&(n.autoAriaDisabled||j(`Moved item ${W} to position ${c+2} in the list ${U}`),i(g,c,c+1),X(e,g,{trigger:x.DROPPED_INTO_ZONE,id:$,source:R.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!P)return;l.preventDefault(),l.stopPropagation();const{items:g}=T.get(e),c=Array.from(e.children).indexOf(l.currentTarget);c>0&&(n.autoAriaDisabled||j(`Moved item ${W} to position ${c} in the list ${U}`),i(g,c,c-1),X(e,g,{trigger:x.DROPPED_INTO_ZONE,id:$,source:R.KEYBOARD}));break}}}function a(l){d(l.currentTarget),v=e,xe=n.type,P=!0;const g=Array.from(M.get(n.type)).filter(s=>s===v||!T.get(s).dropFromOthersDisabled);if(re(g,s=>T.get(s).dropTargetStyle,s=>T.get(s).dropTargetClasses),!n.autoAriaDisabled){let s=`Started dragging item ${W}. Use the arrow keys to move it within its list ${U}`;g.length>1&&(s+=", or tab to another list in order to move the item into it"),j(s)}B(e,T.get(e).items,{trigger:x.DRAG_STARTED,id:$,source:R.KEYBOARD}),ut()}function r(l){P&&l.currentTarget!==z&&(l.stopPropagation(),ee(!1),a(l))}function d(l){const{items:g}=T.get(e),s=Array.from(e.children),c=s.indexOf(l);z=l,z.tabIndex=0,$=g[c][y],W=s[c].getAttribute("aria-label")||""}function f({items:l=[],type:g=yn,dragDisabled:s=!1,zoneTabIndex:c=0,dropFromOthersDisabled:h=!1,dropTargetStyle:A=He,dropTargetClasses:C=[],autoAriaDisabled:_=!1}){n.items=[...l],n.dragDisabled=s,n.dropFromOthersDisabled=h,n.zoneTabIndex=c,n.dropTargetStyle=A,n.dropTargetClasses=C,n.autoAriaDisabled=_,n.type&&g!==n.type&&Ve(e,n.type),n.type=g,wn(e,g),_||(e.setAttribute("aria-disabled",s),e.setAttribute("role","list"),e.setAttribute("aria-describedby",s?fe.DND_ZONE_DRAG_DISABLED:fe.DND_ZONE_ACTIVE)),T.set(e,n),P?e.tabIndex=e===v||z.contains(e)||n.dropFromOthersDisabled||v&&n.type!==T.get(v).type?-1:0:e.tabIndex=n.zoneTabIndex,e.addEventListener("focus",Tn);for(let I=0;I<e.children.length;I++){const p=e.children[I];ue.add(p),p.tabIndex=P?-1:0,_||p.setAttribute("role","listitem"),p.removeEventListener("keydown",ze.get(p)),p.removeEventListener("click",Ye.get(p)),s||(p.addEventListener("keydown",o),ze.set(p,o),p.addEventListener("click",r),Ye.set(p,r)),P&&n.items[I][y]===$&&(z=p,z.tabIndex=0,p.focus())}}f(t);const u={update:l=>{f(l)},destroy:()=>{Ve(e,n.type),T.delete(e),Ie.delete(e)}};return Ie.set(e,u),u}function Rn(e,t){Ue(t);const n=pn(e,t),i=On(e,t);return{update:o=>{Ue(o),n.update(o),i.update(o)},destroy:()=>{n.destroy(),i.destroy()}}}function Ue(e){const{items:t,flipDurationMs:n,type:i,dragDisabled:o,morphDisabled:a,dropFromOthersDisabled:r,zoneTabIndex:d,dropTargetStyle:f,dropTargetClasses:u,transformDraggedElement:l,autoAriaDisabled:g,centreDraggedOnCursor:s,...c}=e;if(Object.keys(c).length>0&&console.warn("dndzone will ignore unknown options",c),!t)throw new Error("no 'items' key provided to dndzone");const h=t.find(A=>!{}.hasOwnProperty.call(A,y));if(h)throw new Error(`missing '${y}' property for item ${we(h)}`);if(u&&!Array.isArray(u))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof u}, ${we(u)}`);if(d&&!vn(d))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof d}, ${we(d)}`)}function vn(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Nn(e,{from:t,to:n},i={}){const o=getComputedStyle(e),a=o.transform==="none"?"":o.transform,[r,d]=o.transformOrigin.split(" ").map(parseFloat),f=t.left+t.width*r/n.width-(n.left+r),u=t.top+t.height*d/n.height-(n.top+d),{delay:l=0,duration:g=c=>Math.sqrt(c)*120,easing:s=wt}=i;return{delay:l,duration:ht(g)?g(Math.sqrt(f*f+u*u)):g,easing:s,css:(c,h)=>{const A=h*f,C=h*u,_=c+h*t.width/n.width,I=c+h*t.height/n.height;return`transform: ${a} translate(${A}px, ${C}px) scale(${_}, ${I});`}}}export{Nn as a,In as c,Rn as d,bn as f};
//# sourceMappingURL=index.fb010e26.js.map
