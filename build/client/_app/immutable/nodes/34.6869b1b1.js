import{s as Ne,a as O,c as K,b as C,d as c,e as o,i as U,f as i,n as ae,o as ce,p as de,C as $,x as S,t as Z,D as N,X as Ae,z as M,l as G,L as me,m as le,Q as Se,w as pe,A as he,a7 as Me,a1 as Te,N as je,E as _e}from"../chunks/scheduler.ee52cacd.js";import{S as xe,i as Pe,t as A,a as q,c as ne,b as F,d as J,m as Q,g as ie,e as X,f as ge}from"../chunks/index.a2391391.js";import{e as be}from"../chunks/each.4f9c2159.js";import{s as se,e as ve}from"../chunks/supabase.2c784bff.js";import{g as qe}from"../chunks/navigation.4bf4851d.js";import{T as we}from"../chunks/TextField.05bb724d.js";import{P as Ve,V as Le}from"../chunks/index.550ce75a.js";import{p as re}from"../chunks/user.9ccdc884.js";import{o as Re}from"../chunks/validator.b0d7db8b.js";import{a as Be}from"../chunks/index.90bb86b1.js";import{g as He}from"../chunks/org.214021e8.js";import{t as ze,h as Oe}from"../chunks/translations.f943b7b3.js";import{L as Ce}from"../chunks/index.89e0ac82.js";import{D as Ke}from"../chunks/Dropdown.2e34ff7a.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l=new Error().stack;l&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[l]="7356a80a-7c33-4515-bb00-c284f3315441",r._sentryDebugIdIdentifier="sentry-dbid-7356a80a-7c33-4515-bb00-c284f3315441")}catch{}})();function Ue(r){let l,e,t,s,a,_,d;return{c(){l=O("svg"),e=O("g"),t=O("path"),s=O("path"),a=O("defs"),_=O("clipPath"),d=O("rect"),this.h()},l(u){l=K(u,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var b=C(l);e=K(b,"g",{"clip-path":!0});var m=C(e);t=K(m,"path",{d:!0,fill:!0}),C(t).forEach(c),s=K(m,"path",{d:!0,fill:!0}),C(s).forEach(c),m.forEach(c),a=K(b,"defs",{});var p=C(a);_=K(p,"clipPath",{id:!0});var f=C(_);d=K(f,"rect",{width:!0,height:!0,fill:!0}),C(d).forEach(c),f.forEach(c),p.forEach(c),b.forEach(c),this.h()},h(){o(t,"d","M16 8C15.0111 8 14.0444 8.29325 13.2222 8.84265C12.3999 9.39206 11.759 10.173 11.3806 11.0866C11.0022 12.0002 10.9031 13.0055 11.0961 13.9755C11.289 14.9454 11.7652 15.8363 12.4645 16.5355C13.1637 17.2348 14.0546 17.711 15.0246 17.9039C15.9945 18.0969 16.9998 17.9978 17.9134 17.6194C18.8271 17.241 19.6079 16.6001 20.1574 15.7779C20.7068 14.9556 21 13.9889 21 13C21 11.6739 20.4732 10.4021 19.5355 9.46447C18.5979 8.52678 17.3261 8 16 8Z"),o(t,"fill","#ADADAD"),o(s,"d","M16 2C13.2311 2 10.5243 2.82109 8.22202 4.35943C5.91973 5.89777 4.12532 8.08427 3.06569 10.6424C2.00607 13.2006 1.72882 16.0155 2.26901 18.7313C2.80921 21.447 4.14258 23.9416 6.10051 25.8995C8.05845 27.8574 10.553 29.1908 13.2687 29.731C15.9845 30.2712 18.7994 29.9939 21.3576 28.9343C23.9157 27.8747 26.1022 26.0803 27.6406 23.778C29.1789 21.4757 30 18.7689 30 16C29.9958 12.2883 28.5195 8.72973 25.8949 6.10512C23.2703 3.48052 19.7118 2.00418 16 2ZM23.9925 24.9258C23.9726 23.614 23.4382 22.3626 22.5043 21.4412C21.5704 20.5198 20.3119 20.0022 19 20H13C11.6881 20.0022 10.4296 20.5198 9.49573 21.4412C8.56186 22.3626 8.02739 23.614 8.00751 24.9258C6.19407 23.3065 4.91524 21.1747 4.34034 18.8125C3.76545 16.4503 3.92161 13.9691 4.78814 11.6977C5.65468 9.42618 7.19073 7.47147 9.19288 6.09237C11.195 4.71327 13.5688 3.97483 16 3.97483C18.4312 3.97483 20.805 4.71327 22.8071 6.09237C24.8093 7.47147 26.3453 9.42618 27.2119 11.6977C28.0784 13.9691 28.2346 16.4503 27.6597 18.8125C27.0848 21.1747 25.8059 23.3065 23.9925 24.9258Z"),o(s,"fill","#ADADAD"),o(e,"clip-path","url(#clip0_174_5581)"),o(d,"width","32"),o(d,"height","32"),o(d,"fill","white"),o(_,"id","clip0_174_5581"),o(l,"width","32"),o(l,"height","32"),o(l,"viewBox","0 0 32 32"),o(l,"fill","none"),o(l,"xmlns","http://www.w3.org/2000/svg")},m(u,b){U(u,l,b),i(l,e),i(e,t),i(e,s),i(l,a),i(a,_),i(_,d)},p:ae,i:ae,o:ae,d(u){u&&c(l)}}}class Ye extends xe{constructor(l){super(),Pe(this,l,null,Ue,Ne,{})}}function ye(r,l,e){const t=r.slice();return t[19]=l[e],t}function Ee(r){let l,e,t,s,a='<img src="/logo-192.png" alt="KinetsHub logo" height="50" width="50" data-atf="1"/> <h4 class="dark:text-white text-xl">KinetsHub</h4>',_,d,u,b,m,p=r[5].email+"",f,E,P,k,I,T,V,v,w,n,g,h,D,B;u=new Ye({});const z=[Ge,Ze],j=[];function Y(y,L){return y[1]===1?0:1}k=Y(r),I=j[k]=z[k](r);let x=r[1]>1&&De(r);return D=new Ve({props:{label:r[6]("onboarding.continue"),variant:Le.CONTAINED,type:"button",className:"px-5 py-3",isLoading:r[4],onClick:r[10]}}),{c(){l=$("div"),e=$("div"),t=$("div"),s=$("div"),s.innerHTML=a,_=S(),d=$("div"),F(u.$$.fragment),b=S(),m=$("p"),f=Z(p),E=S(),P=$("div"),I.c(),T=S(),V=$("div"),v=$("div"),w=$("span"),n=S(),g=$("div"),x&&x.c(),h=S(),F(D.$$.fragment),this.h()},l(y){l=N(y,"DIV",{class:!0});var L=C(l);e=N(L,"DIV",{class:!0});var R=C(e);t=N(R,"DIV",{class:!0});var H=C(t);s=N(H,"DIV",{class:!0,"data-svelte-h":!0}),Ae(s)!=="svelte-12fb6p5"&&(s.innerHTML=a),_=M(H),d=N(H,"DIV",{class:!0});var W=C(d);J(u.$$.fragment,W),b=M(W),m=N(W,"P",{class:!0});var oe=C(m);f=G(oe,p),oe.forEach(c),W.forEach(c),H.forEach(c),E=M(R),P=N(R,"DIV",{class:!0});var fe=C(P);I.l(fe),fe.forEach(c),T=M(R),V=N(R,"DIV",{class:!0});var ee=C(V);v=N(ee,"DIV",{class:!0});var ue=C(v);w=N(ue,"SPAN",{class:!0,style:!0}),C(w).forEach(c),ue.forEach(c),n=M(ee),g=N(ee,"DIV",{class:!0});var te=C(g);x&&x.l(te),h=M(te),J(D.$$.fragment,te),te.forEach(c),ee.forEach(c),R.forEach(c),L.forEach(c),this.h()},h(){o(s,"class","flex items-center w-full justify-center mb-4"),o(m,"class","dark:text-white text-sm ml-2"),o(d,"class","w-64 flex items-center justify-center mb-6 py-6 bg-gray-100 dark:bg-neutral-800 rounded-2xl border border-gray-300"),o(t,"class","flex flex-col items-center"),o(P,"class","form-container overflow-y-auto w-full px-2 svelte-etgh37"),o(w,"class","progress absolute top-0 left-0 bg-primary-700 h-full"),me(w,"width",r[3]+"%"),o(v,"class","w-24 h-2 bg-gray-300 relative"),o(g,"class","flex"),o(V,"class","flex justify-between items-center mt-8 w-full"),o(e,"class","flex justify-center items-center flex-col w-9/12 max-w-md"),o(l,"class","w-full min-h-screen flex justify-center")},m(y,L){U(y,l,L),i(l,e),i(e,t),i(t,s),i(t,_),i(t,d),Q(u,d,null),i(d,b),i(d,m),i(m,f),i(e,E),i(e,P),j[k].m(P,null),i(e,T),i(e,V),i(V,v),i(v,w),i(V,n),i(V,g),x&&x.m(g,null),i(g,h),Q(D,g,null),B=!0},p(y,L){(!B||L&32)&&p!==(p=y[5].email+"")&&le(f,p);let R=k;k=Y(y),k===R?j[k].p(y,L):(ie(),q(j[R],1,1,()=>{j[R]=null}),ne(),I=j[k],I?I.p(y,L):(I=j[k]=z[k](y),I.c()),A(I,1),I.m(P,null)),(!B||L&8)&&me(w,"width",y[3]+"%"),y[1]>1?x?(x.p(y,L),L&2&&A(x,1)):(x=De(y),x.c(),A(x,1),x.m(g,h)):x&&(ie(),q(x,1,1,()=>{x=null}),ne());const H={};L&64&&(H.label=y[6]("onboarding.continue")),L&16&&(H.isLoading=y[4]),D.$set(H)},i(y){B||(A(u.$$.fragment,y),A(I),A(x),A(D.$$.fragment,y),B=!0)},o(y){q(u.$$.fragment,y),q(I),q(x),q(D.$$.fragment,y),B=!1},d(y){y&&c(l),X(u),j[k].d(),x&&x.d(),X(D)}}}function Ze(r){let l,e,t,s,a=r[6]("onboarding.how")+"",_,d,u,b,m,p,f=r[6]("content.toggle_label")+"",E,P,k,I,T,V=be(r[8]),v=[];for(let n=0;n<V.length;n+=1)v[n]=ke(ye(r,V,n));let w=r[2].source&&Ie(r);return I=new Ke({props:{items:r[7],selectedId:Qe,class:"w-full"}}),I.$on("select",r[9]),{c(){l=$("div"),e=$("div"),t=$("div"),s=$("label"),_=Z(a),d=S();for(let n=0;n<v.length;n+=1)v[n].c();u=S(),w&&w.c(),b=S(),m=$("div"),p=$("span"),E=Z(f),P=Z(":"),k=S(),F(I.$$.fragment),this.h()},l(n){l=N(n,"DIV",{id:!0,class:!0});var g=C(l);e=N(g,"DIV",{class:!0});var h=C(e);t=N(h,"DIV",{class:!0});var D=C(t);s=N(D,"LABEL",{for:!0,class:!0});var B=C(s);_=G(B,a),B.forEach(c),d=M(D);for(let Y=0;Y<v.length;Y+=1)v[Y].l(D);u=M(D),w&&w.l(D),D.forEach(c),b=M(h),m=N(h,"DIV",{class:!0});var z=C(m);p=N(z,"SPAN",{});var j=C(p);E=G(j,f),P=G(j,":"),j.forEach(c),k=M(z),J(I.$$.fragment,z),z.forEach(c),h.forEach(c),g.forEach(c),this.h()},h(){o(s,"for","text-field"),o(s,"class","dark:text-white m-0 text-lg font-normal mb-3"),o(t,"class","w-full flex items-start flex-col justify-between"),o(m,"class","mt-10"),o(e,"class","w-10/12"),o(l,"id","goal-question"),o(l,"class","flex items-center flex-col mb-6")},m(n,g){U(n,l,g),i(l,e),i(e,t),i(t,s),i(s,_),i(t,d);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(t,null);i(t,u),w&&w.m(t,null),i(e,b),i(e,m),i(m,p),i(p,E),i(p,P),i(m,k),Q(I,m,null),T=!0},p(n,g){if((!T||g&64)&&a!==(a=n[6]("onboarding.how")+"")&&le(_,a),g&257){V=be(n[8]);let h;for(h=0;h<V.length;h+=1){const D=ye(n,V,h);v[h]?v[h].p(D,g):(v[h]=ke(D),v[h].c(),v[h].m(t,u))}for(;h<v.length;h+=1)v[h].d(1);v.length=V.length}n[2].source?w?w.p(n,g):(w=Ie(n),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!T||g&64)&&f!==(f=n[6]("content.toggle_label")+"")&&le(E,f)},i(n){T||(A(I.$$.fragment,n),T=!0)},o(n){q(I.$$.fragment,n),T=!1},d(n){n&&c(l),Se(v,n),w&&w.d(),X(I)}}}function Ge(r){let l,e,t,s,a,_,d;function u(f){r[11](f)}let b={label:r[6]("onboarding.fullname"),name:"fullname",type:"text",placeholder:"e.g Joke Silva",className:"mb-5 w-full",labelClassName:"text-lg font-normal",errorMessage:r[2].fullname,isRequired:!0};r[0].fullname!==void 0&&(b.value=r[0].fullname),e=new we({props:b}),pe.push(()=>ge(e,"value",u));function m(f){r[12](f)}let p={label:r[6]("onboarding.phone"),name:"Phone",type:"text",placeholder:"e.g 25198765",className:"mb-5 w-full",labelClassName:"text-lg font-normal",errorMessage:r[2].phone,isRequired:!0};return r[0].phone!==void 0&&(p.value=r[0].phone),a=new we({props:p}),pe.push(()=>ge(a,"value",m)),{c(){l=$("div"),F(e.$$.fragment),s=S(),F(a.$$.fragment),this.h()},l(f){l=N(f,"DIV",{id:!0,class:!0});var E=C(l);J(e.$$.fragment,E),s=M(E),J(a.$$.fragment,E),E.forEach(c),this.h()},h(){o(l,"id","role-question"),o(l,"class","flex items-start flex-col mb-6")},m(f,E){U(f,l,E),Q(e,l,null),i(l,s),Q(a,l,null),d=!0},p(f,E){const P={};E&64&&(P.label=f[6]("onboarding.fullname")),E&4&&(P.errorMessage=f[2].fullname),!t&&E&1&&(t=!0,P.value=f[0].fullname,he(()=>t=!1)),e.$set(P);const k={};E&64&&(k.label=f[6]("onboarding.phone")),E&4&&(k.errorMessage=f[2].phone),!_&&E&1&&(_=!0,k.value=f[0].phone,he(()=>_=!1)),a.$set(k)},i(f){d||(A(e.$$.fragment,f),A(a.$$.fragment,f),d=!0)},o(f){q(e.$$.fragment,f),q(a.$$.fragment,f),d=!1},d(f){f&&c(l),X(e),X(a)}}}function ke(r){let l,e,t,s=r[19].label+"",a,_,d,u,b;return d=Me(r[14][0]),{c(){l=$("label"),e=$("input"),t=S(),a=Z(s),_=S(),this.h()},l(m){l=N(m,"LABEL",{class:!0});var p=C(l);e=N(p,"INPUT",{type:!0,name:!0,class:!0}),t=M(p),a=G(p,s),_=M(p),p.forEach(c),this.h()},h(){o(e,"type","radio"),o(e,"name","source"),e.__value=r[19].value,Te(e,e.__value),o(e,"class","mr-2"),o(l,"class","dark:text-white w-full inline-flex items-center mb-1 font-light"),d.p(e)},m(m,p){U(m,l,p),i(l,e),e.checked=e.__value===r[0].source,i(l,t),i(l,a),i(l,_),u||(b=je(e,"change",r[13]),u=!0)},p(m,p){p&1&&(e.checked=e.__value===m[0].source)},d(m){m&&c(l),d.r(),u=!1,b()}}}function Ie(r){let l,e=r[2].source+"",t;return{c(){l=$("p"),t=Z(e),this.h()},l(s){l=N(s,"P",{class:!0});var a=C(l);t=G(a,e),a.forEach(c),this.h()},h(){o(l,"class","text-sm text-red-500")},m(s,a){U(s,l,a),i(l,t)},p(s,a){a&4&&e!==(e=s[2].source+"")&&le(t,e)},d(s){s&&c(l)}}}function De(r){let l,e;return l=new Ve({props:{label:r[6]("onboarding.back"),variant:Le.NONE,className:"py-3 px-6 mr-2 text-primary-700",onClick:r[15]}}),{c(){F(l.$$.fragment)},l(t){J(l.$$.fragment,t)},m(t,s){Q(l,t,s),e=!0},p(t,s){const a={};s&64&&(a.label=t[6]("onboarding.back")),s&2&&(a.onClick=t[15]),l.$set(a)},i(t){e||(A(l.$$.fragment,t),e=!0)},o(t){q(l.$$.fragment,t),e=!1},d(t){X(l,t)}}}function Fe(r){let l,e,t=r[5].id&&Ee(r);return{c(){t&&t.c(),l=ce()},l(s){t&&t.l(s),l=ce()},m(s,a){t&&t.m(s,a),U(s,l,a),e=!0},p(s,[a]){s[5].id?t?(t.p(s,a),a&32&&A(t,1)):(t=Ee(s),t.c(),A(t,1),t.m(l.parentNode,l)):t&&(ie(),q(t,1,1,()=>{t=null}),ne())},i(s){e||(A(t),e=!0)},o(s){q(t),e=!1},d(s){s&&c(l),t&&t.d(s)}}}const $e=2;let Je=!1,Qe="en";function Xe(r,l,e){let t,s;de(r,re,n=>e(5,t=n)),de(r,ze,n=>e(6,s=n));let a={fullname:"",orgName:"",goal:"Learning",siteName:"",locale:Ce.EN},_={},d=50,u=1,b=!1,m=[{id:"en",text:"English"},{id:"hi",text:"Hindi"},{id:"fr",text:"French"},{id:"pt",text:"Portuguese"},{id:"de",text:"German"},{id:"vi",text:"Vietnamese"},{id:"ru",text:"Russian"},{id:"es",text:"Spanish"}];s("onboarding.sell"),s("onboarding.teach"),s("onboarding.employees"),s("onboarding.customers"),s("onboarding.expanding");const p=[{label:s("onboarding.articles"),value:"articles"},{label:s("onboarding.search"),value:"search-engine"},{label:s("onboarding.social"),value:"social-media"},{label:s("onboarding.friends"),value:"friends-family"}];function f(n){const g=n.detail.selectedId;e(0,a.locale=g,a)}async function E(){if(!ve.PUBLIC_IP_REGISTRY_KEY)return;const g=await(await fetch(`https://api.ipregistry.co/?key=${ve.PUBLIC_IP_REGISTRY_KEY}`)).json();e(0,a.metadata=g,a)}function P(n,g){var h,D;!n||g||e(0,a.siteName=(D=(h=n==null?void 0:n.toLowerCase())==null?void 0:h.replace(/\s+/g,"-"))==null?void 0:D.replace(/[^a-zA-Z0-9-]/g,""),a)}const k=async()=>{if(e(4,b=!0),console.log(a),e(2,_=Re(a,u)),console.log("errors",_),Object.keys(_).length||!t.id){e(4,b=!1);return}if(u===1){const{data:n,error:g}=await se.from("organization").select().eq("name","KinetsHub").single();if(await se.from("organizationmember").insert({organization_id:n.id,profile_id:t.id,role_id:3,verified:!0}).select(),g){e(4,b=!1);return}await Be(t.id)}if(u===$e)return await E(),await se.from("profile").update({...a,orgName:void 0,siteName:void 0}).match({id:t.id}),e(4,b=!1),a.fullname&&_e(re,t.fullname=a.fullname,t),a.locale&&(_e(re,t.locale=a.locale,t),a.locale!==Ce.EN&&Oe(a.locale)),qe("/lms");e(1,u=u+1),e(4,b=!1)},I=[[]];function T(n){r.$$.not_equal(a.fullname,n)&&(a.fullname=n,e(0,a))}function V(n){r.$$.not_equal(a.phone,n)&&(a.phone=n,e(0,a))}function v(){a.source=this.__value,e(0,a)}const w=()=>e(1,u=u-1);return r.$$.update=()=>{r.$$.dirty&2&&e(3,d=Math.round(u/$e*100)),r.$$.dirty&1&&e(0,a.siteName=He(a.siteName||""),a),r.$$.dirty&1&&P(a.orgName,Je)},[a,u,_,d,b,t,s,m,p,f,k,T,V,v,I,w]}class mt extends xe{constructor(l){super(),Pe(this,l,Xe,Fe,Ne,{})}}export{mt as component};
//# sourceMappingURL=34.6869b1b1.js.map
