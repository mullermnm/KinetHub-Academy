import{s as W,g as ve,a as ne,c as se,b as w,d,e as h,h as ye,i as C,f as _,n as te,j as Ee,k as Ie,t as F,l as Y,m as G,C as k,x as I,D as q,z as D,q as Ge,N as pe,u as Xe,r as Je,v as We,G as Ze,Q as He,H as xe,o as _e,p as B,w as Ae,y as Le,A as Re,a4 as et,E as U,X as tt}from"../chunks/scheduler.ee52cacd.js";import{S as Z,i as x,b as Q,d as N,m as M,t as g,a as b,e as V,g as ie,c as ae,f as Ke}from"../chunks/index.a2391391.js";import{e as he}from"../chunks/each.4f9c2159.js";import{B as lt}from"../chunks/index.6649ce47.js";import{S as rt}from"../chunks/SkeletonPlaceholder.85251fa5.js";import{S as De}from"../chunks/SkeletonText.4f748957.js";import{p as Ce}from"../chunks/pluralize.2d93e111.js";import{g as nt}from"../chunks/spread.5cc747ed.js";import{E as L,u as st,j as Ue,y as de,h as Fe,v as oe}from"../chunks/org.1ee4885a.js";import{P as ge,V as ot}from"../chunks/index.550ce75a.js";import{c as Qe}from"../chunks/date.4043184d.js";import{t as we}from"../chunks/translations.f943b7b3.js";import{I as it}from"../chunks/ImageLoader.531bb295.js";import{C as at}from"../chunks/CoursesEmptyIcon.6beb1fc2.js";import{s as Ye}from"../chunks/store.21c1b842.js";import{s as ze}from"../chunks/supabase.2c784bff.js";import{g as ut}from"../chunks/navigation.4bf4851d.js";import{M as ft}from"../chunks/index.bf0b6763.js";import{T as ct}from"../chunks/TextField.05bb724d.js";import{j as mt}from"../chunks/validator.b0d7db8b.js";import{D as dt}from"../chunks/DeleteModal.ddab4f06.js";import{i as pt}from"../chunks/useMobile.7962b2bd.js";import{A as _t}from"../chunks/Add.efc40c97.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="e218f18d-6ab8-4945-8f0f-8afd8990bba9",s._sentryDebugIdIdentifier="sentry-dbid-e218f18d-6ab8-4945-8f0f-8afd8990bba9")}catch{}})();function Ne(s){let t,r;return{c(){t=ne("title"),r=F(s[1])},l(e){t=se(e,"title",{});var l=w(t);r=Y(l,s[1]),l.forEach(d)},m(e,l){C(e,t,l),_(t,r)},p(e,l){l&2&&G(r,e[1])},d(e){e&&d(t)}}}function ht(s){let t,r,e,l,o=s[1]&&Ne(s),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:s[0]},{height:s[0]},s[2],s[3]],i={};for(let n=0;n<a.length;n+=1)i=ve(i,a[n]);return{c(){t=ne("svg"),o&&o.c(),r=ne("circle"),e=ne("circle"),l=ne("circle"),this.h()},l(n){t=se(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=w(t);o&&o.l(u),r=se(u,"circle",{cx:!0,cy:!0,r:!0}),w(r).forEach(d),e=se(u,"circle",{cx:!0,cy:!0,r:!0}),w(e).forEach(d),l=se(u,"circle",{cx:!0,cy:!0,r:!0}),w(l).forEach(d),u.forEach(d),this.h()},h(){h(r,"cx","8"),h(r,"cy","16"),h(r,"r","2"),h(e,"cx","16"),h(e,"cy","16"),h(e,"r","2"),h(l,"cx","24"),h(l,"cy","16"),h(l,"r","2"),ye(t,i)},m(n,u){C(n,t,u),o&&o.m(t,null),_(t,r),_(t,e),_(t,l)},p(n,[u]){n[1]?o?o.p(n,u):(o=Ne(n),o.c(),o.m(t,r)):o&&(o.d(1),o=null),ye(t,i=nt(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:n[0]},u&1&&{height:n[0]},u&4&&n[2],u&8&&n[3]]))},i:te,o:te,d(n){n&&d(t),o&&o.d()}}}function gt(s,t,r){let e,l;const o=["size","title"];let a=Ee(t,o),{size:i=16}=t,{title:n=void 0}=t;return s.$$set=u=>{r(5,t=ve(ve({},t),Ie(u))),r(3,a=Ee(t,o)),"size"in u&&r(0,i=u.size),"title"in u&&r(1,n=u.title)},s.$$.update=()=>{r(4,e=t["aria-label"]||t["aria-labelledby"]||n),r(2,l={"aria-hidden":e?void 0:!0,role:e?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=Ie(t),[i,n,l,a,e]}class bt extends Z{constructor(t){super(),x(this,t,gt,ht,W,{size:0,title:1})}}function $t(s){let t,r,e,l,o,a,i,n;return r=new rt({props:{style:"width: 20%; height: 100%;"}}),o=new De({props:{style:"width: 50%;"}}),i=new De({props:{style:"width: 50%; height: 4rem;"}}),{c(){t=k("div"),Q(r.$$.fragment),e=I(),l=k("div"),Q(o.$$.fragment),a=I(),Q(i.$$.fragment),this.h()},l(u){t=q(u,"DIV",{class:!0});var m=w(t);N(r.$$.fragment,m),e=D(m),l=q(m,"DIV",{class:!0});var p=w(l);N(o.$$.fragment,p),a=D(p),N(i.$$.fragment,p),p.forEach(d),m.forEach(d),this.h()},h(){h(l,"class","w-full mx-5 flex justify-evenly flex-col"),h(t,"class","root w-full border border-gray-100 dark:border-neutral-600 dark:bg-neutral-800 mr-4 mb-4 rounded-md transition ease-in-out relative flex p-3 svelte-50f6f4")},m(u,m){C(u,t,m),M(r,t,null),_(t,e),_(t,l),M(o,l,null),_(l,a),M(i,l,null),n=!0},p:te,i(u){n||(g(r.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),n=!0)},o(u){b(r.$$.fragment,u),b(o.$$.fragment,u),b(i.$$.fragment,u),n=!1},d(u){u&&d(t),V(r),V(o),V(i)}}}class $e extends Z{constructor(t){super(),x(this,t,null,$t,W,{})}}function Me(s,t,r){const e=s.slice();return e[10]=t[r],e[12]=r,e}function Ve(s){let t,r=he(s[0]),e=[];for(let l=0;l<r.length;l+=1)e[l]=je(Me(s,r,l));return{c(){t=k("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=q(l,"DIV",{class:!0});var o=w(t);for(let a=0;a<e.length;a+=1)e[a].l(o);o.forEach(d),this.h()},h(){h(t,"class","dropdown whitespace-nowrap bg-white dark:bg-black border border-grey rounded-lg mt-2 py-3 absolute svelte-roo133")},m(l,o){C(l,t,o);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,o){if(o&49){r=he(l[0]);let a;for(a=0;a<r.length;a+=1){const i=Me(l,r,a);e[a]?e[a].p(i,o):(e[a]=je(i),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=r.length}},d(l){l&&d(t),He(e,l)}}}function je(s){let t,r=s[10].label+"",e,l,o,a;return{c(){t=k("button"),e=F(r),l=I(),this.h()},l(i){t=q(i,"BUTTON",{class:!0});var n=w(t);e=Y(n,r),l=D(n),n.forEach(d),this.h()},h(){h(t,"class","block px-4 py-3 text-left hover:bg-primary-100 "+(!s[4](s[12])&&"border-b")+" w-full dark:text-white dark:hover:text-black svelte-roo133")},m(i,n){C(i,t,n),_(t,e),_(t,l),o||(a=pe(t,"click",function(){xe(s[5](s[10]))&&s[5](s[10]).apply(this,arguments)}),o=!0)},p(i,n){s=i,n&1&&r!==(r=s[10].label+"")&&G(e,r)},d(i){i&&d(t),o=!1,a()}}}function vt(s){let t,r,e,l,o,a,i,n;const u=s[8].default,m=Ge(u,s,s[7],null);let p=s[3]&&Ve(s);return{c(){t=k("div"),r=k("button"),m&&m.c(),l=I(),p&&p.c(),this.h()},l(f){t=q(f,"DIV",{class:!0});var c=w(t);r=q(c,"BUTTON",{class:!0});var z=w(r);m&&m.l(z),z.forEach(d),l=D(c),p&&p.l(c),c.forEach(d),this.h()},h(){h(r,"class",e="flex flex-row items-center "+(!s[2]&&Oe)+" svelte-roo133"),h(t,"class",o=s[1]+" z-10 "+(!s[0].length&&"hidden")+" svelte-roo133")},m(f,c){C(f,t,c),_(t,r),m&&m.m(r,null),_(t,l),p&&p.m(t,null),a=!0,i||(n=[pe(r,"click",s[9]),pe(r,"blur",s[6])],i=!0)},p(f,[c]){m&&m.p&&(!a||c&128)&&Xe(m,u,f,f[7],a?We(u,f[7],c,null):Je(f[7]),null),(!a||c&4&&e!==(e="flex flex-row items-center "+(!f[2]&&Oe)+" svelte-roo133"))&&h(r,"class",e),f[3]?p?p.p(f,c):(p=Ve(f),p.c(),p.m(t,null)):p&&(p.d(1),p=null),(!a||c&3&&o!==(o=f[1]+" z-10 "+(!f[0].length&&"hidden")+" svelte-roo133"))&&h(t,"class",o)},i(f){a||(g(m,f),a=!0)},o(f){b(m,f),a=!1},d(f){f&&d(t),m&&m.d(f),p&&p.d(),i=!1,Ze(n)}}}const Oe="border rounded-lg border-grey p-3 focus:outline-none focus:border-gray-400 focus:bg-gray-200";function zt(s,t,r){let{$$slots:e={},$$scope:l}=t,{options:o=[]}=t,{classNames:a="relative"}=t,{isIcon:i=!1}=t,n=!1;function u(c){return c===o.length-1}function m(c){return()=>{r(3,n=!n),c&&c.onClick&&c.onClick()}}function p(){setTimeout(()=>r(3,n=!1),100)}const f=c=>{c.preventDefault(),c.stopImmediatePropagation(),r(3,n=!n)};return s.$$set=c=>{"options"in c&&r(0,o=c.options),"classNames"in c&&r(1,a=c.classNames),"isIcon"in c&&r(2,i=c.isIcon),"$$scope"in c&&r(7,l=c.$$scope)},[o,a,i,n,u,m,p,l,e,f]}class wt extends Z{constructor(t){super(),x(this,t,zt,vt,W,{options:0,classNames:1,isIcon:2})}}function kt(s){L.update(t=>({...t,id:s.id,title:s.title,openEdit:!0}))}function qt(s){st.update(t=>({...t,open:!0,id:s.id}))}function Pe(s){var ke;let t,r,e,l,o,a,i,n=s[0].title+"",u,m,p,f,c,z,E,$,O=Ce("question",s[1],!0)+"",P,ee,v,S=s[2]("components.quiz.updated")+"",H,T,A=Qe(s[0].updated_at)+"",ue,be,K,R;return r=new it({props:{src:((ke=de[s[0].theme])==null?void 0:ke.card)||de.standard.card,alt:"quiz-card",style:"max-width:300px, min-width: 200px;"}}),f=new wt({props:{options:s[4](),classNames:"absolute top-4 right-4",isIcon:!0,$$slots:{default:[yt]},$$scope:{ctx:s}}}),K=new ge({props:{className:"px-6 py-3",variant:ot.OUTLINED,label:s[2]("components.quiz.start"),onClick:It}}),{c(){t=k("div"),Q(r.$$.fragment),e=I(),l=k("div"),o=k("div"),a=k("h4"),i=k("a"),u=F(n),p=I(),Q(f.$$.fragment),c=I(),z=k("div"),E=k("div"),$=k("p"),P=F(O),ee=I(),v=k("p"),H=F(S),T=I(),ue=F(A),be=I(),Q(K.$$.fragment),this.h()},l(y){t=q(y,"DIV",{class:!0});var j=w(t);N(r.$$.fragment,j),e=D(j),l=q(j,"DIV",{class:!0});var X=w(l);o=q(X,"DIV",{class:!0});var J=w(o);a=q(J,"H4",{class:!0});var le=w(a);i=q(le,"A",{href:!0});var re=w(i);u=Y(re,n),re.forEach(d),le.forEach(d),p=D(J),N(f.$$.fragment,J),J.forEach(d),c=D(X),z=q(X,"DIV",{class:!0});var fe=w(z);E=q(fe,"DIV",{});var ce=w(E);$=q(ce,"P",{class:!0});var qe=w($);P=Y(qe,O),qe.forEach(d),ee=D(ce),v=q(ce,"P",{class:!0});var me=w(v);H=Y(me,S),T=D(me),ue=Y(me,A),me.forEach(d),ce.forEach(d),be=D(fe),N(K.$$.fragment,fe),fe.forEach(d),X.forEach(d),j.forEach(d),this.h()},h(){h(i,"href",m=s[3]+"/quiz/"+s[0].id),h(a,"class","dark:text-white title text-md font-bold capitalize"),h(o,"class","flex justify-between"),h($,"class","mb-2"),h(v,"class","mb-2 md:mb-0"),h(z,"class","flex md:flex-row flex-col justify-between"),h(l,"class","p-2 md:p-5 flex flex-col justify-between w-full"),h(t,"class","root w-full border hover:shadow-2xl transition ease-in-out rounded-lg bg-gray-100 dark:bg-black mb-5 relative flex flex-col lg:flex-row p-3 svelte-sj2nhp")},m(y,j){C(y,t,j),M(r,t,null),_(t,e),_(t,l),_(l,o),_(o,a),_(a,i),_(i,u),_(o,p),M(f,o,null),_(l,c),_(l,z),_(z,E),_(E,$),_($,P),_(E,ee),_(E,v),_(v,H),_(v,T),_(v,ue),_(z,be),M(K,z,null),R=!0},p(y,j){var re;const X={};j&1&&(X.src=((re=de[y[0].theme])==null?void 0:re.card)||de.standard.card),r.$set(X),(!R||j&1)&&n!==(n=y[0].title+"")&&G(u,n),(!R||j&9&&m!==(m=y[3]+"/quiz/"+y[0].id))&&h(i,"href",m);const J={};j&32&&(J.$$scope={dirty:j,ctx:y}),f.$set(J),(!R||j&2)&&O!==(O=Ce("question",y[1],!0)+"")&&G(P,O),(!R||j&4)&&S!==(S=y[2]("components.quiz.updated")+"")&&G(H,S),(!R||j&1)&&A!==(A=Qe(y[0].updated_at)+"")&&G(ue,A);const le={};j&4&&(le.label=y[2]("components.quiz.start")),K.$set(le)},i(y){R||(g(r.$$.fragment,y),g(f.$$.fragment,y),g(K.$$.fragment,y),R=!0)},o(y){b(r.$$.fragment,y),b(f.$$.fragment,y),b(K.$$.fragment,y),R=!1},d(y){y&&d(t),V(r),V(f),V(K)}}}function yt(s){let t,r,e;return r=new bt({props:{size:20,class:"carbon-icon active"}}),{c(){t=k("div"),Q(r.$$.fragment),this.h()},l(l){t=q(l,"DIV",{class:!0});var o=w(t);N(r.$$.fragment,o),o.forEach(d),this.h()},h(){h(t,"class","p-1 rounded-full bg-gray-200 dark:bg-gray-600")},m(l,o){C(l,t,o),M(r,t,null),e=!0},p:te,i(l){e||(g(r.$$.fragment,l),e=!0)},o(l){b(r.$$.fragment,l),e=!1},d(l){l&&d(t),V(r)}}}function Et(s){let t,r,e=s[0]&&Pe(s);return{c(){e&&e.c(),t=_e()},l(l){e&&e.l(l),t=_e()},m(l,o){e&&e.m(l,o),C(l,t,o),r=!0},p(l,[o]){l[0]?e?(e.p(l,o),o&1&&g(e,1)):(e=Pe(l),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(ie(),b(e,1,1,()=>{e=null}),ae())},i(l){r||(g(e),r=!0)},o(l){b(e),r=!1},d(l){l&&d(t),e&&e.d(l)}}}function It(){}function Dt(s,t,r){let e,l;B(s,we,n=>r(2,e=n)),B(s,Ue,n=>r(3,l=n));let{quiz:o}=t,{totalQuestions:a}=t;function i(){return[{label:e("components.quiz.rename"),onClick(){kt(o)}},{label:e("components.quiz.delete"),onClick(){qt(o)}}]}return s.$$set=n=>{"quiz"in n&&r(0,o=n.quiz),"totalQuestions"in n&&r(1,a=n.totalQuestions)},[o,a,e,l,i]}class Ct extends Z{constructor(t){super(),x(this,t,Dt,Et,W,{quiz:0,totalQuestions:1})}}function Se(s,t,r){const e=s.slice();return e[5]=t[r],e}function Qt(s){let t,r,e=he(s[1]),l=[];for(let i=0;i<e.length;i+=1)l[i]=Be(Se(s,e,i));const o=i=>b(l[i],1,1,()=>{l[i]=null});let a=null;return e.length||(a=Te(s)),{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=_e(),a&&a.c()},l(i){for(let n=0;n<l.length;n+=1)l[n].l(i);t=_e(),a&&a.l(i)},m(i,n){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(i,n);C(i,t,n),a&&a.m(i,n),r=!0},p(i,n){if(n&6){e=he(i[1]);let u;for(u=0;u<e.length;u+=1){const m=Se(i,e,u);l[u]?(l[u].p(m,n),g(l[u],1)):(l[u]=Be(m),l[u].c(),g(l[u],1),l[u].m(t.parentNode,t))}for(ie(),u=e.length;u<l.length;u+=1)o(u);ae(),!e.length&&a?a.p(i,n):e.length?a&&(ie(),b(a,1,1,()=>{a=null}),ae()):(a=Te(i),a.c(),g(a,1),a.m(t.parentNode,t))}},i(i){if(!r){for(let n=0;n<e.length;n+=1)g(l[n]);r=!0}},o(i){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)b(l[n]);r=!1},d(i){i&&d(t),He(l,i),a&&a.d(i)}}}function Nt(s){let t,r,e,l,o,a;return t=new $e({}),e=new $e({}),o=new $e({}),{c(){Q(t.$$.fragment),r=I(),Q(e.$$.fragment),l=I(),Q(o.$$.fragment)},l(i){N(t.$$.fragment,i),r=D(i),N(e.$$.fragment,i),l=D(i),N(o.$$.fragment,i)},m(i,n){M(t,i,n),C(i,r,n),M(e,i,n),C(i,l,n),M(o,i,n),a=!0},p:te,i(i){a||(g(t.$$.fragment,i),g(e.$$.fragment,i),g(o.$$.fragment,i),a=!0)},o(i){b(t.$$.fragment,i),b(e.$$.fragment,i),b(o.$$.fragment,i),a=!1},d(i){i&&(d(r),d(l)),V(t,i),V(e,i),V(o,i)}}}function Te(s){let t,r;return t=new lt({props:{$$slots:{default:[Mt]},$$scope:{ctx:s}}}),{c(){Q(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){M(t,e,l),r=!0},p(e,l){const o={};l&260&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Mt(s){let t,r,e,l=s[2]("components.quiz.no_quizz")+"",o,a,i,n=s[2]("components.quiz.interactive")+"",u,m,p;return t=new at({}),{c(){Q(t.$$.fragment),r=I(),e=k("h3"),o=F(l),a=I(),i=k("p"),u=F(n),m=I(),this.h()},l(f){N(t.$$.fragment,f),r=D(f),e=q(f,"H3",{class:!0});var c=w(e);o=Y(c,l),c.forEach(d),a=D(f),i=q(f,"P",{class:!0});var z=w(i);u=Y(z,n),z.forEach(d),m=D(f),this.h()},h(){h(e,"class","dark:text-white text-2xl my-5"),h(i,"class","dark:text-white w-1/3 text-center")},m(f,c){M(t,f,c),C(f,r,c),C(f,e,c),_(e,o),C(f,a,c),C(f,i,c),_(i,u),C(f,m,c),p=!0},p(f,c){(!p||c&4)&&l!==(l=f[2]("components.quiz.no_quizz")+"")&&G(o,l),(!p||c&4)&&n!==(n=f[2]("components.quiz.interactive")+"")&&G(u,n)},i(f){p||(g(t.$$.fragment,f),p=!0)},o(f){b(t.$$.fragment,f),p=!1},d(f){f&&(d(r),d(e),d(a),d(i),d(m)),V(t,f)}}}function Be(s){var e;let t,r;return t=new Ct({props:{quiz:s[5],totalQuestions:((e=s[5].questions)==null?void 0:e.length)||0}}),{c(){Q(t.$$.fragment)},l(l){N(t.$$.fragment,l)},m(l,o){M(t,l,o),r=!0},p(l,o){var i;const a={};o&2&&(a.quiz=l[5]),o&2&&(a.totalQuestions=((i=l[5].questions)==null?void 0:i.length)||0),t.$set(a)},i(l){r||(g(t.$$.fragment,l),r=!0)},o(l){b(t.$$.fragment,l),r=!1},d(l){V(t,l)}}}function Vt(s){let t,r,e,l;const o=[Nt,Qt],a=[];function i(n,u){return n[0]?0:1}return r=i(s),e=a[r]=o[r](s),{c(){t=k("div"),e.c(),this.h()},l(n){t=q(n,"DIV",{class:!0});var u=w(t);e.l(u),u.forEach(d),this.h()},h(){h(t,"class","flex items-center justify-center lg:justify-start flex-wrap my-4 m-auto")},m(n,u){C(n,t,u),a[r].m(t,null),l=!0},p(n,[u]){let m=r;r=i(n),r===m?a[r].p(n,u):(ie(),b(a[m],1,1,()=>{a[m]=null}),ae(),e=a[r],e?e.p(n,u):(e=a[r]=o[r](n),e.c()),g(e,1),e.m(t,null))},i(n){l||(g(e),l=!0)},o(n){b(e),l=!1},d(n){n&&d(t),a[r].d()}}}function jt(s,t,r){let e,l,o;B(s,Fe,n=>r(3,e=n)),B(s,oe,n=>r(1,l=n)),B(s,we,n=>r(2,o=n));let a=!1;async function i(n){if(!n)return;r(0,a=!0);const{data:u,error:m}=await ze.from("quiz").select("*").eq("organization_id",n).order("updated_at",{ascending:!1});if(m){Ye.error();return}console.log("data",u),oe.set(u),r(0,a=!1)}return s.$$.update=()=>{s.$$.dirty&8&&i(e.id)},[a,l,o,e]}class Ot extends Z{constructor(t){super(),x(this,t,jt,Vt,W,{})}}function Pt(s){let t,r,e,l,o,a,i,n,u;function m(f){s[7](f)}let p={label:s[4]("components.quiz.quiz_title"),autofocus:!0,placeholder:s[4]("components.quiz.placehoolder"),className:"mb-4",isRequired:!0,errorMessage:s[2].title,autoComplete:!1};return s[0].title!==void 0&&(p.value=s[0].title),r=new ct({props:p}),Ae.push(()=>Ke(r,"value",m)),a=new ge({props:{className:"px-6 py-3",label:s[0].openEdit?s[4]("components.quiz.save"):s[4]("components.quiz.continue"),type:"submit",isDisabled:s[3],isLoading:s[3]}}),{c(){t=k("form"),Q(r.$$.fragment),l=I(),o=k("div"),Q(a.$$.fragment),this.h()},l(f){t=q(f,"FORM",{});var c=w(t);N(r.$$.fragment,c),l=D(c),o=q(c,"DIV",{class:!0});var z=w(o);N(a.$$.fragment,z),z.forEach(d),c.forEach(d),this.h()},h(){h(o,"class","mt-5 flex items-center justify-end")},m(f,c){C(f,t,c),M(r,t,null),_(t,l),_(t,o),M(a,o,null),i=!0,n||(u=pe(t,"submit",et(s[6])),n=!0)},p(f,c){const z={};c&16&&(z.label=f[4]("components.quiz.quiz_title")),c&16&&(z.placeholder=f[4]("components.quiz.placehoolder")),c&4&&(z.errorMessage=f[2].title),!e&&c&1&&(e=!0,z.value=f[0].title,Re(()=>e=!1)),r.$set(z);const E={};c&17&&(E.label=f[0].openEdit?f[4]("components.quiz.save"):f[4]("components.quiz.continue")),c&8&&(E.isDisabled=f[3]),c&8&&(E.isLoading=f[3]),a.$set(E)},i(f){i||(g(r.$$.fragment,f),g(a.$$.fragment,f),i=!0)},o(f){b(r.$$.fragment,f),b(a.$$.fragment,f),i=!1},d(f){f&&d(t),V(r),V(a),n=!1,u()}}}function St(s){let t,r,e,l,o;document.title=t=s[4]("components.quiz.title")+" - KinetsHub";function a(n){s[8](n)}let i={onClose:s[5],width:"w-4/5 md:w-2/5",modalHeading:(s[0].openEdit?s[4]("components.quiz.update"):s[4]("components.quiz.create"))+" "+s[4]("components.quiz.a_quiz"),$$slots:{default:[Pt]},$$scope:{ctx:s}};return s[1]!==void 0&&(i.open=s[1]),e=new ft({props:i}),Ae.push(()=>Ke(e,"open",a)),{c(){r=I(),Q(e.$$.fragment)},l(n){Le("svelte-1jaqk7z",document.head).forEach(d),r=D(n),N(e.$$.fragment,n)},m(n,u){C(n,r,u),M(e,n,u),o=!0},p(n,[u]){(!o||u&16)&&t!==(t=n[4]("components.quiz.title")+" - KinetsHub")&&(document.title=t);const m={};u&17&&(m.modalHeading=(n[0].openEdit?n[4]("components.quiz.update"):n[4]("components.quiz.create"))+" "+n[4]("components.quiz.a_quiz")),u&8221&&(m.$$scope={dirty:u,ctx:n}),!l&&u&2&&(l=!0,m.open=n[1],Re(()=>l=!1)),e.$set(m)},i(n){o||(g(e.$$.fragment,n),o=!0)},o(n){b(e.$$.fragment,n),o=!1},d(n){n&&d(r),V(e,n)}}}function Tt(s,t,r){let e,l,o,a,i;B(s,L,$=>r(0,e=$)),B(s,Ue,$=>r(9,l=$)),B(s,oe,$=>r(10,o=$)),B(s,Fe,$=>r(11,a=$)),B(s,we,$=>r(4,i=$));let n=!1,u={title:""},m=!1;function p(){U(L,e.id=null,e),U(L,e.title="",e),U(L,e.open=!1,e),U(L,e.openEdit=!1,e)}function f(){Ye.error()}async function c(){if(r(2,u=mt(e)),console.log("createQuiz|updateQuiz errors",u),!Object.keys(u).length)if(r(3,m=!0),e.openEdit){const{error:$}=await ze.from("quiz").update({title:e.title,updated_at:new Date}).match({id:e.id});if(r(3,m=!1),$)return f();U(oe,o=o.map(O=>(O.id===e.id&&(O.title=e.title),O)),o),p()}else{const{data:$,error:O}=await ze.from("quiz").insert({title:e.title,organization_id:a.id,questions:[{id:1,label:"",type:"multichoice",options:[{id:"circle",label:"",isCorrect:!1},{id:"triangle",label:"",isCorrect:!1}]}]}).select();if(r(3,m=!1),O)return f();U(oe,o=[...o,$[0]],o),p(),ut(`${l}/quiz/${$[0].id}`)}}function z($){s.$$.not_equal(e.title,$)&&(e.title=$,L.set(e))}function E($){n=$,r(1,n),r(0,e)}return s.$$.update=()=>{s.$$.dirty&1&&r(1,n=e.openEdit||e.open)},[e,n,u,m,i,p,c,z,E]}class Bt extends Z{constructor(t){super(),x(this,t,Tt,St,W,{})}}function Ht(s){let t,r;return t=new ge({props:{label:"Create Quiz",onClick:s[3]}}),{c(){Q(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){M(t,e,l),r=!0},p(e,l){const o={};l&2&&(o.onClick=e[3]),t.$set(o)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function At(s){let t,r;return t=new ge({props:{onClick:s[2],$$slots:{default:[Lt]},$$scope:{ctx:s}}}),{c(){Q(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){M(t,e,l),r=!0},p(e,l){const o={};l&2&&(o.onClick=e[2]),l&16&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Lt(s){let t,r;return t=new _t({props:{size:24}}),{c(){Q(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){M(t,e,l),r=!0},p:te,i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Rt(s){let t,r,e,l,o,a="Interactive Quizzes",i,n,u,m,p,f,c,z,E,$;const O=[At,Ht],P=[];function ee(v,S){return v[0]?0:1}return n=ee(s),u=P[n]=O[n](s),p=new Bt({}),c=new dt({}),E=new Ot({}),{c(){t=I(),r=k("section"),e=k("div"),l=k("div"),o=k("h1"),o.textContent=a,i=I(),u.c(),m=I(),Q(p.$$.fragment),f=I(),Q(c.$$.fragment),z=I(),Q(E.$$.fragment),this.h()},l(v){Le("svelte-1pgsj1g",document.head).forEach(d),t=D(v),r=q(v,"SECTION",{class:!0});var H=w(r);e=q(H,"DIV",{class:!0});var T=w(e);l=q(T,"DIV",{class:!0});var A=w(l);o=q(A,"H1",{class:!0,"data-svelte-h":!0}),tt(o)!=="svelte-15ykun8"&&(o.textContent=a),i=D(A),u.l(A),A.forEach(d),m=D(T),N(p.$$.fragment,T),f=D(T),N(c.$$.fragment,T),z=D(T),N(E.$$.fragment,T),T.forEach(d),H.forEach(d),this.h()},h(){document.title="Interactive Quizzes - KinetsHub",h(o,"class","dark:text-white text-2xl md:text-3xl font-bold"),h(l,"class","flex items-center justify-between mb-10"),h(e,"class","py-10 px-5"),h(r,"class","w-full max-w-6xl mx-auto")},m(v,S){C(v,t,S),C(v,r,S),_(r,e),_(e,l),_(l,o),_(l,i),P[n].m(l,null),_(e,m),M(p,e,null),_(e,f),M(c,e,null),_(e,z),M(E,e,null),$=!0},p(v,[S]){let H=n;n=ee(v),n===H?P[n].p(v,S):(ie(),b(P[H],1,1,()=>{P[H]=null}),ae(),u=P[n],u?u.p(v,S):(u=P[n]=O[n](v),u.c()),g(u,1),u.m(l,null))},i(v){$||(g(u),g(p.$$.fragment,v),g(c.$$.fragment,v),g(E.$$.fragment,v),$=!0)},o(v){b(u),b(p.$$.fragment,v),b(c.$$.fragment,v),b(E.$$.fragment,v),$=!1},d(v){v&&(d(t),d(r)),P[n].d(),V(p),V(c),V(E)}}}function Kt(s,t,r){let e,l;return B(s,pt,i=>r(0,e=i)),B(s,L,i=>r(1,l=i)),[e,l,()=>U(L,l.open=!0,l),()=>U(L,l.open=!0,l)]}class pl extends Z{constructor(t){super(),x(this,t,Kt,Rt,W,{})}}export{pl as component};
//# sourceMappingURL=41.a135b6f2.js.map
