{"version":3,"file":"44.652a40a9.js","sources":["../../../../../../src/lib/components/Org/Settings/CustomizeLms.svelte","../../../../../../src/routes/org/[slug]/settings/customize-lms/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { Grid, Row, Column } from 'carbon-components-svelte';\n  import PrimaryButton from '$lib/components/PrimaryButton/index.svelte';\n  import Save from 'carbon-icons-svelte/lib/Save.svelte';\n  import IconButton from '$lib/components/IconButton/index.svelte';\n  import { VARIANTS } from '$lib/components/PrimaryButton/constants';\n  import SectionTitle from '../SectionTitle.svelte';\n  import { Toggle } from 'carbon-components-svelte';\n  import TextField from '$lib/components/Form/TextField.svelte';\n  import { currentOrg } from '$lib/utils/store/org';\n  import { getSupabase } from '$lib/utils/functions/supabase';\n  import { snackbar } from '$lib/components/Snackbar/store';\n  import UploadWidget from '$lib/components/UploadWidget/index.svelte';\n  import { handleOpenWidget } from '$lib/components/CourseLandingPage/store';\n  import { t } from '$lib/utils/functions/translations';\n\n  const supabase = getSupabase();\n\n  let widgetKey = '';\n  let isSaving = false;\n\n  function widgetControl(key: string) {\n    widgetKey = key;\n    $handleOpenWidget.open = true;\n  }\n\n  async function handleSave() {\n    isSaving = true;\n\n    const { error } = await supabase\n      .from('organization')\n      .update({ customization: $currentOrg.customization })\n      .match({ id: $currentOrg.id });\n\n    if (error) {\n      const message = error?.message || 'snackbar.lms.error.try_again';\n      console.error('Error updating customizations', message);\n      snackbar.error('snackbar.lms.error.update');\n    } else {\n      snackbar.success('snackbar.success_update');\n    }\n\n    isSaving = false;\n  }\n</script>\n\n<Grid class=\"border-c rounded border-gray-200 dark:border-neutral-600 w-full mt-5 relative\">\n  <Row class=\"flex lg:flex-row flex-col py-7 border-bottom-c\">\n    <Column sm={4} md={4} lg={4}>\n      <SectionTitle>{$t('components.settings.customize_lms.dashboard.title')}</SectionTitle>\n    </Column>\n    <Column sm={8} md={8} lg={8} class=\"mt-4 lg:mt-0\">\n      <div>\n        <p>{$t('components.settings.customize_lms.dashboard.community')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.dashboard.community}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n\n      <div>\n        <p>{$t('components.settings.customize_lms.dashboard.exercises')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.dashboard.exercise}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n\n      <div class=\"mb-3\">\n        <p>{$t('components.settings.customize_lms.dashboard.banner_image')}</p>\n        <PrimaryButton\n          variant={VARIANTS.OUTLINED}\n          label={$t('components.settings.customize_lms.dashboard.banner_image_btn')}\n          className=\"mt-3\"\n          onClick={() => widgetControl('banner-image')}\n        />\n        {#if $currentOrg.customization.dashboard.bannerImage}\n          <img\n            alt=\"Banner\"\n            src={$currentOrg.customization.dashboard.bannerImage}\n            class=\"mt-2 rounded-md w-full\"\n          />\n        {/if}\n        {#if $handleOpenWidget.open && widgetKey === 'banner-image'}\n          <UploadWidget bind:imageURL={$currentOrg.customization.dashboard.bannerImage} />\n        {/if}\n      </div>\n\n      <div>\n        <p>{$t('components.settings.customize_lms.dashboard.banner_text')}</p>\n        <TextField\n          label={$t('components.settings.customize_lms.dashboard.banner_text_label')}\n          placeholder={$t('components.settings.customize_lms.dashboard.banner_text_placeholder')}\n          className=\"mb-5\"\n          bind:value={$currentOrg.customization.dashboard.bannerText}\n        />\n      </div>\n    </Column>\n  </Row>\n\n  <Row class=\"flex lg:flex-row flex-col py-7 border-bottom-c\">\n    <Column sm={4} md={4} lg={4}\n      ><SectionTitle>{$t('components.settings.customize_lms.course.title')}</SectionTitle></Column\n    >\n    <Column sm={8} md={8} lg={8} class=\"mt-4 lg:mt-0\">\n      <div>\n        <p>{$t('components.settings.customize_lms.course.newsfeed')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.course.newsfeed}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n\n      <div>\n        <p>{$t('components.settings.customize_lms.course.grading')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.course.grading}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n    </Column>\n  </Row>\n\n  <Row class=\"flex lg:flex-row flex-col py-7 border-bottom-c\">\n    <Column sm={4} md={4} lg={4}\n      ><SectionTitle>{$t('components.settings.customize_lms.apps.title')}</SectionTitle></Column\n    >\n    <Column sm={8} md={8} lg={8} class=\"mt-4 lg:mt-0\">\n      <div>\n        <p>{$t('components.settings.customize_lms.apps.poll')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.apps.poll}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n      <div>\n        <p>{$t('components.settings.customize_lms.apps.live_comment')}</p>\n        <Toggle size=\"sm\" class=\"mb-3\" bind:toggled={$currentOrg.customization.apps.comments}>\n          <span slot=\"labelA\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.disabled')}</span\n          >\n          <span slot=\"labelB\" style=\"color: gray\"\n            >{$t('components.settings.customize_lms.enabled')}</span\n          >\n        </Toggle>\n      </div>\n    </Column>\n  </Row>\n\n  <div class=\"hidden md:block sticky float-right bottom-12 mr-2 z-[120]\">\n    <PrimaryButton\n      label={$t('components.settings.customize_lms.save')}\n      onClick={handleSave}\n      isLoading={isSaving}\n      isDisabled={isSaving}\n    />\n  </div>\n</Grid>\n\n<div class=\"absolute block md:hidden right-6 bottom-8 z-[120]\">\n  <PrimaryButton onClick={handleSave} isLoading={isSaving} isDisabled={isSaving}>\n    <Save size={24} class=\"\" />\n  </PrimaryButton>\n</div>\n","<script>\n  import CustomizeLMS from '$lib/components/Org/Settings/CustomizeLms.svelte';\n  import { t } from '$lib/utils/functions/translations';\n  import { currentOrgPath } from '$lib/utils/store/org';\n</script>\n\n<svelte:head>\n  <title>Customize LMS - KinetsHub</title>\n</svelte:head>\n\n<section class=\"w-full md:max-w-4xl mx-auto\">\n  <div class=\"py-10 px-3 md:px-5\">\n    <a class=\"text-gray-500 dark:text-white text-md\" href={`${$currentOrgPath}/settings?tab=org`}\n      >{$t('upgrade.back')}</a\n    >\n    <div class=\"flex items-center justify-between mb-10\">\n      <h1 class=\"dark:text-white text-3xl font-bold\">\n        {$t('components.settings.customize_lms.title')}\n      </h1>\n    </div>\n\n    <CustomizeLMS />\n  </div>\n</section>\n"],"names":["t_1_value","ctx","dirty","set_data","t_1","src_url_equal","img","img_src_value","attr","uploadwidget_props","uploadwidget_changes","t0_value","t3_value","t6_value","t11_value","toggle0_props","toggle1_props","VARIANTS","if_block0","create_if_block_1","if_block1","create_if_block","textfield_props","current","t0","toggle0_changes","t3","toggle1_changes","t6","primarybutton_changes","t11","textfield_changes","set_store_value","handleOpenWidget","$handleOpenWidget","handleSave","error","message","snackbar","$$self","$currentOrg","value","func","widgetControl","t1_value","t1"],"mappings":"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"}