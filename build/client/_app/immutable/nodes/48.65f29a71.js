import{S as Se,i as Be,t as y,a as M,c as Te,f as ge,b as U,d as S,m as B,g as Ze,e as T}from"../chunks/index.a2391391.js";import{s as Oe,g as me,a as j,c as Y,b as v,d as m,e as g,h as we,i as E,f as p,n as de,j as ke,k as xe,t as le,l as se,m as Le,x as H,C as w,y as rt,z,D as k,p as Xe,w as ve,X as fe,A as be,o as Je}from"../chunks/scheduler.ee52cacd.js";import{g as lt}from"../chunks/spread.5cc747ed.js";import{T as Ue}from"../chunks/TextField.05bb724d.js";import{P as it}from"../chunks/index.550ce75a.js";import{U as nt}from"../chunks/index.f360203c.js";import{s as he}from"../chunks/supabase.2c784bff.js";import{p as Ke,u as ot}from"../chunks/user.9ccdc884.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="0472cc62-9421-48d2-9168-8cde0c549060",s._sentryDebugIdIdentifier="sentry-dbid-0472cc62-9421-48d2-9168-8cde0c549060")}catch{}})();function Qe(s){let e,t;return{c(){e=j("title"),t=le(s[1])},l(l){e=Y(l,"title",{});var a=v(e);t=se(a,s[1]),a.forEach(m)},m(l,a){E(l,e,a),p(e,t)},p(l,a){a&2&&Le(t,l[1])},d(l){l&&m(e)}}}function ut(s){let e,t,l,a=s[1]&&Qe(s),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:s[0]},{height:s[0]},s[2],s[3]],u={};for(let r=0;r<i.length;r+=1)u=me(u,i[r]);return{c(){e=j("svg"),a&&a.c(),t=j("path"),l=j("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var n=v(e);a&&a.l(n),t=Y(n,"path",{d:!0}),v(t).forEach(m),l=Y(n,"path",{d:!0}),v(l).forEach(m),n.forEach(m),this.h()},h(){g(t,"d","M19 10H26V12H19zM19 15H26V17H19zM19 20H26V22H19zM6 10H13V12H6zM6 15H13V17H6zM6 20H13V22H6z"),g(l,"d","M28,5H4A2.002,2.002,0,0,0,2,7V25a2.002,2.002,0,0,0,2,2H28a2.002,2.002,0,0,0,2-2V7A2.002,2.002,0,0,0,28,5ZM4,7H15V25H4ZM17,25V7H28V25Z"),we(e,u)},m(r,n){E(r,e,n),a&&a.m(e,null),p(e,t),p(e,l)},p(r,[n]){r[1]?a?a.p(r,n):(a=Qe(r),a.c(),a.m(e,t)):a&&(a.d(1),a=null),we(e,u=lt(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},n&1&&{width:r[0]},n&1&&{height:r[0]},n&4&&r[2],n&8&&r[3]]))},i:de,o:de,d(r){r&&m(e),a&&a.d()}}}function ft(s,e,t){let l,a;const i=["size","title"];let u=ke(e,i),{size:r=16}=e,{title:n=void 0}=e;return s.$$set=h=>{t(5,e=me(me({},e),xe(h))),t(3,u=ke(e,i)),"size"in h&&t(0,r=h.size),"title"in h&&t(1,n=h.title)},s.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||n),t(2,a={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=xe(e),[r,n,a,u,l]}class We extends Se{constructor(e){super(),Be(this,e,ft,ut,Oe,{size:0,title:1})}}function $e(s){let e,t;return{c(){e=j("title"),t=le(s[1])},l(l){e=Y(l,"title",{});var a=v(e);t=se(a,s[1]),a.forEach(m)},m(l,a){E(l,e,a),p(e,t)},p(l,a){a&2&&Le(t,l[1])},d(l){l&&m(e)}}}function mt(s){let e,t,l,a=s[1]&&$e(s),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:s[0]},{height:s[0]},s[2],s[3]],u={};for(let r=0;r<i.length;r+=1)u=me(u,i[r]);return{c(){e=j("svg"),a&&a.c(),t=j("path"),l=j("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var n=v(e);a&&a.l(n),t=Y(n,"path",{d:!0}),v(t).forEach(m),l=Y(n,"path",{d:!0}),v(l).forEach(m),n.forEach(m),this.h()},h(){g(t,"d","M16,8a5,5,0,1,0,5,5A5,5,0,0,0,16,8Zm0,8a3,3,0,1,1,3-3A3.0034,3.0034,0,0,1,16,16Z"),g(l,"d","M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2ZM10,26.3765V25a3.0033,3.0033,0,0,1,3-3h6a3.0033,3.0033,0,0,1,3,3v1.3765a11.8989,11.8989,0,0,1-12,0Zm13.9925-1.4507A5.0016,5.0016,0,0,0,19,20H13a5.0016,5.0016,0,0,0-4.9925,4.9258,12,12,0,1,1,15.985,0Z"),we(e,u)},m(r,n){E(r,e,n),a&&a.m(e,null),p(e,t),p(e,l)},p(r,[n]){r[1]?a?a.p(r,n):(a=$e(r),a.c(),a.m(e,t)):a&&(a.d(1),a=null),we(e,u=lt(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},n&1&&{width:r[0]},n&1&&{height:r[0]},n&4&&r[2],n&8&&r[3]]))},i:de,o:de,d(r){r&&m(e),a&&a.d()}}}function dt(s,e,t){let l,a;const i=["size","title"];let u=ke(e,i),{size:r=16}=e,{title:n=void 0}=e;return s.$$set=h=>{t(5,e=me(me({},e),xe(h))),t(3,u=ke(e,i)),"size"in h&&t(0,r=h.size),"title"in h&&t(1,n=h.title)},s.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||n),t(2,a={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=xe(e),[r,n,a,u,l]}class et extends Se{constructor(e){super(),Be(this,e,dt,mt,Oe,{size:0,title:1})}}const ct=({params:s={id:""}})=>({profileId:s.id}),zt=Object.freeze(Object.defineProperty({__proto__:null,load:ct},Symbol.toStringTag,{value:"Module"}));function tt(s){let e,t,l,a,i,u,r,n,h,d,b,V,I="Organizations",F,A,re="This are the organizations you work at",Z,_,o,f='<a class="text-primary-700 font-bold" href="/courses">CitiBim</a>',D,x,q=`Lorem ipsum dolor sit amet consectetur adipisicing elit. Non aliquam tenetur magnam.
            Alias cumque quaerat expedita dolores placeat laboriosam culpa, suscipit veritatis
            adipisci eius magni obcaecati. Sequi doloremque blanditiis earum.`,ie,O,G,X,ye,Ce,J,K,He,ze,N,Q,Re='<a class="text-primary-700 font-bold" href="/courses">Climate Change Group</a>',Ee,W,je=`Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo quasi autem quo possimus
            illum consequuntur repudiandae nobis error, porro`,Me,L,$,ee,Ve,Ae,te,ae,De,ce;function st(c){s[10](c)}let Ye={src:s[1].avatar_url,widthHeight:"w-60 h-60"};s[0]!==void 0&&(Ye.avatar=s[0]),t=new nt({props:Ye}),ve.push(()=>ge(t,"avatar",st));const Fe=[_t,pt],R=[];function Ge(c,C){return c[3]?0:1}return i=Ge(s),u=R[i]=Fe[i](s),X=new et({props:{size:16,class:"mr-2"}}),K=new We({props:{size:16,class:"mr-2"}}),ee=new et({props:{size:16,class:"mr-2"}}),ae=new We({props:{size:16,class:"mr-2"}}),{c(){e=w("div"),U(t.$$.fragment),a=H(),u.c(),r=H(),n=w("div"),h=H(),d=w("div"),b=w("div"),V=w("h3"),V.textContent=I,F=H(),A=w("p"),A.textContent=re,Z=H(),_=w("div"),o=w("h4"),o.innerHTML=f,D=H(),x=w("p"),x.textContent=q,ie=H(),O=w("div"),G=w("span"),U(X.$$.fragment),ye=le(" 5"),Ce=H(),J=w("span"),U(K.$$.fragment),He=le(" 5"),ze=H(),N=w("div"),Q=w("h4"),Q.innerHTML=Re,Ee=H(),W=w("p"),W.textContent=je,Me=H(),L=w("div"),$=w("span"),U(ee.$$.fragment),Ve=le(" 30"),Ae=H(),te=w("span"),U(ae.$$.fragment),De=le(" 3"),this.h()},l(c){e=k(c,"DIV",{class:!0});var C=v(e);S(t.$$.fragment,C),a=z(C),u.l(C),C.forEach(m),r=z(c),n=k(c,"DIV",{class:!0}),v(n).forEach(m),h=z(c),d=k(c,"DIV",{class:!0});var ne=v(d);b=k(ne,"DIV",{class:!0});var P=v(b);V=k(P,"H3",{class:!0,"data-svelte-h":!0}),fe(V)!=="svelte-163y9py"&&(V.textContent=I),F=z(P),A=k(P,"P",{class:!0,"data-svelte-h":!0}),fe(A)!=="svelte-1rrpmqp"&&(A.textContent=re),Z=z(P),_=k(P,"DIV",{class:!0});var oe=v(_);o=k(oe,"H4",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-5s7ke"&&(o.innerHTML=f),D=z(oe),x=k(oe,"P",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-18ktm0j"&&(x.textContent=q),ie=z(oe),O=k(oe,"DIV",{class:!0});var pe=v(O);G=k(pe,"SPAN",{class:!0});var Pe=v(G);S(X.$$.fragment,Pe),ye=se(Pe," 5"),Pe.forEach(m),Ce=z(pe),J=k(pe,"SPAN",{class:!0});var Ie=v(J);S(K.$$.fragment,Ie),He=se(Ie," 5"),Ie.forEach(m),pe.forEach(m),oe.forEach(m),ze=z(P),N=k(P,"DIV",{class:!0});var ue=v(N);Q=k(ue,"H4",{class:!0,"data-svelte-h":!0}),fe(Q)!=="svelte-sm67vz"&&(Q.innerHTML=Re),Ee=z(ue),W=k(ue,"P",{class:!0,"data-svelte-h":!0}),fe(W)!=="svelte-d8u5v9"&&(W.textContent=je),Me=z(ue),L=k(ue,"DIV",{class:!0});var _e=v(L);$=k(_e,"SPAN",{class:!0});var Ne=v($);S(ee.$$.fragment,Ne),Ve=se(Ne," 30"),Ne.forEach(m),Ae=z(_e),te=k(_e,"SPAN",{class:!0});var qe=v(te);S(ae.$$.fragment,qe),De=se(qe," 3"),qe.forEach(m),_e.forEach(m),ue.forEach(m),P.forEach(m),ne.forEach(m),this.h()},h(){g(e,"class","w-full lg:w-1/4 flex items-center flex-col"),g(n,"class","flex-grow"),g(V,"class","dark:text-white font-bold text-md m-0"),g(A,"class","dark:text-white text-gray-500 text-sm"),g(o,"class","dark:text-white m-0 font-normal"),g(x,"class","dark:text-white text-gray-500"),g(G,"class","flex mr-2 items-center"),g(J,"class","flex mr-2 items-center"),g(O,"class","mt-2 flex items-center"),g(_,"class","hidden my-3 py-3 px-4 border shadow-sm rounded-md"),g(Q,"class","dark:text-white m-0 font-normal"),g(W,"class","dark:text-white text-gray-500"),g($,"class","flex mr-2 items-center"),g(te,"class","flex mr-2 items-center"),g(L,"class","mt-2 flex items-center"),g(N,"class","hidden my-2 py-3 px-4 border shadow-sm rounded-md"),g(b,"class","mb-3 w-full"),g(d,"class","flex-grow flex flex-wrap mx-3 w-3/5")},m(c,C){E(c,e,C),B(t,e,null),p(e,a),R[i].m(e,null),E(c,r,C),E(c,n,C),E(c,h,C),E(c,d,C),p(d,b),p(b,V),p(b,F),p(b,A),p(b,Z),p(b,_),p(_,o),p(_,D),p(_,x),p(_,ie),p(_,O),p(O,G),B(X,G,null),p(G,ye),p(O,Ce),p(O,J),B(K,J,null),p(J,He),p(b,ze),p(b,N),p(N,Q),p(N,Ee),p(N,W),p(N,Me),p(N,L),p(L,$),B(ee,$,null),p($,Ve),p(L,Ae),p(L,te),B(ae,te,null),p(te,De),ce=!0},p(c,C){const ne={};C&2&&(ne.src=c[1].avatar_url),!l&&C&1&&(l=!0,ne.avatar=c[0],be(()=>l=!1)),t.$set(ne);let P=i;i=Ge(c),i===P?R[i].p(c,C):(Ze(),M(R[P],1,1,()=>{R[P]=null}),Te(),u=R[i],u?u.p(c,C):(u=R[i]=Fe[i](c),u.c()),y(u,1),u.m(e,null))},i(c){ce||(y(t.$$.fragment,c),y(u),y(X.$$.fragment,c),y(K.$$.fragment,c),y(ee.$$.fragment,c),y(ae.$$.fragment,c),ce=!0)},o(c){M(t.$$.fragment,c),M(u),M(X.$$.fragment,c),M(K.$$.fragment,c),M(ee.$$.fragment,c),M(ae.$$.fragment,c),ce=!1},d(c){c&&(m(e),m(r),m(n),m(h),m(d)),T(t),R[i].d(),T(X),T(K),T(ee),T(ae)}}}function pt(s){let e,t=s[1].username+"",l;return{c(){e=w("h3"),l=le(t),this.h()},l(a){e=k(a,"H3",{class:!0});var i=v(e);l=se(i,t),i.forEach(m),this.h()},h(){g(e,"class","dark:text-white text-xl")},m(a,i){E(a,e,i),p(e,l)},p(a,i){i&2&&t!==(t=a[1].username+"")&&Le(l,t)},i:de,o:de,d(a){a&&m(e)}}}function _t(s){let e,t,l,a,i,u,r,n,h,d,b;function V(o){s[11](o)}let I={label:"Full name",className:"w-60 mb-4",inputClassName:"rounded-md"};s[1].fullname!==void 0&&(I.value=s[1].fullname),e=new Ue({props:I}),ve.push(()=>ge(e,"value",V));function F(o){s[12](o)}let A={label:"Username",className:"w-60 mb-4",inputClassName:"rounded-md"};s[1].username!==void 0&&(A.value=s[1].username),a=new Ue({props:A}),ve.push(()=>ge(a,"value",F));function re(o){s[13](o)}let Z={label:"Email",className:"w-60 mb-4",inputClassName:"rounded-md",isDisabled:!0};s[1].email!==void 0&&(Z.value=s[1].email),r=new Ue({props:Z}),ve.push(()=>ge(r,"value",re));let _=s[4]&&at(s);return{c(){U(e.$$.fragment),l=H(),U(a.$$.fragment),u=H(),U(r.$$.fragment),h=H(),_&&_.c(),d=Je()},l(o){S(e.$$.fragment,o),l=z(o),S(a.$$.fragment,o),u=z(o),S(r.$$.fragment,o),h=z(o),_&&_.l(o),d=Je()},m(o,f){B(e,o,f),E(o,l,f),B(a,o,f),E(o,u,f),B(r,o,f),E(o,h,f),_&&_.m(o,f),E(o,d,f),b=!0},p(o,f){const D={};!t&&f&2&&(t=!0,D.value=o[1].fullname,be(()=>t=!1)),e.$set(D);const x={};!i&&f&2&&(i=!0,x.value=o[1].username,be(()=>i=!1)),a.$set(x);const q={};!n&&f&2&&(n=!0,q.value=o[1].email,be(()=>n=!1)),r.$set(q),o[4]?_?(_.p(o,f),f&16&&y(_,1)):(_=at(o),_.c(),y(_,1),_.m(d.parentNode,d)):_&&(Ze(),M(_,1,1,()=>{_=null}),Te())},i(o){b||(y(e.$$.fragment,o),y(a.$$.fragment,o),y(r.$$.fragment,o),y(_),b=!0)},o(o){M(e.$$.fragment,o),M(a.$$.fragment,o),M(r.$$.fragment,o),M(_),b=!1},d(o){o&&(m(l),m(u),m(h),m(d)),T(e,o),T(a,o),T(r,o),_&&_.d(o)}}}function at(s){let e,t;return e=new it({props:{label:s[2]?"Updating...":"Update profile",onClick:s[5],isDisabled:s[2]}}),{c(){U(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,a){B(e,l,a),t=!0},p(l,a){const i={};a&4&&(i.label=l[2]?"Updating...":"Update profile"),a&4&&(i.isDisabled=l[2]),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){T(e,l)}}}function ht(s){let e,t,l,a;document.title=e="Profile of "+s[1].username;let i=s[1].id&&tt(s);return{c(){t=H(),l=w("section"),i&&i.c(),this.h()},l(u){rt("svelte-1ra7te9",document.head).forEach(m),t=z(u),l=k(u,"SECTION",{class:!0});var n=v(l);i&&i.l(n),n.forEach(m),this.h()},h(){g(l,"class","root w-11/12 mt-3 m-auto flex items-start justify-between flex-col lg:flex-row svelte-9z54ny")},m(u,r){E(u,t,r),E(u,l,r),i&&i.m(l,null),a=!0},p(u,[r]){(!a||r&2)&&e!==(e="Profile of "+u[1].username)&&(document.title=e),u[1].id?i?(i.p(u,r),r&2&&y(i,1)):(i=tt(u),i.c(),y(i,1),i.m(l,null)):i&&(Ze(),M(i,1,1,()=>{i=null}),Te())},i(u){a||(y(i),a=!0)},o(u){M(i),a=!1},d(u){u&&(m(t),m(l)),i&&i.d()}}}function gt(s,e,t){let l,a,i;Xe(s,Ke,f=>t(9,a=f)),Xe(s,ot,f=>t(14,i=f));let{data:u}=e;const{profileId:r}=u;let n,h=!1,d={},b=!1,V,I;async function F(f){t(2,h=!0);let{data:D,error:x,status:q}=await he.from("profile").select("*").eq("id",f).single();x&&!D&&q===406&&i.currentSession||D&&(t(1,d=D),t(7,V=d.username),t(8,I=d.fullname)),t(2,h=!1)}async function A(){try{t(2,h=!0);const f={fullname:d.fullname,username:d.username};if(n){const x=`user/${d.username+Date.now()}.webp`,{data:q}=await he.storage.from("avatars").upload(x,n,{cacheControl:"3600",upsert:!1});if(q){const{data:ie}=he.storage.from("avatars").getPublicUrl(x);f.avatar_url=ie.publicUrl,t(1,d.avatar_url=ie.publicUrl,d)}t(0,n=void 0)}let{error:D}=await he.from("profile").update(f).match({id:r});if(b&&Ke.update(x=>({...x,...f})),D)throw D}catch(f){alert(f.message),t(2,h=!1)}finally{t(2,h=!1),t(7,V=d.username),t(8,I=d.fullname)}}function re(f){n=f,t(0,n)}function Z(f){s.$$.not_equal(d.fullname,f)&&(d.fullname=f,t(1,d))}function _(f){s.$$.not_equal(d.username,f)&&(d.username=f,t(1,d))}function o(f){s.$$.not_equal(d.email,f)&&(d.email=f,t(1,d))}return s.$$set=f=>{"data"in f&&t(6,u=f.data)},s.$$.update=()=>{s.$$.dirty&387&&t(4,l=n||V!==d.username||I!==d.fullname),s.$$.dirty&512&&t(3,b=a.id===r),s.$$.dirty&1&&n&&A()},F(r),[n,d,h,b,l,A,u,V,I,a,re,Z,_,o]}class Et extends Se{constructor(e){super(),Be(this,e,gt,ht,Oe,{data:6})}}export{Et as component,zt as universal};
//# sourceMappingURL=48.65f29a71.js.map
