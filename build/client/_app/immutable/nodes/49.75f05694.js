import{s as G,w as T,x as $,y as Q,d as h,z as v,i as k,A as V,C,D as E,b as F,X as B,e as R,f as w,t as W,l as Z,m as x}from"../chunks/scheduler.ee52cacd.js";import{S as ee,i as se,f as H,b as L,d as N,m as q,t as M,a as j,e as A}from"../chunks/index.a2391391.js";import{g as te}from"../chunks/navigation.4bf4851d.js";import{T as J}from"../chunks/TextField.05bb724d.js";import{P as ae}from"../chunks/index.550ce75a.js";import{a as re}from"../chunks/supabase.2c784bff.js";import{g as ne,a as oe,r as ie}from"../chunks/validator.b0d7db8b.js";import{R as le}from"../chunks/authentication.9d48b2e5.js";import{A as fe}from"../chunks/index.817dabbc.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="873d07f3-8e31-495b-856b-78677752cb89",e._sentryDebugIdIdentifier="sentry-dbid-873d07f3-8e31-495b-856b-78677752cb89")}catch{}})();function K(e){let s,a;return{c(){s=C("p"),a=W(e[3]),this.h()},l(l){s=E(l,"P",{class:!0});var r=F(s);a=Z(r,e[3]),r.forEach(h),this.h()},h(){R(s,"class","text-sm text-red-500")},m(l,r){k(l,s,r),w(s,a)},p(l,r){r&8&&x(a,l[3])},d(l){l&&h(s)}}}function ue(e){let s,a,l="New Password",r,d,p="Enter your new password details",n,i,u,y,c,P,D,m,_,g,I;function X(t){e[8](t)}let U={label:"Your Password",type:"password",placeholder:"************",className:"mb-6",inputClassName:"w-full",isDisabled:e[1],errorMessage:e[2].password,helperMessage:"Password must be more than 6 characters",isRequired:!0};e[0].password!==void 0&&(U.value=e[0].password),i=new J({props:U}),T.push(()=>H(i,"value",X));function Y(t){e[9](t)}let z={label:"Confirm Password",type:"password",placeholder:"************",className:"mb-6",inputClassName:"w-full",isDisabled:e[1],errorMessage:e[2].confirmPassword,isRequired:!0};e[0].confirmPassword!==void 0&&(z.value=e[0].confirmPassword),c=new J({props:z}),T.push(()=>H(c,"value",Y));let f=e[3]&&K(e);return g=new ae({props:{label:"Reset Password",type:"submit",className:"sm:w-full w-full",isDisabled:e[4]||e[1],isLoading:e[1]}}),{c(){s=C("div"),a=C("h3"),a.textContent=l,r=$(),d=C("p"),d.textContent=p,n=$(),L(i.$$.fragment),y=$(),L(c.$$.fragment),D=$(),f&&f.c(),m=$(),_=C("div"),L(g.$$.fragment),this.h()},l(t){s=E(t,"DIV",{class:!0});var o=F(s);a=E(o,"H3",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-1x4uuxo"&&(a.textContent=l),r=v(o),d=E(o,"P",{class:!0,"data-svelte-h":!0}),B(d)!=="svelte-886lse"&&(d.textContent=p),n=v(o),N(i.$$.fragment,o),y=v(o),N(c.$$.fragment,o),D=v(o),f&&f.l(o),o.forEach(h),m=v(t),_=E(t,"DIV",{class:!0});var b=F(_);N(g.$$.fragment,b),b.forEach(h),this.h()},h(){R(a,"class","dark:text-white text-xl font-semibold my-3"),R(d,"class","dark:text-white text-sm mb-6"),R(s,"class","mt-4 w-full"),R(_,"class","my-4 w-full flex justify-end items-center")},m(t,o){k(t,s,o),w(s,a),w(s,r),w(s,d),w(s,n),q(i,s,null),w(s,y),q(c,s,null),w(s,D),f&&f.m(s,null),k(t,m,o),k(t,_,o),q(g,_,null),I=!0},p(t,o){const b={};o&2&&(b.isDisabled=t[1]),o&4&&(b.errorMessage=t[2].password),!u&&o&1&&(u=!0,b.value=t[0].password,V(()=>u=!1)),i.$set(b);const S={};o&2&&(S.isDisabled=t[1]),o&4&&(S.errorMessage=t[2].confirmPassword),!P&&o&1&&(P=!0,S.value=t[0].confirmPassword,V(()=>P=!1)),c.$set(S),t[3]?f?f.p(t,o):(f=K(t),f.c(),f.m(s,null)):f&&(f.d(1),f=null);const O={};o&18&&(O.isDisabled=t[4]||t[1]),o&2&&(O.isLoading=t[1]),g.$set(O)},i(t){I||(M(i.$$.fragment,t),M(c.$$.fragment,t),M(g.$$.fragment,t),I=!0)},o(t){j(i.$$.fragment,t),j(c.$$.fragment,t),j(g.$$.fragment,t),I=!1},d(t){t&&(h(s),h(m),h(_)),A(i),A(c),f&&f.d(),A(g)}}}function de(e){let s,a,l,r;function d(n){e[10](n)}let p={supabase:e[6],isLogin:!1,handleSubmit:e[7],showOnlyContent:!0,isLoading:e[1],showLogo:!0,$$slots:{default:[ue]},$$scope:{ctx:e}};return e[5]!==void 0&&(p.formRef=e[5]),a=new fe({props:p}),T.push(()=>H(a,"formRef",d)),{c(){s=$(),L(a.$$.fragment),this.h()},l(n){Q("svelte-lxd68k",document.head).forEach(h),s=v(n),N(a.$$.fragment,n),this.h()},h(){document.title="Join KinetsHub"},m(n,i){k(n,s,i),q(a,n,i),r=!0},p(n,[i]){const u={};i&2&&(u.isLoading=n[1]),i&2079&&(u.$$scope={dirty:i,ctx:n}),!l&&i&32&&(l=!0,u.formRef=n[5],V(()=>l=!1)),a.$set(u)},i(n){r||(M(a.$$.fragment,n),r=!0)},o(n){j(a.$$.fragment,n),r=!1},d(n){n&&h(s),A(a,n)}}}function me(e,s,a){let l=re(),r=Object.assign({},le),d=!1,p={},n,i=!1,u;async function y(m){if(a(2,p=ie(r)),console.log("errors",p),!Object.keys(p).length)try{a(1,d=!0);const{data:_,error:g}=await l.auth.updateUser({password:r.password});if(console.log("data",_),g)throw g;return u==null||u.reset(),te("/login")}catch(_){a(3,n=_.error_description||_.message)}finally{a(1,d=!1)}}function c(m){e.$$.not_equal(r.password,m)&&(r.password=m,a(0,r))}function P(m){e.$$.not_equal(r.confirmPassword,m)&&(r.confirmPassword=m,a(0,r))}function D(m){u=m,a(5,u)}return e.$$.update=()=>{e.$$.dirty&1&&a(2,p.confirmPassword=ne(r),p),e.$$.dirty&1&&a(4,i=oe(r))},[r,d,p,n,i,u,l,y,c,P,D]}class ye extends ee{constructor(s){super(),se(this,s,me,de,G,{})}}export{ye as component};
//# sourceMappingURL=49.75f05694.js.map
