{"version":3,"file":"0-a3da6306.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_layout.server.ts.js","../../../.svelte-kit/adapter-node/nodes/0.js"],"sourcesContent":[";\n!function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {}, n = new Error().stack;\n    n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"3c0afff7-bf48-4cb1-b9d6-cae73a9e2bc3\", e._sentryDebugIdIdentifier = \"sentry-dbid-3c0afff7-bf48-4cb1-b9d6-cae73a9e2bc3\");\n  } catch (e2) {\n  }\n}();\nimport \"../../chunks/index.js\";\nimport \"../../chunks/_sentry-release-injection-file.js\";\nimport { g as getCurrentOrg } from \"../../chunks/index6.js\";\nimport { s as supabase, g as getSupabase } from \"../../chunks/supabase.js\";\nimport \"../../chunks/translations.js\";\nimport { b as private_env } from \"../../chunks/shared-server.js\";\nconst IS_SELFHOSTED = \"true\";\nif (!supabase) {\n  getSupabase();\n}\nconst load = async ({ url, cookies }) => {\n  const response = {\n    orgSiteName: \"\",\n    isOrgSite: false,\n    skipAuth: false,\n    org: null,\n    baseMetaTags: getBaseMetaTags(url)\n  };\n  console.log(\"IS_SELFHOSTED\", IS_SELFHOSTED);\n  {\n    const subdomain2 = getSubdomain(url);\n    console.log(\"subdomain\", subdomain2);\n    if (subdomain2) {\n      const org = await getCurrentOrg(subdomain2, true) || null;\n      if (!org) {\n        return response;\n      }\n      response.org = org;\n      response.isOrgSite = true;\n      response.orgSiteName = subdomain2;\n    }\n    return response;\n  }\n};\nfunction getBaseMetaTags(url) {\n  return Object.freeze({\n    title: \"KinetsHub | The Open Source Learning Management System for Companies\",\n    description: \"A flexible, user-friendly platform for creating, managing, and delivering courses for companies and training organisations\",\n    canonical: new URL(url.pathname, url.origin).href,\n    openGraph: {\n      type: \"website\",\n      url: new URL(url.pathname, url.origin).href,\n      locale: \"en_IE\",\n      title: \"KinetsHub | The Open Source Learning Management System for Companies\",\n      description: \"A flexible, user-friendly platform for creating, managing, and delivering courses for companies and training organisations\",\n      siteName: \"KinetsHub\",\n      images: [\n        {\n          url: \"https://brand.cdn.clsrio.com/og/classroomio-og.png\",\n          alt: \"KinetsHub OG Image\",\n          width: 1920,\n          height: 1080,\n          secureUrl: \"https://brand.cdn.clsrio.com/og/classroomio-og.png\",\n          type: \"image/jpeg\"\n        }\n      ]\n    },\n    twitter: {\n      handle: \"@classroomio\",\n      site: \"@classroomio\",\n      cardType: \"summary_large_image\",\n      title: \"ClassroomIO | The Open Source Learning Management System for Companies\",\n      description: \"A flexible, user-friendly platform for creating, managing, and delivering courses for companies and training organisations\",\n      image: \"https://brand.cdn.clsrio.com/og/classroomio-og.png\",\n      imageAlt: \"ClassroomIO OG Image\"\n    }\n  });\n}\nfunction getSubdomain(url) {\n  const host = url.host.replace(\"www.\", \"\");\n  const parts = host.split(\".\");\n  if (host.endsWith(private_env.PRIVATE_APP_HOST)) {\n    return parts.length >= 3 ? parts[0] : null;\n  }\n  return null;\n}\nexport {\n  load\n};\n//# sourceMappingURL=_layout.server.ts.js.map\n","import * as server from '../entries/pages/_layout.server.ts.js';\n\nexport const index = 0;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+layout.server.ts\";\nexport const imports = [\"_app/immutable/nodes/0.fe6acf45.js\",\"_app/immutable/chunks/scheduler.ee52cacd.js\",\"_app/immutable/chunks/index.a2391391.js\",\"_app/immutable/chunks/globals.f8c38982.js\",\"_app/immutable/chunks/spread.5cc747ed.js\",\"_app/immutable/chunks/each.4f9c2159.js\",\"_app/immutable/chunks/index.8c9a3a3e.js\",\"_app/immutable/chunks/index.45ef5fca.js\",\"_app/immutable/chunks/navigation.4bf4851d.js\",\"_app/immutable/chunks/singletons.333ce4a3.js\",\"_app/immutable/chunks/stores.5de49fb7.js\",\"_app/immutable/chunks/isEmpty.f6f5efd6.js\",\"_app/immutable/chunks/supabase.2c784bff.js\",\"_app/immutable/chunks/preload-helper.0639fc73.js\",\"_app/immutable/chunks/org.1ee4885a.js\",\"_app/immutable/chunks/index.403f118a.js\",\"_app/immutable/chunks/get.c5ebb55c.js\",\"_app/immutable/chunks/isSymbol.9bd2fb8d.js\",\"_app/immutable/chunks/Rocket.cbc98465.js\",\"_app/immutable/chunks/index.6192f669.js\",\"_app/immutable/chunks/SkeletonPlaceholder.85251fa5.js\",\"_app/immutable/chunks/SkeletonText.4f748957.js\",\"_app/immutable/chunks/getCurrencyFormatter.392a4e64.js\",\"_app/immutable/chunks/index.550ce75a.js\",\"_app/immutable/chunks/translations.f943b7b3.js\",\"_app/immutable/chunks/index.89e0ac82.js\",\"_app/immutable/chunks/RadioButtonChecked.77d3c8da.js\",\"_app/immutable/chunks/course.f6cde1df.js\",\"_app/immutable/chunks/ImageLoader.531bb295.js\",\"_app/immutable/chunks/CaretRight.c02921e3.js\",\"_app/immutable/chunks/Tag.87ac45b2.js\",\"_app/immutable/chunks/Close.999bfca1.js\",\"_app/immutable/chunks/validator.b0d7db8b.js\",\"_app/immutable/chunks/validateEmail.f14e5c64.js\",\"_app/immutable/chunks/TextField.05bb724d.js\",\"_app/immutable/chunks/index.e68f3ff9.js\",\"_app/immutable/chunks/user.9ccdc884.js\",\"_app/immutable/chunks/app.0a7d2343.js\",\"_app/immutable/chunks/index.6649ce47.js\",\"_app/immutable/chunks/CoursesEmptyIcon.6beb1fc2.js\",\"_app/immutable/chunks/store.9800a6a8.js\",\"_app/immutable/chunks/index.90bb86b1.js\",\"_app/immutable/chunks/TextArea.af35e63e.js\",\"_app/immutable/chunks/HTMLRender.93b52c11.js\",\"_app/immutable/chunks/Popover.d830a8b5.js\",\"_app/immutable/chunks/store.1f8b3295.js\",\"_app/immutable/chunks/PoweredBy.716d12d0.js\",\"_app/immutable/chunks/ChevronRight.32b7b090.js\",\"_app/immutable/chunks/Column.85a33c57.js\",\"_app/immutable/chunks/index.bf0b6763.js\",\"_app/immutable/chunks/ArrowLeft.eacc72f9.js\",\"_app/immutable/chunks/app.bd3189d3.js\",\"_app/immutable/chunks/store.0b901476.js\",\"_app/immutable/chunks/index.4cadf3f1.js\",\"_app/immutable/chunks/Text.40bcd65a.js\",\"_app/immutable/chunks/store.21c1b842.js\",\"_app/immutable/chunks/ErrorFilled.c75c44fe.js\",\"_app/immutable/chunks/WarningAltFilled.a18ba147.js\",\"_app/immutable/chunks/Locked.d4110ef1.js\",\"_app/immutable/chunks/index.691cdcca.js\",\"_app/immutable/chunks/index.5d9eba69.js\",\"_app/immutable/chunks/axios.49bc0800.js\",\"_app/immutable/chunks/Settings.88886624.js\",\"_app/immutable/chunks/constants.35eea698.js\",\"_app/immutable/chunks/CheckmarkOutline.0b1688ef.js\",\"_app/immutable/chunks/index.9237e2d9.js\",\"_app/immutable/chunks/store.f203a796.js\",\"_app/immutable/chunks/index.523fac41.js\",\"_app/immutable/chunks/date.4043184d.js\",\"_app/immutable/chunks/dayjs.min.1a74010f.js\",\"_app/immutable/chunks/Add.efc40c97.js\",\"_app/immutable/chunks/TrashCan.b6b32865.js\",\"_app/immutable/chunks/index.f39bbea9.js\",\"_app/immutable/chunks/index.2f8954c4.js\",\"_app/immutable/chunks/org.214021e8.js\",\"_app/immutable/chunks/routes.b19e6fa5.js\",\"_app/immutable/chunks/useMobile.7962b2bd.js\",\"_app/immutable/chunks/theme.5ef85a9d.js\",\"_app/immutable/chunks/index.287abee1.js\",\"_app/immutable/chunks/Toggle.f83aed0d.js\",\"_app/immutable/chunks/SelectItem.b7c50800.js\",\"_app/immutable/chunks/ChevronDown.55b97967.js\"];\nexport const stylesheets = [\"_app/immutable/assets/0.231d4e58.css\",\"_app/immutable/assets/ArrowUp.baf5064f.css\",\"_app/immutable/assets/index.95d9f026.css\",\"_app/immutable/assets/index.8b642df3.css\",\"_app/immutable/assets/TextField.963919e0.css\",\"_app/immutable/assets/index.5a0592f8.css\",\"_app/immutable/assets/TextArea.37048e21.css\",\"_app/immutable/assets/index.b04b4802.css\",\"_app/immutable/assets/Text.2eef1a2a.css\",\"_app/immutable/assets/index.f910ccfb.css\",\"_app/immutable/assets/index.1ede2f13.css\",\"_app/immutable/assets/index.9757e74d.css\",\"_app/immutable/assets/index.aa635e36.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}