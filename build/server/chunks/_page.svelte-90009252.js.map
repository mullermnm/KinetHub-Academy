{"version":3,"file":"_page.svelte-90009252.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/lms/_page.svelte.js"],"sourcesContent":[";\n!function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {}, n = new Error().stack;\n    n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"c55f8179-2c0f-4419-873c-4a6742287f42\", e._sentryDebugIdIdentifier = \"sentry-dbid-c55f8179-2c0f-4419-873c-4a6742287f42\");\n  } catch (e2) {\n  }\n}();\nimport { s as subscribe, a as set_store_value } from \"../../../chunks/utils.js\";\nimport { c as create_ssr_component, e as escape, b as each, a as add_attribute, v as validate_component } from \"../../../chunks/ssr.js\";\nimport { P as PrimaryButton, V as VARIANTS } from \"../../../chunks/index11.js\";\nimport { g as goto } from \"../../../chunks/navigation.js\";\nimport { C as CoursesEmptyIcon } from \"../../../chunks/CoursesEmptyIcon.js\";\nimport { a as courses, c as courseMetaDeta } from \"../../../chunks/store5.js\";\nimport { t } from \"../../../chunks/translations.js\";\nimport { p as profile } from \"../../../chunks/user.js\";\nimport { a as currentOrg } from \"../../../chunks/org.js\";\nimport { t as fetchCourses } from \"../../../chunks/index18.js\";\nimport { g as getGreeting } from \"../../../chunks/date.js\";\nimport { V as VisitOrgSite } from \"../../../chunks/VisitOrgSite.js\";\nconst Learning = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let last3Courses;\n  let $courses, $$unsubscribe_courses;\n  let $t, $$unsubscribe_t;\n  $$unsubscribe_courses = subscribe(courses, (value) => $courses = value);\n  $$unsubscribe_t = subscribe(t, (value) => $t = value);\n  const gotoCourse = (id) => {\n    if (!id)\n      return;\n    goto(`/courses/${id}/lessons?next=true`);\n  };\n  last3Courses = $courses.length > 0 ? $courses.slice(0, 3) : [];\n  $$unsubscribe_courses();\n  $$unsubscribe_t();\n  return `<section class=\"h-full\"><p class=\"text-base font-semibold text-[#040F2D] pb-3 dark:text-white\">${escape($t(\"dashboard.current_lesson\"))}</p> <div class=\"flex items-center flex-col border border-[#EAEAEA] dark:bg-neutral-800 gap-2 rounded w-full lg:h-[40vh] p-3\">${last3Courses.length > 0 ? `<div class=\"w-full h-full flex flex-col justify-start overflow-y-auto\">${each(last3Courses, (course) => {\n    return `<div class=\"p-5\"><span class=\"flex flex-col lg:flex-row gap-3 items-start pb-5\"><img${add_attribute(\"src\", course.logo || \"/images/classroomio-course-img-template.jpg\", 0)} alt=\"course\" class=\"hidden lg:block lg:w-[60px] lg:h-[60px]\"> <div class=\"w-full\"><p class=\"text-base font-semibold dark:text-white\">${escape(course.title)}</p> <p class=\"line-clamp-2 text-xs font-normal text-[#656565] dark:text-white\">${escape(course.description)} </p></div> ${validate_component(PrimaryButton, \"PrimaryButton\").$$render(\n      $$result,\n      {\n        label: $t(\"dashboard.continue\"),\n        variant: VARIANTS.OUTLINED,\n        className: \"rounded-none text-[#0233BD]\",\n        onClick: () => gotoCourse(course.id)\n      },\n      {},\n      {}\n    )}</span> <div class=\"relative bg-[#EAEAEA] w-full h-1\"><div style=\"${\"width: \" + escape(Math.round((course?.progress_rate ?? 0) / (course?.total_lessons ?? 0) * 100) || 0, true) + \"%\"}\"${add_attribute(\"class\", `absolute top-0 left-0 bg-primary-700 h-full`, 0)}></div></div> </div>`;\n  })}</div>` : `<div class=\"flex flex-col items-center\">${validate_component(CoursesEmptyIcon, \"CoursesEmptyIcon\").$$render($$result, {}, {}, {})} <h3 class=\"text-center\">${escape($t(\"dashboard.no_courses\"))}</h3> <p class=\"w-[75%] text-center\">${escape($t(\"dashboard.start_course\"))}</p></div>`}</div></section>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $courses, $$unsubscribe_courses;\n  let $currentOrg, $$unsubscribe_currentOrg;\n  let $profile, $$unsubscribe_profile;\n  let $courseMetaDeta, $$unsubscribe_courseMetaDeta;\n  let $t, $$unsubscribe_t;\n  $$unsubscribe_courses = subscribe(courses, (value) => $courses = value);\n  $$unsubscribe_currentOrg = subscribe(currentOrg, (value) => $currentOrg = value);\n  $$unsubscribe_profile = subscribe(profile, (value) => $profile = value);\n  $$unsubscribe_courseMetaDeta = subscribe(courseMetaDeta, (value) => $courseMetaDeta = value);\n  $$unsubscribe_t = subscribe(t, (value) => $t = value);\n  let hasFetched = false;\n  let progressPercentage = 0;\n  let totalLessons = 0;\n  let totalCompleted = 0;\n  async function getCourses(userId, orgId) {\n    if (hasFetched || !userId || !orgId) {\n      return;\n    }\n    if (!$courses.length) {\n      set_store_value(courseMetaDeta, $courseMetaDeta.isLoading = true, $courseMetaDeta);\n    }\n    const coursesResult = await fetchCourses(userId, orgId);\n    console.log(`coursesResult`, coursesResult);\n    set_store_value(courseMetaDeta, $courseMetaDeta.isLoading = false, $courseMetaDeta);\n    if (!coursesResult)\n      return;\n    courses.set(coursesResult.allCourses);\n    hasFetched = true;\n  }\n  function calcTotalProgress(courses2) {\n    totalCompleted = courses2.reduce((acc, cur) => acc + (cur.progress_rate || 0), 0);\n    totalLessons = courses2.reduce((acc, cur) => acc + (cur.total_lessons || 0), 0);\n    progressPercentage = Math.round(totalCompleted / totalLessons * 100) || 0;\n  }\n  {\n    getCourses($profile.id, $currentOrg.id);\n  }\n  {\n    calcTotalProgress($courses);\n  }\n  $$unsubscribe_courses();\n  $$unsubscribe_currentOrg();\n  $$unsubscribe_profile();\n  $$unsubscribe_courseMetaDeta();\n  $$unsubscribe_t();\n  return `${$$result.head += `<!-- HEAD_svelte-1xr77q2_START -->${$$result.title = `<title>Student Dashboard - KinetsHub</title>`, \"\"}<!-- HEAD_svelte-1xr77q2_END -->`, \"\"} <section class=\"max-w-6xl gap-5 mx-auto\"><div class=\"m-5\"><div class=\"flex items-center justify-between mb-10\"><h1 class=\"dark:text-white text-2xl md:text-3xl font-bold\">${escape($t(getGreeting()))} ${escape($profile.fullname)}!</h1> ${validate_component(VisitOrgSite, \"VisitOrgSiteButton\").$$render($$result, { isLMS: true }, {}, {})}</div> <div class=\"w-full h-fit lg:h-[265px] flex md:items-center justify-between flex-col-reverse md:flex-row p-5 lg:p-10 rounded-md bg-primary-900 my-2\"><div class=\"w-full md:w-[75%] lg:w-[80%]\"><p class=\"text-white text-xs lg:text-xl font-normal mb-5\">${escape($currentOrg.customization.dashboard.bannerText ? $currentOrg.customization.dashboard.bannerText : $t(\"dashboard.lms_dashboard_hero\"))}</p> ${validate_component(PrimaryButton, \"PrimaryButton\").$$render(\n    $$result,\n    {\n      label: $t(\"dashboard.dont\"),\n      variant: VARIANTS.CONTAINED_WHITE,\n      onClick: () => goto(\"/lms/mylearning\")\n    },\n    {},\n    {}\n  )}</div> <img${add_attribute(\n    \"src\",\n    $currentOrg.customization.dashboard.bannerImage ? $currentOrg.customization.dashboard.bannerImage : \"/images/student-learning.svg\",\n    0\n  )} alt=\"student Learning Pictogram\" class=\"w-28 md:block md:w-1/3 lg:w-[275px] lg:h-[205px] mb-3 md:mb-0\"></div> <section class=\"flex w-full flex-col lg:flex-row md:gap-5\"><div class=\"w-full lg:w-[50%] mt-10 xl:mt-2\">${validate_component(Learning, \"Learning\").$$render($$result, {}, {}, {})}</div> <div class=\"mt-10 xl:mt-2 w-full lg:w-[50%]\"><p class=\"text-base font-semibold text-[#040F2D] pb-3 dark:text-white\">${escape($t(\"dashboard.your_progress\"))}</p> <div class=\"flex items-center justify-center border border-[#EAEAEA] dark:bg-neutral-800 gap-2 rounded h-fit lg:h-[40vh] lg:overflow-y-auto p-3\"><div class=\"w-full h-full flex flex-col sm:flex-row xl:flex-col items-center justify-between lg:items-center xl:items-start gap-5 lg:justify-around\"><div data-svelte-h=\"svelte-1ohpt79\"><img src=\"/images/target.svg\" alt=\"student Learning score\"></div> <span class=\"text-center xl:text-start\"><p class=\"text-base font-semibold py-2 text-[#040F2D] dark:text-white\">${escape($t(\"dashboard.your_progress\"))}</p> ${totalLessons > 0 ? `<p class=\"text-xs font-normal text-[#656565] dark:text-white\">${escape(totalCompleted)}/${escape(totalLessons)} ${escape($t(\"dashboard.lessons_completed\"))}</p>` : `<p class=\"text-xs font-normal text-[#656565] dark:text-white\">${escape($t(\"dashboard.No_courses_started\"))}</p>`}</span> <h1 class=\"text-5xl lg:text-6xl font-bold text-[#262626] dark:text-white my-0 whitespace-nowrap\">${escape(progressPercentage)} %</h1></div></div></div></section></div></section>`;\n});\nexport {\n  Page as default\n};\n//# sourceMappingURL=_page.svelte.js.map\n"],"names":["t"],"mappings":"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"}