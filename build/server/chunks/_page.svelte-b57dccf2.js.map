{"version":3,"file":"_page.svelte-b57dccf2.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/forgot/_page.svelte.js"],"sourcesContent":[";\n!function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {}, n = new Error().stack;\n    n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"283c3ace-6810-46e1-bfb6-2f3184425b57\", e._sentryDebugIdIdentifier = \"sentry-dbid-283c3ace-6810-46e1-bfb6-2f3184425b57\");\n  } catch (e2) {\n  }\n}();\nimport { c as create_ssr_component, v as validate_component, e as escape } from \"../../../chunks/ssr.js\";\nimport { g as goto } from \"../../../chunks/navigation.js\";\nimport { T as TextField } from \"../../../chunks/TextField.js\";\nimport { V as VARIANTS, P as PrimaryButton } from \"../../../chunks/index11.js\";\nimport { g as getSupabase } from \"../../../chunks/supabase.js\";\nimport { f as forgotValidation } from \"../../../chunks/validator.js\";\nimport { a as ROUTE } from \"../../../chunks/routes.js\";\nimport { F as FORGOT_PASSWORD_FIELDS } from \"../../../chunks/authentication.js\";\nimport { A as AuthUI } from \"../../../chunks/index29.js\";\nconst EmailSentIcon = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M85.3281 31H34.6719C33.4724 31 32.5 31.9724 32.5 33.1719V70.8281C32.5 72.0276 33.4724 73 34.6719 73H85.3281C86.5276 73 87.5 72.0276 87.5 70.8281V33.1719C87.5 31.9724 86.5276 31 85.3281 31ZM34.6719 27C31.2632 27 28.5 29.7632 28.5 33.1719V70.8281C28.5 74.2368 31.2632 77 34.6719 77H85.3281C88.7368 77 91.5 74.2368 91.5 70.8281V33.1719C91.5 29.7632 88.7368 27 85.3281 27H34.6719Z\" fill=\"#0233BD\"></path><rect x=\"40.9844\" y=\"37.875\" width=\"36.4141\" height=\"3.08594\" rx=\"1.54297\" fill=\"#658DFE\"></rect><rect x=\"40.9844\" y=\"44.0469\" width=\"36.4141\" height=\"3.08594\" rx=\"1.54297\" fill=\"#658DFE\"></rect><rect x=\"40.9844\" y=\"50.2188\" width=\"36.4141\" height=\"3.08594\" rx=\"1.54297\" fill=\"#658DFE\"></rect><path d=\"M23 94.0391V62.5938H97V94.0391C97 96.067 95.356 97.7109 93.3281 97.7109H26.6719C24.644 97.7109 23 96.067 23 94.0391Z\" fill=\"#658DFE\" stroke=\"#0233BD\" stroke-width=\"5\"></path></svg>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let supabase = getSupabase();\n  let fields = Object.assign({}, FORGOT_PASSWORD_FIELDS);\n  let submitError;\n  let loading = false;\n  let success = false;\n  let errors = {};\n  async function handleSubmit() {\n    errors = forgotValidation(fields);\n    console.log(\"errors\", errors);\n    if (Object.keys(errors).length) {\n      return;\n    }\n    try {\n      loading = true;\n      const { data, error } = await supabase.auth.resetPasswordForEmail(fields.email, {\n        redirectTo: `${window.location.origin}/reset`\n      });\n      console.log(\"data\", data);\n      if (error)\n        throw error;\n      success = true;\n    } catch (error) {\n      submitError = error.error_description || error.message;\n    } finally {\n      loading = false;\n    }\n  }\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `${$$result.head += `<!-- HEAD_svelte-1pp4lsd_START -->${$$result.title = `<title>Reset Password - KinetsHub</title>`, \"\"}<!-- HEAD_svelte-1pp4lsd_END -->`, \"\"} ${validate_component(AuthUI, \"AuthUI\").$$render(\n      $$result,\n      {\n        supabase,\n        handleSubmit,\n        showOnlyContent: true,\n        showLogo: !success\n      },\n      {},\n      {\n        default: () => {\n          return `${success ? `<div class=\"mt-4 w-full flex items-center justify-center flex-col\">${validate_component(EmailSentIcon, \"EmailSentIcon\").$$render($$result, {}, {}, {})} <h3 class=\"dark:text-white text-xl font-semibold my-3\" data-svelte-h=\"svelte-1ae3m7y\">Email Sent!</h3> <p class=\"dark:text-white text-md mb-6 text-center\">We have sent a confirmation email to <span class=\"text-primary-700\">${escape(fields.email)}</span>.\n        Kindly check your inbox to reset password or spam to reset your password.</p></div> <div class=\"my-4 w-full flex justify-end items-center flex-col\">${validate_component(PrimaryButton, \"PrimaryButton\").$$render(\n            $$result,\n            {\n              label: \"Okay\",\n              type: \"button\",\n              className: \"sm:w-full w-full mb-4\",\n              onClick: () => goto(ROUTE.LOGIN)\n            },\n            {},\n            {}\n          )}</div>` : `<div class=\"mt-4 w-full\"><h3 class=\"dark:text-white text-xl font-semibold my-3\" data-svelte-h=\"svelte-1itzpaf\">Forgot Password</h3> <p class=\"dark:text-white text-sm mb-6\" data-svelte-h=\"svelte-1skc1ql\">We will send you a reset link to your email</p> ${validate_component(TextField, \"TextField\").$$render(\n            $$result,\n            {\n              label: \"Your email\",\n              type: \"email\",\n              autoFocus: true,\n              placeholder: \"you@domain.com\",\n              className: \"mb-6\",\n              inputClassName: \"w-full\",\n              isDisabled: loading,\n              errorMessage: errors.email,\n              value: fields.email\n            },\n            {\n              value: ($$value) => {\n                fields.email = $$value;\n                $$settled = false;\n              }\n            },\n            {}\n          )} ${submitError ? `<p class=\"text-sm text-red-500\">${escape(submitError)}</p>` : ``}</div> <div class=\"my-4 w-full flex justify-end items-center flex-col\">${validate_component(PrimaryButton, \"PrimaryButton\").$$render(\n            $$result,\n            {\n              label: \"Reset Password\",\n              type: \"submit\",\n              className: \"sm:w-full w-full mb-4\",\n              isDisabled: loading,\n              isLoading: loading\n            },\n            {},\n            {}\n          )} ${validate_component(PrimaryButton, \"PrimaryButton\").$$render(\n            $$result,\n            {\n              label: \"Cancel\",\n              type: \"button\",\n              className: \"sm:w-full w-full text-primary-700\",\n              variant: VARIANTS.NONE,\n              onClick: () => goto(ROUTE.LOGIN)\n            },\n            {},\n            {}\n          )}</div>`}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n//# sourceMappingURL=_page.svelte.js.map\n"],"names":[],"mappings":"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"}