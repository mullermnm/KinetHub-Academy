{"version":3,"file":"_server-6ff6f2e8.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/lmz/subscribe/_server.js"],"sourcesContent":[";\n!function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {}, n = new Error().stack;\n    n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"628e0570-0960-4779-9942-c2b30dee74c6\", e._sentryDebugIdIdentifier = \"sentry-dbid-628e0570-0960-4779-9942-c2b30dee74c6\");\n  } catch (e2) {\n  }\n}();\nimport { j as json } from \"../../../../../chunks/index.js\";\nimport { createCheckout } from \"@lemonsqueezy/lemonsqueezy.js\";\nimport { b as private_env } from \"../../../../../chunks/shared-server.js\";\nimport { c as configureLemonSqueezy } from \"../../../../../chunks/index5.js\";\nimport \"../../../../../chunks/_sentry-release-injection-file.js\";\nasync function POST({ request }) {\n  const { email, name, orgId, productId, triggeredBy } = await request.json();\n  await configureLemonSqueezy();\n  if (!productId) {\n    return json({ success: false, message: \"Product Id is required\" }, { status: 400 });\n  }\n  const checkoutData = {\n    email,\n    name,\n    custom: {\n      org_id: orgId,\n      triggered_by: `${triggeredBy}`\n    }\n  };\n  console.log({ checkoutData });\n  const { data } = await createCheckout(private_env.LEMON_SQUEEZY_STORE_ID, productId, {\n    checkoutData\n  });\n  const checkoutURL = data?.data.attributes.url;\n  console.log({ checkoutURL });\n  return json({\n    success: true,\n    checkoutURL\n  });\n}\nexport {\n  POST\n};\n//# sourceMappingURL=_server.js.map\n"],"names":[],"mappings":";;;;;;AACA,CAAC,WAAW;AACZ,EAAE,IAAI;AACN,IAAI,IAAI,CAAC,GAAG,WAAW,IAAI,OAAO,MAAM,GAAG,MAAM,GAAG,WAAW,IAAI,OAAO,MAAM,GAAG,MAAM,GAAG,WAAW,IAAI,OAAO,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC,KAAK,CAAC;AAC1J,IAAI,CAAC,KAAK,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,eAAe,IAAI,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,sCAAsC,EAAE,CAAC,CAAC,wBAAwB,GAAG,kDAAkD,CAAC,CAAC;AACvM,GAAG,CAAC,OAAO,EAAE,EAAE;AACf,GAAG;AACH,CAAC,EAAE,CAAC;AAMJ,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AAC9E,EAAE,MAAM,qBAAqB,EAAE,CAAC;AAChC,EAAE,IAAI,CAAC,SAAS,EAAE;AAClB,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,wBAAwB,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AACxF,GAAG;AACH,EAAE,MAAM,YAAY,GAAG;AACvB,IAAI,KAAK;AACT,IAAI,IAAI;AACR,IAAI,MAAM,EAAE;AACZ,MAAM,MAAM,EAAE,KAAK;AACnB,MAAM,YAAY,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;AACpC,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC;AAChC,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,cAAc,CAAC,WAAW,CAAC,sBAAsB,EAAE,SAAS,EAAE;AACvF,IAAI,YAAY;AAChB,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,WAAW,GAAG,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;AAChD,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC;AAC/B,EAAE,OAAO,IAAI,CAAC;AACd,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,WAAW;AACf,GAAG,CAAC,CAAC;AACL;;;;"}